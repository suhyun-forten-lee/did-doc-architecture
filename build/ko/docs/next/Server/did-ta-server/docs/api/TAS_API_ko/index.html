<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Server/did-ta-server/docs/api/TAS_API_ko" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">TAS API | OmniOneID</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/architecture/ko/img/docusaurus-social-card.jpeg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/architecture/ko/img/docusaurus-social-card.jpeg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TAS API | OmniOneID"><meta data-rh="true" name="description" content="- 일자: 2024-09-03"><meta data-rh="true" property="og:description" content="- 일자: 2024-09-03"><link data-rh="true" rel="icon" href="/architecture/ko/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/architecture/docs/next/Server/did-ta-server/docs/api/TAS_API_ko" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko" hreflang="ko"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/architecture/docs/next/Server/did-ta-server/docs/api/TAS_API_ko" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/architecture/ko/blog/rss.xml" title="OmniOneID RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/architecture/ko/blog/atom.xml" title="OmniOneID Atom Feed"><link rel="stylesheet" href="/architecture/ko/assets/css/styles.ceea0820.css">
<script src="/architecture/ko/assets/js/runtime~main.103bace2.js" defer="defer"></script>
<script src="/architecture/ko/assets/js/main.8d87db70.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="메인" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="사이드바 펼치거나 접기" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/architecture/ko/"><div class="navbar__logo"><img src="/architecture/ko/img/omnione.jpeg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/architecture/ko/img/omnione.jpeg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OmniOne Open DID</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko">Next</a></li><li><a class="dropdown__link" href="/architecture/ko/docs/Server/did-ta-server/docs/api/TAS_API_ko">1.200</a></li><li><a class="dropdown__link" href="/architecture/ko/docs/1.100/Server/did-ta-server/docs/api/TAS_API_ko">1.100</a></li><li><a class="dropdown__link" href="/architecture/ko/docs/1.000/Server/did-ta-server/docs/api/TAS_API_ko">1.000</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>한국어</a><ul class="dropdown__menu"><li><a href="/architecture/docs/next/Server/did-ta-server/docs/api/TAS_API_ko" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ko">한국어</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/architecture/ko/docs/next/Architecture/architecture/Software Architecture">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OmniOneID" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="문서 사이드바" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/architecture/ko/docs/next/Architecture/architecture/Software Architecture">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/architecture/ko/docs/next/SDK/did-blockchain-sdk-server/">SDK</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/architecture/ko/docs/next/Server/did-api-server/">Server</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/architecture/ko/docs/next/Server/did-api-server/">API Gateway Server</a><button aria-label="사이드바 분류 &#x27;API Gateway Server&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/architecture/ko/docs/next/Server/did-issuer-server/">Issuer Server</a><button aria-label="사이드바 분류 &#x27;Issuer Server&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/">TAS(Trust Agent Service) Server</a><button aria-label="사이드바 분류 &#x27;TAS(Trust Agent Service) Server&#x27; 접기" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/CHANGELOG">Changelog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/CLA">Individual Software Grant and Contributor License Agreement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/CODE_OF_CONDUCT">Contributor Covenant Code of Conduct</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/CONTRIBUTING">Contribution Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/MAINTAINERS">Maintainers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/RELEASE-PROCESS">Release Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/SECURITY">Security Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/dependencies-license">Project Dependency License Report</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko">docs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko">api</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/docs/api/TAS_API_ko">TAS API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/docs/db/OpenDID_TableDefinition_TAS">db</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/docs/errorCode/TAS_ErrorCode">errorCode</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/architecture/ko/docs/next/Server/did-ta-server/docs/installation/OpenDID_TASServer_InstallationAndOperation_Guide">installation</a></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/architecture/ko/docs/next/Server/did-verifier-server/">Verifier Server</a><button aria-label="사이드바 분류 &#x27;Verifier Server&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/architecture/ko/docs/next/Server/did-wallet-server/">Wallet Server</a><button aria-label="사이드바 분류 &#x27;Wallet Server&#x27; 펼치기" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>OmniOneID<!-- --> <b>Next</b> 문서는 아직 정식 공개되지 않았습니다.</div><div class="margin-top--md">최신 문서는 <b><a href="/architecture/ko/docs/Server/did-ta-server/docs/api/TAS_API_ko">최신 버전</a></b> (<!-- -->1.200<!-- -->)을 확인하세요.</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/architecture/ko/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Server</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/architecture/ko/docs/next/Server/did-ta-server/"><span itemprop="name">TAS(Trust Agent Service) Server</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">docs</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">api</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TAS API</span><meta itemprop="position" content="5"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">버전: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><header><h1>TAS API</h1></header>
<ul>
<li>일자: 2024-09-03</li>
<li>버전: v1.0.0</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="목차">목차<a href="#목차" class="hash-link" aria-label="목차에 대한 직접 링크" title="목차에 대한 직접 링크">​</a></h2>
<ul>
<li><a href="#1-%EA%B0%9C%EC%9A%94">1. 개요</a></li>
<li><a href="#2-%EC%9A%A9%EC%96%B4-%EC%84%A4%EB%AA%85">2. 용어 설명</a></li>
<li><a href="#3-api-%EB%AA%A9%EB%A1%9D">3. API 목록</a>
<ul>
<li><a href="#31-%EC%88%9C%EC%B0%A8-api">3.1. 순차 API</a></li>
<li><a href="#32-%EB%8B%A8%EC%9D%BC%ED%98%B8%EC%B6%9C-api">3.2. 단일호출 API</a></li>
</ul>
</li>
<li><a href="#4-p110---tas-%EB%93%B1%EB%A1%9D-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">4. P110 - TAS 등록 프로토콜</a>
<ul>
<li><a href="#41-request-enroll-tas">4.1. Request Enroll TAS</a></li>
</ul>
</li>
<li><a href="#5-p120---entity-%EB%93%B1%EB%A1%9D-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">5. P120 - Entity   등록 프로토콜</a>
<ul>
<li><a href="#51-propose-enroll-entity">5.1. Propose Enroll Entity</a></li>
<li><a href="#52-request-ecdh">5.2. Request ECDH</a></li>
<li><a href="#53-request-enroll-entity">5.3. Request Enroll Entity</a></li>
<li><a href="#54-confirm-enroll-entity">5.4. Confirm Enroll Entity</a></li>
</ul>
</li>
<li><a href="#6-p131---%EC%9B%94%EB%A0%9B-%EB%93%B1%EB%A1%9D-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">6. P131 - 월렛 등록 프로토콜</a>
<ul>
<li><a href="#61-request-register-wallet">6.1. Request Register Wallet</a></li>
</ul>
</li>
<li><a href="#7-p132---%EC%82%AC%EC%9A%A9%EC%9E%90-%EB%93%B1%EB%A1%9D-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">7. P132 - 사용자 등록 프로토콜</a>
<ul>
<li><a href="#71-propose-register-user">7.1. Propose Register User</a></li>
<li><a href="#72-request-ecdh">7.2. Request ECDH</a></li>
<li><a href="#73-request-create-token">7.3. Request Create Token</a></li>
<li><a href="#74-retrieve-kyc">7.4. Retrieve KYC</a></li>
<li><a href="#75-request-register-user">7.5. Request Register User</a></li>
<li><a href="#76-confirm-register-user">7.6. Confirm Register User</a></li>
</ul>
</li>
<li><a href="#8-p141---%EC%82%AC%EC%9A%A9%EC%9E%90-did-document-%EA%B0%B1%EC%8B%A0-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">8. P141 - 사용자 DID Document 갱신 프로토콜</a>
<ul>
<li><a href="#81-propose-update-diddoc">8.1. Propose Update DidDoc</a></li>
<li><a href="#82-request-ecdh">8.2. Request ECDH</a></li>
<li><a href="#83-request-create-token">8.3. Request Create Token</a></li>
<li><a href="#84-request-update-diddoc">8.4. Request Update DidDoc</a></li>
<li><a href="#85-confirm-update-diddoc">8.5. Confirm Update DidDoc</a></li>
</ul>
</li>
<li><a href="#9-p142---%EC%82%AC%EC%9A%A9%EC%9E%90-did-document-%EB%B3%B5%EA%B5%AC-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">9. P142 - 사용자 DID Document 복구 프로토콜</a>
<ul>
<li><a href="#91-offer-restore-diddoc-push">9.1. Offer Restore DidDoc (Push)</a></li>
<li><a href="#92-offer-restore-diddoc-email">9.2. Offer Restore DidDoc (Email)</a></li>
<li><a href="#93-propose-restore-diddoc">9.3. Propose Restore DidDoc</a></li>
<li><a href="#94-request-ecdh">9.4. Request ECDH</a></li>
<li><a href="#95-request-create-token">9.5. Request Create Token</a></li>
<li><a href="#96-request-restore-diddoc">9.6. Request Restore DidDoc</a></li>
<li><a href="#97-confirm-restore-diddoc">9.7. Confirm Restore DidDoc</a></li>
</ul>
</li>
<li><a href="#10-p210---vc-%EB%B0%9C%EA%B8%89-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">10. P210 - VC 발급 프로토콜</a>
<ul>
<li><a href="#101-offer-issue-vc-qr">10.1 Offer Issue VC (QR)</a></li>
<li><a href="#102-offer-issue-vc-push">10.2 Offer Issue VC (Push)</a></li>
<li><a href="#103-offer-issue-vc-email">10.3 Offer Issue VC (Email)</a></li>
<li><a href="#104-propose-issue-vc">10.4. Propose Issue VC</a></li>
<li><a href="#105-request-ecdh">10.5. Request ECDH</a></li>
<li><a href="#106-request-create-token">10.6. Request Create Token</a></li>
<li><a href="#107-request-issue-profile">10.7. Request Issue Profile</a></li>
<li><a href="#108-request-issue-vc">10.8. Request Issue VC</a></li>
<li><a href="#109-confirm-issue-vc">10.9. Confirm Issue VC</a></li>
</ul>
</li>
<li><a href="#11-p220---vc-%ED%8F%90%EA%B8%B0-%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C">11. P220 - VC 폐기 프로토콜</a>
<ul>
<li><a href="#111-propose-revoke-vc">11.1. Propose Revoke VC</a></li>
<li><a href="#112-request-ecdh">11.2. Request ECDH</a></li>
<li><a href="#113-request-create-token">11.3. Request Create Token</a></li>
<li><a href="#114-request-revoke-vc">11.4. Request Revoke VC</a></li>
<li><a href="#115-confirm-revoke-vc">11.5. Confirm Revoke VC</a></li>
</ul>
</li>
<li><a href="#12-%EB%8B%A8%EC%9D%BC-%ED%98%B8%EC%B6%9C-api">12. 단일 호출 API</a>
<ul>
<li><a href="#121-get-vcplan-list">12.1. Get VcPlan List</a></li>
<li><a href="#122-get-vcplan">12.2. Get VcPlan</a></li>
<li><a href="#123-get-allowed-ca-list">12.3. Get Allowed CA List</a></li>
<li><a href="#124-send-email">12.4. Send Email</a></li>
<li><a href="#125-send-push">12.5. Send push</a></li>
<li><a href="#126-update-push-token">12.6. Update Push Token</a></li>
<li><a href="#127-get-certificate-vc">12.7. Get Certificate Vc</a></li>
<li><a href="#128-get-vc-schema">12.8. Get Vc Schema</a></li>
<li><a href="#129-update-diddoc-deactivated">12.9. Update DidDoc Deactivated</a></li>
<li><a href="#1210-update-diddoc-revoked">12.10. Update DidDoc Revoked</a></li>
</ul>
</li>
<li><a href="#a-non-standard-object-definitions">A. Non-standard Object Definitions</a>
<ul>
<li><a href="#a1-constant">A.1. Constant</a></li>
<li><a href="#a2-emailtemplate-object">A.2. EmailTemplate Object</a></li>
<li><a href="#a3-fcmnotification-object">A.3. FcmNotification Object</a></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-개요">1. 개요<a href="#1-개요" class="hash-link" aria-label="1. 개요에 대한 직접 링크" title="1. 개요에 대한 직접 링크">​</a></h2>
<p>본 문서는 Trust Agent (TA 또는 TAS)가 제공하는 API를 정의한다.</p>
<p><img decoding="async" loading="lazy" alt="Workflow" src="/architecture/ko/assets/images/workflow_ta-125a2b6f503a6c1da28221e2aa915c2c.svg" width="1000" height="677" class="img_ev3q"></p>
<ul>
<li>상기 그림에서는 Trust Agent가 제공하거나 혹은 Trust Agent가 호출하는 프로토콜(Protocol)과 API를 표기하였으며, API는 가독성을 위하여 표준 API (Standard API)만을 표기하였다.</li>
<li>각 용어는 2장에서 설명하며, API 목록과 호출 예시 등은 3장 이후부터 확인할 수 있다.</li>
</ul>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-용어-설명">2. 용어 설명<a href="#2-용어-설명" class="hash-link" aria-label="2. 용어 설명에 대한 직접 링크" title="2. 용어 설명에 대한 직접 링크">​</a></h2>
<ul>
<li>프로토콜 (Protocol)
<ul>
<li>특정 기능을 수행하기 위해 정해진 순서에 따라 호출해야 하는 <code>순차 API</code>의 집합이다. API 호출 순서를 엄격히 따라야 하며, 순서가 잘못될 경우 예상하지 못한 결과가 발생할 수 있다.</li>
<li>프로토콜은 P로 시작하고, 3자리 숫자로 구성된다.
<ul>
<li>예시: P110 - TAS 등록 프로토콜</li>
</ul>
</li>
</ul>
</li>
<li>순차 API (Sequential API)
<ul>
<li>특정 기능(프로토콜)을 수행하기 위해 정해진 순서대로 호출하는 일련의 API를 말한다. 각 API는 순차적으로 호출되어야 하며, 순서가 잘못될 경우 제대로 동작하지 않을 수 있다.</li>
<li>그러나 일부 프로토콜에서는 같은 호출 순서를 가진 API가 존재할 수 있으며, 이 경우 하나의 API를 선택하여 호출할 수 있다.
<ul>
<li>예시: &#x27;P142 - 사용자 DID Document 복구 프로토콜&#x27;에서는 1번 호출 순서에서 <code>offer-restore-did-push</code>와 <code>offer-restore-did-email</code> 중 하나를 선택하여 호출할 수 있다.</li>
</ul>
</li>
</ul>
</li>
<li>단일 호출 API (Single Call API)
<ul>
<li>일반적인 REST API처럼 순서에 관계없이 독립적으로 호출 가능한 API를 의미한다.</li>
</ul>
</li>
<li>표준 API (Standard API)
<ul>
<li>API 문서에서 명확하게 정의된 API로, 모든 구현체에서 일관된 방식으로 제공되어야 한다. 표준 API는 시스템 간 상호 운용성을 보장하며, 사전에 정의된 스펙에 따라 동작해야 한다.</li>
</ul>
</li>
<li>비표준 API (Non-Standard API)
<ul>
<li>구현체마다 필요에 따라 다르게 정의되거나 커스터마이징될 수 있는 API이다. 본 문서에서 제공하는 비표준 API는 한 가지 예시일 뿐이며, 각 구현체에 맞춰 다르게 구현될 수 있다. 이 경우, 구현체별 별도의 문서화가 필요하다.</li>
<li>예를 들어, 이메일 전송 기능은 시스템에 따라 구현 방법이 달라질 수 있으며, <code>send-email</code> API와 같은 비표준 API는 각 구현체에서 필요한 방식으로 재정의할 수 있다.</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-api-목록">3. API 목록<a href="#3-api-목록" class="hash-link" aria-label="3. API 목록에 대한 직접 링크" title="3. API 목록에 대한 직접 링크">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-순차-api">3.1. 순차 API<a href="#31-순차-api" class="hash-link" aria-label="3.1. 순차 API에 대한 직접 링크" title="3.1. 순차 API에 대한 직접 링크">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="311-p110---tas-등록-프로토콜">3.1.1. P110 - TAS 등록 프로토콜<a href="#311-p110---tas-등록-프로토콜" class="hash-link" aria-label="3.1.1. P110 - TAS 등록 프로토콜에 대한 직접 링크" title="3.1.1. P110 - TAS 등록 프로토콜에 대한 직접 링크">​</a></h4>



















<table><thead><tr><th>Seq</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td>1</td><td><code>request-enroll-tas</code></td><td>/api/v1/request-enroll-tas</td><td>TAS 등록</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="312-p120---entity-등록-프로토콜">3.1.2. P120 - Entity 등록 프로토콜<a href="#312-p120---entity-등록-프로토콜" class="hash-link" aria-label="3.1.2. P120 - Entity 등록 프로토콜에 대한 직접 링크" title="3.1.2. P120 - Entity 등록 프로토콜에 대한 직접 링크">​</a></h4>








































<table><thead><tr><th>Seq</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td>1</td><td><code>propose-enroll-entity</code></td><td>/api/v1/propose-enroll-entity</td><td>Entity 등록 시작 요청</td><td>Y</td></tr><tr><td>2</td><td><code>request-ecdh</code></td><td>/api/v1/request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td>3</td><td><code>request-enroll-entity</code></td><td>/api/v1/request-enroll-entity</td><td>Entity 등록 요청</td><td>Y</td></tr><tr><td>4</td><td><code>confirm-enroll-entity</code></td><td>/api/v1/confirm-enroll-entity</td><td>Entity 등록 완료</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="313-p131---wallet-등록-프로토콜">3.1.3. P131 - Wallet 등록 프로토콜<a href="#313-p131---wallet-등록-프로토콜" class="hash-link" aria-label="3.1.3. P131 - Wallet 등록 프로토콜에 대한 직접 링크" title="3.1.3. P131 - Wallet 등록 프로토콜에 대한 직접 링크">​</a></h4>



















<table><thead><tr><th>Seq</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td>1</td><td><code>request-register-wallet</code></td><td>/api/v1/request-register-wallet</td><td>월렛 등록</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="314-p132---사용자-등록-프토토콜">3.1.4. P132 - 사용자 등록 프토토콜<a href="#314-p132---사용자-등록-프토토콜" class="hash-link" aria-label="3.1.4. P132 - 사용자 등록 프토토콜에 대한 직접 링크" title="3.1.4. P132 - 사용자 등록 프토토콜에 대한 직접 링크">​</a></h4>






















































<table><thead><tr><th>Seq</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td>1</td><td><code>propose-register-user</code></td><td>/api/v1/propose-register-user</td><td>사용자 등록 시작 요청</td><td>Y</td></tr><tr><td>2</td><td><code>request-ecdh</code></td><td>/api/v1/request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td>3</td><td><code>request-create-token</code></td><td>/api/v1/request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td>4</td><td><code>retrieve-kyc</code></td><td>/api/v1/retrieve-kyc</td><td>KYC 결과 회신 요청</td><td>N</td></tr><tr><td>5</td><td><code>request-register-user</code></td><td>/api/v1/request-register-user</td><td>사용자 등록 요청</td><td>Y</td></tr><tr><td>6</td><td><code>confirm-register-user</code></td><td>/api/v1/confirm-register-user</td><td>사용자 등록 완료</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="315-p141---사용자-did-document-갱신-프토토콜">3.1.5. P141 - 사용자 DID Document 갱신 프토토콜<a href="#315-p141---사용자-did-document-갱신-프토토콜" class="hash-link" aria-label="3.1.5. P141 - 사용자 DID Document 갱신 프토토콜에 대한 직접 링크" title="3.1.5. P141 - 사용자 DID Document 갱신 프토토콜에 대한 직접 링크">​</a></h4>















































<table><thead><tr><th>Seq</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td>1</td><td><code>propose-update-diddoc</code></td><td>/api/v1/propose-update-diddoc</td><td>사용자 DID Document 갱신 시작 요청</td><td>Y</td></tr><tr><td>2</td><td><code>request-ecdh</code></td><td>/api/v1/request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td>3</td><td><code>request-create-token</code></td><td>/api/v1/request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td>4</td><td><code>request-update-diddoc</code></td><td>/api/v1/request-update-diddoc</td><td>사용자 DID Document 갱신 요청</td><td>Y</td></tr><tr><td>5</td><td><code>confirm-update-diddoc</code></td><td>/api/v1/confirm-update-diddoc</td><td>사용자 DID Document 갱신 완료</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="316-p142---사용자-did-document-복구-프토토콜">3.1.6. P142 - 사용자 DID Document 복구 프토토콜<a href="#316-p142---사용자-did-document-복구-프토토콜" class="hash-link" aria-label="3.1.6. P142 - 사  용자 DID Document 복구 프토토콜에 대한 직접 링크" title="3.1.6. P142 - 사용자 DID Document 복구 프토토콜에 대한 직접 링크">​</a></h4>





























































<table><thead><tr><th>Seq</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td>1</td><td><code>offer-restore-did-push</code></td><td>/api/v1/offer-restore-did/push</td><td>사용자 DID Document Offer 요청 (Push)</td><td>N</td></tr><tr><td>1</td><td><code>offer-restore-did-email</code></td><td>/api/v1/offer-restore-did/email</td><td>사용자 DID Document Offer 요청 (Email)</td><td>N</td></tr><tr><td>2</td><td><code>propose-restore-user</code></td><td>/api/v1/propose-restore-user</td><td>사용자 DID Document 복구 시작 요청</td><td>Y</td></tr><tr><td>3</td><td><code>request-ecdh</code></td><td>/api/v1/request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td>4</td><td><code>request-create-token</code></td><td>/api/v1/request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td>5</td><td><code>request-restore-user</code></td><td>/api/v1/request-restore-user</td><td>사용자 DID Document 복구 요청</td><td>Y</td></tr><tr><td>6</td><td><code>confirm-restore-user</code></td><td>/api/v1/confirm-restore-user</td><td>사용자 DID Document 복구 완료</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="317-p210---vc-발급-프로토콜">3.1.7. P210 - VC 발급 프로토콜<a href="#317-p210---vc-발급-프로토콜" class="hash-link" aria-label="3.1.7. P210 - VC 발급 프로토콜에 대한 직접 링크" title="3.1.7. P210 - VC 발급 프로토콜에 대한 직접 링크">​</a></h4>











































































<table><thead><tr><th>Seq</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td>1</td><td><code>offer-issue-vc-qr</code></td><td>/api/v1/offer-issue-vc/qr</td><td>VC 발급 Offer 요청 (QR)</td><td>N</td></tr><tr><td>1</td><td><code>offer-issue-vc-push</code></td><td>/api/v1/offer-issue-vc/push</td><td>VC 발급 Offer 요청 (Push)</td><td>N</td></tr><tr><td>1</td><td><code>offer-issue-vc-email</code></td><td>/api/v1/offer-issue-vc/email</td><td>VC 발급 Offer 요청 (Email)</td><td>N</td></tr><tr><td>2</td><td><code>propose-issue-vc</code></td><td>/api/v1/propose-issue-vc</td><td>VC 발급 시작 요청</td><td>Y</td></tr><tr><td>3</td><td><code>request-ecdh</code></td><td>/api/v1/request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td>4</td><td><code>request-create-token</code></td><td>/api/v1/request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td>5</td><td><code>request-issue-profile</code></td><td>/api/v1/request-issue-profile</td><td>Issue Profile 요청</td><td>Y</td></tr><tr><td>6</td><td><code>request-issue-vc</code></td><td>/api/v1/request-issue-vc</td><td>VC 발급 요청</td><td>Y</td></tr><tr><td>7</td><td><code>confirm-issue-vc</code></td><td>/api/v1/confirm-issue-vc</td><td>VC 발급 완료</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="318-p220---vc-폐기-프로토콜">3.1.8. P220 - VC 폐기 프로토콜<a href="#318-p220---vc-폐기-프로토콜" class="hash-link" aria-label="3.1.8. P220 - VC 폐기 프로토콜에 대한 직접 링크" title="3.1.8. P220 - VC 폐기 프로토콜에 대한 직접 링크">​</a></h4>















































<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td><code>propose-revoke-vc</code></td><td>/api/v1/propose-revoke-vc</td><td>VC 폐기 시작 요청</td><td>Y</td></tr><tr><td style="text-align:center">2</td><td><code>request-ecdh</code></td><td>/api/v1/request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td style="text-align:center">3</td><td><code>request-create-token</code></td><td>/api/v1/request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td style="text-align:center">4</td><td><code>request-revoke-vc</code></td><td>/api/v1/request-revoke-vc</td><td>VC 폐기 요청</td><td>Y</td></tr><tr><td style="text-align:center">5</td><td><code>confirm-revoke-vc</code></td><td>/api/v1/confirm-revoke-vc</td><td>VC 폐기 완료</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:50px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-단일호출-api">3.2. 단일호출 API<a href="#32-단일호출-api" class="hash-link" aria-label="3.2. 단일호출 API에 대한 직접 링크" title="3.2. 단일호출 API에 대한 직접 링크">​</a></h3>







































































<table><thead><tr><th>API</th><th>URL</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td><code>send-email</code></td><td>/noti/api/v1/send-email</td><td>이메일 발송</td><td>N</td></tr><tr><td><code>send-push</code></td><td>/noti/api/v1/send-push</td><td>Push 전송</td><td>N</td></tr><tr><td><code>update-push-token</code></td><td>/api/v1/update-push-token</td><td>Push 토큰 업데이트</td><td>N</td></tr><tr><td><code>get-vcplan-list</code></td><td>/list/api/v1/vcplan/list</td><td>모든 VC Plan 목록 조회</td><td>Y</td></tr><tr><td><code>get-vcplan</code></td><td>/list/api/v1/vcplan/id</td><td>VC Plan 조회</td><td>Y</td></tr><tr><td><code>get-allowed-ca-list</code></td><td>/list/api/v1/allowed-ca/list</td><td>월렛에 허용된 CA 목록 조회</td><td>Y</td></tr><tr><td><code>get-certificate-vc</code></td><td>/api/v1/certificate-vc</td><td>가입증명서 조회</td><td>N</td></tr><tr><td><code>get-vcschema</code></td><td>/api/v1/vc-schema</td><td>VC 스키마 조회</td><td>N</td></tr><tr><td><code>update-diddoc-deactivated</code></td><td>/api/v1/update-diddoc-deactivated</td><td>DIDDoc 비활성화</td><td>N</td></tr><tr><td><code>update-diddoc-revoked</code></td><td>/api/v1/update-diddoc-revoked</td><td>DIDDoc 폐기</td><td>N</td></tr></tbody></table>
<blockquote>
<p><strong>주의사항</strong></p>
<ul>
<li>현재 Trust Agent는 Noti 사업자와 List 사업자의 역할도 함께 수행하고 있다. URL이 <code>noti</code>와 <code>list</code>로 시작하는 API들은 이러한 기능을 제공하는 API들이다.</li>
<li>사업자 간의 역할을 명확하게 구분하고 혼동을 방지하기 위해, 각 사업자의 API는 <strong>context path</strong>를 구별하여 구성하는 것이 좋다.
<ul>
<li>Trust Agent API: <code>/tas/api/~</code></li>
<li>List API: <code>/list/api/~</code></li>
</ul>
</li>
</ul>
</blockquote>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-p110---tas-등록-프로토콜">4. P110 - TAS 등록 프로토콜<a href="#4-p110---tas-등록-프로토콜" class="hash-link" aria-label="4. P110 - TAS 등록 프로토콜에 대한 직접 링크" title="4. P110 - TAS 등록 프로토콜에 대한 직접 링크">​</a></h2>

















<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td><code>request-enroll-tas</code></td><td>TAS 등록</td><td>Y</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-request-enroll-tas">4.1. Request Enroll TAS<a href="#41-request-enroll-tas" class="hash-link" aria-label="4.1. Request Enroll TAS에 대한 직접 링크" title="4.1. Request Enroll TAS에 대한 직접 링크">​</a></h3>
<p>사전에 등록된 정보를 바탕으로 TAS 가입증명서 VC를 발급한다.
정보 등록 시 할당된 비밀번호를 입력으로 받아 권한을 확인한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-enroll-tas</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="411-request">4.1.1. Request<a href="#411-request" class="hash-link" aria-label="4.1.1. Request에 대한 직접 링크" title="4.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M110_RequestEnrollTas: &quot;Request Enroll TAS 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + object &quot;request&quot;: &quot;request information&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        + string &quot;password&quot;: &quot;사전에 배포된 비밀번호&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/request</code>
<ul>
<li><code>password</code>: 비밀번호의 구성은 각 구현에 따른다.</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="412-response">4.1.2. Response<a href="#412-response" class="hash-link" aria-label="4.1.2. Response에 대한 직접 링크" title="4.1.2. Response에 대한 직접 링크">​</a></h4>
<p>TAS는 본 요청을 받아 TAS용 가입증명서를 발급하고 게시 주소를 응답한다.
TAS 등록을 위해 필요한 데이터는 다음과 같다.</p>
<ul>
<li>Subject DN: DN(Distinguished Name) 형태의 주체 정보</li>
<li>Role: &quot;Tas&quot;로 고정</li>
<li>Evidence 정보</li>
<li>가입증명서 VC 게시 주소</li>
</ul>
<p><strong>■ Process</strong></p>
<ol>
<li>수행 권한 확인
<ul>
<li><code>~/request/password</code>가 사전에 지정한 값과 일치하는지 확인</li>
</ul>
</li>
<li>현재 등록 가능한 상태인지 확인</li>
<li>발급을 위한 데이터 조회
<ul>
<li>subject, role, evidence, 가입증명서 VC 게시 주소 등</li>
</ul>
</li>
<li>가입증명서 VC 발급
<ul>
<li>가입증명서 VC 게시</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M110_RequestEnrollTas: &quot;Request Enroll TAS 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + url &quot;certVcRef&quot;: &quot;TAS 가입증명서 VC URL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA12010</td><td>비밀번호 불일치합니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





























<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA13001</td><td>TAS의 DID Document가 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA13003</td><td>TAS가 이미 등록된 상태입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18515</td><td>VC 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA15004</td><td>VC 메타데이터 게시에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA13006</td><td>&#x27;propose-enroll-tas&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="413-example">4.1.3. Example<a href="#413-example" class="hash-link" aria-label="4.1.3. Example에 대한 직접 링크" title="4.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-enroll-tas&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2024123111223312345600000001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;request&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;password&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VoOyEuOyal&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;: &quot;7a25a59a-3c5a-4d47-9e55-bbc9fa85a92c&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;certVcRef&quot;: &quot;https://opendid.org/cert/tas_v1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-p120---entity-등록-프로토콜">5. P120 - Entity 등록 프로토콜<a href="#5-p120---entity-등록-프로토콜" class="hash-link" aria-label="5. P120 - Entity 등록 프로토콜에 대한 직접 링크" title="5. P120 - Entity 등록 프로토콜에 대한 직접 링크">​</a></h2>



































<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>propose-enroll-entity</td><td>Entity 등록 시작 요청</td><td>Y</td></tr><tr><td style="text-align:center">2</td><td>request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td style="text-align:center">3</td><td>request-enroll-entity</td><td>Entity 등록 요청</td><td>Y</td></tr><tr><td style="text-align:center">4</td><td>confirm-enroll-entity</td><td>Entity 등록 완료</td><td>Y</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="51-propose-enroll-entity">5.1. Propose Enroll Entity<a href="#51-propose-enroll-entity" class="hash-link" aria-label="5.1. Propose Enroll Entity에 대한 직접 링크" title="5.1. Propose Enroll Entity에 대한 직접 링크">​</a></h3>
<p>각종 사업자의 entity 등록 거래를 시작한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/propose-enroll-entity</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="511-request">5.1.1. Request<a href="#511-request" class="hash-link" aria-label="5.1.1. Request에 대한 직접 링크" title="5.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M120_ProposeEnrollEntity: &quot;Propose Enroll Entity 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="512-response">5.1.2. Response<a href="#512-response" class="hash-link" aria-label="5.1.2. Response에 대한 직접 링크" title="5.1.2. Response에 대한 직접 링크">​</a></h4>
<p>거래코드를 생성하고 DID Auth를 위한 난수를 생성한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li><code>txId</code> = 거래코드 생성</li>
<li><code>authNonce</code> = DID Auth 용 16-byte nonce 생성</li>
<li><code>txId</code>, <code>authNonce</code> 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M120_ProposeEnrollEntity: &quot;Propose Enroll Entity 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;authNonce&quot;: &quot;TAS nonce for DID Auth&quot;, byte_length(16)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>
<p>N/A</p>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA14005</td><td>&#x27;propose-enroll-entity&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="513-example">5.1.3. Example<a href="#513-example" class="hash-link" aria-label="5.1.3. Example에 대한 직접 링크" title="5.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/propose-enroll-entity&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905105721157000631bff19&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;b86855ad-6793-4e15-bd1c-d44c01a87ee8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;authNonce&quot;:&quot;mxbrrv9EupAFUumfyXD9Vag&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="52-request-ecdh">5.2. Request ECDH<a href="#52-request-ecdh" class="hash-link" aria-label="5.2. Request ECDH에 대한 직접 링크" title="5.2. Request ECDH에 대한 직접 링크">​</a></h3>
<p>세션 암호화를 위한 키교환을 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-ecdh</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="521-request">5.2.1. Request<a href="#521-request" class="hash-link" aria-label="5.2.1. Request에 대한 직접 링크" title="5.2.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M120_RequestEcdh: &quot;ECDH 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ReqEcdh &quot;reqEcdh&quot;: &quot;ECDH request data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/reqEcdh</code>
<ul>
<li><code>client</code>: 클라이언트 DID</li>
<li><code>clientNonce</code>: 클라이언트가 생성한 난수</li>
<li><code>curve</code>: ECDH용 ECC 곡선 타입 (클라이언트가 하나를 지정)</li>
<li><code>publicKey</code>: 상기 <code>curve</code> 유형으로 생성한 임시키쌍의 공개키</li>
<li><code>candidate</code>
<ul>
<li><code>ciphers</code>: 클라이언트가 지원하는 cipher 알고리즘 목록</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="522-response">5.2.2. Response<a href="#522-response" class="hash-link" aria-label="5.2.2. Response에 대한 직접 링크" title="5.2.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li><code>~/reqEcdh/proof</code> 서명 검증</li>
<li>클라이언트 요청값(<code>~/reqEcdh</code>) 정합성 확인 및 cipher 알고리즘 선택
<ul>
<li><code>cipherAlg</code> = cipher 알고 리즘 선택</li>
<li><code>padding</code> = 패딩 방식 선택</li>
</ul>
</li>
<li>ECIES 세션키 생성
<ul>
<li><code>clientNonce</code> = <code>~/reqEcdh/clientNonce</code></li>
<li><code>severNonce</code> = 16-byte nonce 생성</li>
<li><code>mergedNonce</code> = sha256(serverNonce, clientNonce)</li>
<li><code>clientPubKey</code> = <code>~/reqEcdh/publicKey</code></li>
<li><code>serverPubKey</code>, <code>serverPriKey</code> = <code>~/reqEcdh/curve</code> 타입의 서버 임시키쌍 생성</li>
<li><code>sesKey</code> = ecies(serverPriKey, clientPubKey, mergedNonce, cipherAlg)</li>
</ul>
</li>
<li>ECDH 정보 저장
<ul>
<li>클라이언트 DID, 거래코드</li>
<li><code>sesKey</code>, <code>cipherAlg</code>, <code>padding</code></li>
</ul>
</li>
<li>ECDH 수락 데이터 생성 및 서명</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M120_RequestEcdh: &quot;Request ECDH 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AccEcdh &quot;accEcdh&quot;: &quot;ECDH acceptance data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/accEcdh</code>
<ul>
<li><code>server</code>: 서버 DID</li>
<li><code>serverNonce</code>: 서버가 생성한 난수</li>
<li><code>publicKey</code>: 서버가 생성한 임시키쌍의 공개키(<code>serverPubKey</code>)</li>
<li><code>cipher</code>: 클라이언트의 후보 중 서버가 선택한 cipher 알고리즘</li>
<li><code>padding</code>: 서버가 선택한 패딩 방식</li>
</ul>
</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16519</td><td>클라이언트 Nonce 처리 실패: 잘못된 Nonce입니다.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12008</td><td>지원되지 않는 Cipher Type 입니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16504</td><td>Nonce 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16506</td><td>세션키 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16521</td><td>&#x27;request-ecdh&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="523-example">5.2.3. Example<a href="#523-example" class="hash-link" aria-label="5.2.3. Example에 대한 직접 링크" title="5.2.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-ecdh&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051057215930001a8e8722&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;b86855ad-6793-4e15-bd1c-d44c01a87ee8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;reqEcdh&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;clientNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mazS27bP/XeZl1EDoF4E6sw&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;curve&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;publicKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zp7E4rrt57ELyyDfNWhMpLeeCK9i6T4bq26PmKihkxK66&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;candidate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;ciphers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;AES-128-CBC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;AES-128-ECB&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;AES-256-CBC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;AES-256-ECB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T10:57:21.392505Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer?versionId=1#keyagree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;keyAgreement&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mICxEbCOvZ3rVWtb33O4MREY+I53TZh1LV4mEZKjxYLTYUIzbzzB+zA6DD47saZFWTYuces4ZlEMNp/WyEUz6Kps&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;id&quot;:&quot;202409051057215930001a8e8722&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;b86855ad-6793-4e15-bd1c-d44c01a87ee8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;reqEcdh&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;client&quot;:&quot;did:omn:issuer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;clientNonce&quot;:&quot;mazS27bP/XeZl1EDoF4E6sw&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;curve&quot;:&quot;Secp256r1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;publicKey&quot;:&quot;zp7E4rrt57ELyyDfNWhMpLeeCK9i6T4bq26PmKihkxK66&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;candidate&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;ciphers&quot;:[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;AES-128-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;AES-128-ECB&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;AES-256-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;AES-256-ECB&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;type&quot;:&quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;created&quot;:&quot;2024-09-05T10:57:21.392505Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;verificationMethod&quot;:&quot;did:omn:issuer?versionId=1#keyagree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofPurpose&quot;:&quot;keyAgreement&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofValue&quot;:&quot;mICxEbCOvZ3rVWtb33O4MREY+I53TZh1LV4mEZKjxYLTYUIzbzzB+zA6DD47saZFWTYuces4ZlEMNp/WyEUz6Kps&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="53-request-enroll-entity">5.3. Request Enroll Entity<a href="#53-request-enroll-entity" class="hash-link" aria-label="5.3. Request Enroll Entity에 대한 직접 링크" title="5.3. Request Enroll Entity에 대한 직접 링크">​</a></h3>
<p>DID Auth 서명 검증 후 Entity 용 가입증명서 VC를 발급하고,
VC를 세션키로 암호화하여 응답한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-enroll-entity</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="531-request">5.3.1. Request<a href="#531-request" class="hash-link" aria-label="5.3.1. Request에 대한 직접 링크" title="5.3.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M120_RequestEnrollEntity: &quot;Request Enroll Entity 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + DidAuth &quot;didAuth&quot;: &quot;DID Auth data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/didAuth</code>
<ul>
<li><code>did</code>: 등록을 요청하는 entity의 DID</li>
<li><code>authNonce</code>: <code>_M120_ProposeEnrollEntity:~/authNonce</code></li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="532-response">5.3.2. Response<a href="#532-response" class="hash-link" aria-label="5.3.2. Response에 대한 직접 링크" title="5.3.2. Response에 대한 직접 링크">​</a></h4>
<p>이전에 서버가 보낸 <code>authNonce</code>를 포함하여 authentication proof를 검증한 후
가입증명서 VC를 발급한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>DID Auth 검증
<ul>
<li><code>authNonce</code>와 <code>_M120_ProposeEnrollEntity:~/authNonce</code> 일치여부 확인</li>
<li><code>didAuth/proof</code> 서명 검증</li>
</ul>
</li>
<li>발급을 위한 데이터 조회
<ul>
<li>subject, role, evidence</li>
</ul>
</li>
<li><code>vc</code> = 가입증명서 VC 발급</li>
<li>VC 세션키 암호화
<ul>
<li><code>iv</code> = 16-byte IV 생성</li>
<li><code>encVc</code> = multibase(enc(vc, sesKey, iv, padding))</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M120_RequestEnrollEntity: &quot;Request Enroll Entity 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;iv&quot;  : &quot;세션키 암복호화 IV&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;encVc&quot;: &quot;암호화된 가입증명서 VC&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>









































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16509</td><td>DID Auth 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14006</td><td>요청한 DID와 등록을 요청한 Entity와 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16520</td><td>&#x27;authNonce&#x27; 가 일치하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16509</td><td>DID Auth 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18515</td><td>VC 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA15004</td><td>VC 메타데이터 게시에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA10004</td><td>데이터 암호화에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14007</td><td>&#x27;request-enroll-entity&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="533-example">5.3.3. Example<a href="#533-example" class="hash-link" aria-label="5.3.3. Example에 대한 직접 링크" title="5.3.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-enroll-entity&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051057218230006d1055cf&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;b86855ad-6793-4e15-bd1c-d44c01a87ee8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;didAuth&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;authNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mxbrrv9EupAFUumfyXD9Vag&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T10:57:21.813619Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer?versionId=1#auth&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;authentication&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mH9aszl/8gg+HLq0KLp3nHPOwmWNjL+KWOTXdtfAFvCfmPC40cten2OuclmkYKu9+ucRdljU4CVvF+hLMt0CEyYM&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;b86855ad-6793-4e15-bd1c-d44c01a87ee8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;iv&quot;:&quot;mJITQJzWHqXkZLWScaC8xqw&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;encVc&quot;:&quot;mJ2uwCQMr4GFiLW+sgVBflh9NGZ+AZ+7Pua00E9vWIS5sBDQrBnl5Zc9wUAml9fXbCmaQgTmgVFytjr2n5wEJsumqgjYRcv+DjmJEDCxXPogsMPMVrBLwjhy2pTE163oAplLE5YOgEe437H7xXY1ok00NzgkNlVsWCUrz3aBv+yKukuV1Rq9Dhe05JBFvrwBOwNnoaXEQ1SScaQCD+XsGzvYMqBcR1VcoR1Kaadpkr9iQm11wXz+Q8FhTwQ1mFbXWcmZaWcBtUUdGHYIu2z+wuCTwYszwCAIz1etDxqMYmgPYT0c5UPuk9dZ8TDfK4qTBSW1m+o7sfk1ctyNMrnJLK5gkG9A1mi9kLBa8lM0UPo2pLBnTHCplCS49PdziknsBRN284y6DQ9SKYLFMkNJ1u4YBg6sC4gKyrL3e4Q+haDvtdqBAxKSE5W63k9Vx3NsNAGrytE3Z63sv2qMM0F4x2cRgx0Vx3LCErVw+/1//R8ZD049ON+LsywdE/NI+I55jt8tXOBlHuTMBus3QKErsxdi/mX15WnQc7LGpKcEFJ9Fad6bthSzybBw7qUDo5bMUBWeBr3r68/jowgDKD0R4ddcT9vTUuHNBgwTjomFyllJWXzy5eImowmjORlIieLcqlYbGmbViCZ281xTk5pQB7gc993eLEQyx2bSjruhLcFhqDMOg/eHV504yDwhIZ6Wnr1IYJ2Y8evJhTkqaJAAkMVG1lScgmzEPvPUNGcqQHfSMD2XMGKtjHJOBJ5axlEYbtV53r/p89a8aibLSNow1m8Nou4mXKNmJPeQA60rIqAAsF9MzmjWkT3Z056ei6qWX8xRpUX+ww4Z9uPoYtHHRcSJjEzW2QTenqTF+H3WZtxGutI3O+68BkCmXkQrc9a0yriLTWK9DEPgPgw0/oxV/haGJxo5S8boq/8AS8UAKR/+Nn5PWUkvOyiCFASKt4ue1YKhrpftRAIO21huAoVAYhcv0gj3f+gQbZsDLOFA7/2HZOlxcge7aig+vE85Flk0aumqgHuQhj0aRy59YtjWdcNKlui0TKvlXYdpe+itqTuY0inh1DUAdWslBRZJTnOgsLjVICowMLOZXXYshg4qG2uoB4lZjNxXXmwge/i+CdhE0QxyiO1phrO/owkEK2pkXGS8Wb2zDd4XiIoR8nvCo0M5nsYWDGBq9npJvNdtNjE4+kok+JclHAuj3CDDuNUOUcoBKHZ2ok0egZF2aOVpF6Ov3MQDTNHVvgKO0PGfKuzVSCstCl5fAPXInxn9dl2uoXbO2UXQdq/TBo8otMvOfP9ohh1M/1xMvN3//llTsWQFjlhXmcUfRvSEY53a3DXbj1D72QlbrJGgxbDfcDBiYWtGmJfwSzpLozDHp/Tnmgj069wde97nNGOr1yqsbkW/T3r2LBMBs/fkm3xpTOmW/LDJuaw7XRqrvJZxFoyrRWCWBUHaJsJA3GbFzo92x+uADs4k7NhhvEhDw+Gi9oCj/yAloZ9202pzLuRFJrGViGWNdvZkuuhJ2uNRQypSKtmDm7/qZZxE5rl8MsdP3kI/yme8Y02voClyi6UV6duWab2fkbBv5kYSyHB1e1o183uO6uoxtPrNG/kaSCZ98TXF5to8xMOPfvhGVE8EHV0UBiRAzFOljMPHs5JIJQxXe2e+ssSHzge1qFgzihl7xrxp2U4ljI/0V+c7igEzLw+9/FC/+B4oHx+RhuSGyuCHFSdoa/u03/W8hHH7j07473NQXuApfY0CVP2JKeLS68hNUq90IACmbVOlW330IebZ+6ed2hukZl3RXqnF9a9t4thhq95AxvY2i9Mz2E2O+TuYBdP90CjsgfF6IcVR1fHT2AW+m3UIeLDdPMp7/oUyMxVBOEK30Xo723G8Umrr6f5X+vEFk4MlVJl6up5p/YTzzuJfk&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="54-confirm-enroll-entity">5.4. Confirm Enroll Entity<a href="#54-confirm-enroll-entity" class="hash-link" aria-label="5.4. Confirm Enroll Entity에 대한 직접 링크" title="5.4. Confirm Enroll Entity에 대한 직접 링크">​</a></h3>
<p>Entity 등록 거래를 종료한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/confirm-enroll-entity</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="541-request">5.4.1. Request<a href="#541-request" class="hash-link" aria-label="5.4.1. Request에 대한 직접 링크" title="5.4.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M120_ConfirmEnrollEntity: &quot;Confirm Enroll Entity 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + vcId &quot;vcId&quot;: &quot;VC id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/vcId</code>: 발급받은 가입증명서 VC의 id</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="542-response">5.4.2. Response<a href="#542-response" class="hash-link" aria-label="5.4.2. Response에 대한 직접 링크" title="5.4.2. Response에 대한 직접 링크">​</a></h4>
<p>가입증명서 VC id 일치여부 확인 후 Entity 등록 프로토콜을 종료한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li><code>vcId</code> 일치여부 확인</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M120_ConfirmEnrollEntity: &quot;Confirm Enroll Entity 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

























<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18500</td><td>VC ID가 일치하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>
<p>N/A</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="543-example">5.4.3. Example<a href="#543-example" class="hash-link" aria-label="5.4.3. Example에 대한 직접 링크" title="5.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/confirm-enroll-entity&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905105724406000f16623c3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;b86855ad-6793-4e15-bd1c-d44c01a87ee8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;vcId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;d0a11e31-5068-491e-8de3-24bad1463f08&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;b86855ad-6793-4e15-bd1c-d44c01a87ee8&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-p131---월렛-등록-프로토콜">6. P131 - 월렛 등록 프로토콜<a href="#6-p131---월렛-등록-프로토콜" class="hash-link" aria-label="6. P131 - 월렛 등록 프로토콜에 대한 직접 링크" title="6. P131 - 월렛 등록 프로토콜에 대한 직접 링크">​</a></h2>

















<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td><code>request-register-wallet</code></td><td>Wallet 등록</td><td>Y</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-request-register-wallet">6.1. Request Register Wallet<a href="#61-request-register-wallet" class="hash-link" aria-label="6.1. Request Register Wallet에 대한 직접 링크" title="6.1. Request Register Wallet에 대한 직접 링크">​</a></h3>
<p>사용자용 모바일 월렛을 생성하고 TAS에 등록하는 절차이다.
처리 순서는 다음과 같다.</p>
<ul>
<li>월렛 DID Document 생성하고 키별 proof 추가</li>
<li>월렛 사업자가 월렛 식별자와 DID Document에 대해 서명</li>
<li>TAS에 등록
<ul>
<li>등록된 월렛 사업자인지 확인</li>
<li>월렛 사업자 서명과 DID Document 내 서명을 검증</li>
<li>DID Document를 신뢰저장소에 등록</li>
<li>월렛을 TAS에 등록</li>
</ul>
</li>
</ul>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-register-wallet</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="611-request">6.1.1. Request<a href="#611-request" class="hash-link" aria-label="6.1.1. Request에 대한 직접 링크" title="6.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M131_RequestRegisterWallet: &quot;Request Register Wallet 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AttestedDidDoc &quot;attestedDidDoc&quot;: &quot;provider attested DID Document&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/attestedDidDoc</code>
<ul>
<li><code>walletId</code>: 월렛이 생성한 월렛 식별자</li>
<li><code>ownerDidDoc</code>: Wallet DID 키 별 서명이 추가된 DID Document</li>
<li><code>provider</code>: 월렛 사업자 정보
<ul>
<li><code>did</code>: 월렛 사업자 DID</li>
<li><code>certVcRef</code>: 월렛 사업자 가입증명서 VC URL</li>
</ul>
</li>
<li><code>proof</code>: 등록 요청 정보에 대해 월렛 사업자가 서명</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="612-response">6.1.2. Response<a href="#612-response" class="hash-link" aria-label="6.1.2. Response에 대한 직접 링크" title="6.1.2. Response에 대한 직접 링크">​</a></h4>
<p>TAS는 월렛 사업자의 서명을 확인한 후 DID Document를 신뢰저장소에 등록하고
<code>walletId</code>를 식별자로 하여 월렛을 등록한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>월렛 사업자 관련 확인
<ul>
<li><code>~/attestedDidDoc/provider/did</code>가 등록된 운영중인 사업자가 맞는지 확인</li>
<li>(OPTIONAL)<code>~/attestedDidDoc/provider/certVcRef</code> 가입증명서 VC 검증</li>
</ul>
</li>
<li>Attestation proof 검증
<ul>
<li><code>~/attestedDidDoc/proof/verificationMethod</code>가 상기 provider의 DID와 일치하는지 확인</li>
<li>서명 검증(원문은 요청문 전체가 아닌 <code>~/attestedDidDoc</code> 이다)</li>
</ul>
</li>
<li>walletId 중복여부 등 확인</li>
<li>DID 키 서명 검증
<ul>
<li>(OwnerDidDoc)<code>ownerDidDoc</code> 내 proofs 서명 검증</li>
<li>(DidDoc)<code>didDoc</code> = DID Document 원문 추출</li>
</ul>
</li>
<li>DID Document를 신뢰저장소에 등록
<ul>
<li>(InvokedDidDoc)<code>invokedDidDoc</code> = <code>didDoc</code>에 대해 TAS 서명 첨부</li>
<li>신뢰저장소 등록</li>
</ul>
</li>
<li>월렛 등록정보 매핑하여 저장
<ul>
<li><code>walletId</code>, wallet DID, wallet provider DID</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M131_RequestRegisterWallet: &quot;Request Register Wallet 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17500</td><td>월렛 사업자가 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14003</td><td>Entity가 등록 완료된 상태가 아닙니다.</td></tr><tr><td style="text-align:center">SSRVTRA18510</td><td>가입증명서 VC를 찾을 수 없습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12007</td><td>Provider DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18511</td><td>유효하지 않은 가입증명서 VC의 Issuer입니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17501</td><td>Wallet ID가 이미 존재합니다.</td></tr><tr><td style="text-align:center">SSRVTRA16516</td><td>DID Document 키 서명 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA18017</td><td>Invoked Document 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18016</td><td>DID Document 등록에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17510</td><td>&#x27;request-register-wallet&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="543-example-1">5.4.3. Example<a href="#543-example-1" class="hash-link" aria-label="5.4.3. Example에 대한 직접 링크" title="5.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-register-wallet&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;6dcdde42-c0d9-4f79-82fb-128a94ce709b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;attestedDidDoc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;ownerDidDoc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;ueyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvbnMvZGlkL3YxIl0sImFzc2VydGlvbk1ldGhvZCI6WyJhc3NlcnQiXSwiYXV0aGVudGljYXRpb24iOlsiYXV0aCJdLCJjb250cm9sbGVyIjoiZGlkOm9tbjp0YXMiLCJjcmVhdGVkIjoiMjAyNC0wOS0wNVQwODoxMToxMloiLCJkZWFjdGl2YXRlZCI6ZmFsc2UsImlkIjoiZGlkOm9tbjo0R052ZUxrdmJ1R29naVdKbXRNa3ZocWV0QUQzIiwia2V5QWdyZWVtZW50IjpbImtleWFncmVlIl0sInByb29mcyI6W3siY3JlYXRlZCI6IjIwMjQtMDktMDVUMDg6MTE6MTJaIiwicHJvb2ZQdXJwb3NlIjoiYXNzZXJ0aW9uTWV0aG9kIiwicHJvb2ZWYWx1ZSI6Im1IOTA0MFdUL1Z3SHZFL1dIdXp3U1VsazJwOEwrRDlEeHJrcDEyMEllWEkrK1dpTHV1TCtvVklFeEJvMXdDaU8rZEdjZUY3T01nT1AyU0tFODVIRmpPZjQ9IiwidHlwZSI6IlNlY3AyNTZyMVNpZ25hdHVyZTIwMTgiLCJ2ZXJpZmljYXRpb25NZXRob2QiOiJkaWQ6b21uOjRHTnZlTGt2YnVHb2dpV0ptdE1rdmhxZXRBRDM_dmVyc2lvbklkPTEjYXNzZXJ0In0seyJjcmVhdGVkIjoiMjAyNC0wOS0wNVQwODoxMToxMloiLCJwcm9vZlB1cnBvc2UiOiJhdXRoZW50aWNhdGlvbiIsInByb29mVmFsdWUiOiJtSDBpWnJXaWYrdzBmVlo1eWxHcHFTMGVMZGdKRGtKNVFjRFMycFJUc0g2eGVMa3pWd1JNRlB2cktZZGsvNng4Nm5XNjFER2JValdQV0NDQ2F3b3BTcldZPSIsInR5cGUiOiJTZWNwMjU2cjFTaWduYXR1cmUyMDE4IiwidmVyaWZpY2F0aW9uTWV0aG9kIjoiZGlkOm9tbjo0R052ZUxrdmJ1R29naVdKbXRNa3ZocWV0QUQzP3ZlcnNpb25JZD0xI2F1dGgifV0sInVwZGF0ZWQiOiIyMDI0LTA5LTA1VDA4OjExOjEyWiIsInZlcmlmaWNhdGlvbk1ldGhvZCI6W3siYXV0aFR5cGUiOjEsImNvbnRyb2xsZXIiOiJkaWQ6b21uOnRhcyIsImlkIjoia2V5YWdyZWUiLCJwdWJsaWNLZXlNdWx0aWJhc2UiOiJtQTNlTnViQ2hXTnRGTkhCVDdCREVTRm15Ulc1V0hRK1gyOFZmUGdnTWVDYkQiLCJ0eXBlIjoiU2VjcDI1NnIxVmVyaWZpY2F0aW9uS2V5MjAxOCJ9LHsiYXV0aFR5cGUiOjEsImNvbnRyb2xsZXIiOiJkaWQ6b21uOnRhcyIsImlkIjoiYXV0aCIsInB1YmxpY0tleU11bHRpYmFzZSI6Im1BaTdNQWE3MEwxSGdnd0t4MER1V0NoQWVEOGpodlZkVklKSDBjemJSc0tnbSIsInR5cGUiOiJTZWNwMjU2cjFWZXJpZmljYXRpb25LZXkyMDE4In0seyJhdXRoVHlwZSI6MSwiY29udHJvbGxlciI6ImRpZDpvbW46dGFzIiwiaWQiOiJhc3NlcnQiLCJwdWJsaWNLZXlNdWx0aWJhc2UiOiJtQXFMWitISDl5S0FOSENyYU1sSGU0eFAySCtkTHpnYUpFc1pIWG54dVh4d3AiLCJ0eXBlIjoiU2VjcDI1NnIxVmVyaWZpY2F0aW9uS2V5MjAxOCJ9XSwidmVyc2lvbklkIjoiMSJ9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:wallet&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;certVcRef&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;http://192.168.3.130:8095/wallet/api/v1/certificate-vc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;462cf788a0de320fbc289fa2e6034605&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T17:11:11.612228Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:wallet?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mH21MpWJ4O2CrFa9zQKMnATapF/S2ySIBiqdK9SAKYogqCKlug0XcYPdh0rT/mTOm6u8pteftNzwE7RQmHkt5S8A&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;83edab98-b704-4303-b7fa-0d46e55d163b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-p132---사용자-등록-프로토콜">7. P132 - 사용자 등록 프로토콜<a href="#7-p132---사용자-등록-프로토콜" class="hash-link" aria-label="7. P132 - 사용자 등록 프로토콜에 대한 직접 링크" title="7. P132 - 사용자 등록 프로토콜에 대한 직접 링크">​</a></h2>















































<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>propose-register-user</td><td>사용자 등록 시작 요청</td><td>Y</td></tr><tr><td style="text-align:center">2</td><td>request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td style="text-align:center">3</td><td>request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td style="text-align:center">4</td><td>retrieve-kyc</td><td>KYC 결과 회신 요청</td><td>N</td></tr><tr><td style="text-align:center">5</td><td>request-register-user</td><td>사용자 등록 요청</td><td>Y</td></tr><tr><td style="text-align:center">6</td><td>confirm-register-user</td><td>사용자 등록 완료</td><td>Y</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="71-propose-register-user">7.1. Propose Register User<a href="#71-propose-register-user" class="hash-link" aria-label="7.1. Propose Register User에 대한 직접 링크" title="7.1. Propose Register User에 대한 직접 링크">​</a></h3>
<p>사용자 등록 거래를 시작한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/propose-register-user</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="711-request">7.1.1. Request<a href="#711-request" class="hash-link" aria-label="7.1.1. Request에 대한 직접 링크" title="7.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M132_ProposeRegisterUser: &quot;Propose Register User 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="712-response">7.1.2. Response<a href="#712-response" class="hash-link" aria-label="7.1.2. Response에 대한 직접 링크" title="7.1.2. Response에 대한 직접 링크">​</a></h4>
<p>거래코드를 생성하고 사용자 등록 거래를 시작한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li><code>txId</code> = 거래코드 생성</li>
<li><code>txId</code> 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M132_ProposeRegisterUser: &quot;Propose Register User 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>
<p>N/A</p>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17008</td><td>&#x27;propose-register-user&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="713-example">7.1.3. Example<a href="#713-example" class="hash-link" aria-label="7.1.3. Example에 대한 직접 링크" title="7.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/propose-register-user&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905165727669000CDD0FA74&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="72-request-ecdh">7.2. Request ECDH<a href="#72-request-ecdh" class="hash-link" aria-label="7.2. Request ECDH에 대한 직접 링크" title="7.2. Request ECDH에 대한 직접 링크">​</a></h3>
<p>세션 암호화를 위한 키교환을 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-ecdh</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="721-request">7.2.1. Request<a href="#721-request" class="hash-link" aria-label="7.2.1. Request에 대한 직접 링크" title="7.2.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M132_RequestEcdh: &quot;ECDH 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ReqEcdh &quot;reqEcdh&quot;: &quot;ECDH request data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/reqEcdh</code>
<ul>
<li><code>client</code>: 클라이언트 DID</li>
<li><code>clientNonce</code>: 클라이언트가 생성한 난수</li>
<li><code>curve</code>: ECDH용 ECC 곡선 타입 (클라이언트가 하나를 지정)</li>
<li><code>publicKey</code>: 상기 <code>curve</code> 유형으로 생성한 임시키쌍의 공개키</li>
<li><code>candidate</code>
<ul>
<li><code>ciphers</code>: 클라이언트가 지원하는 cipher 알고리즘 목록</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="722-response">7.2.2. Response<a href="#722-response" class="hash-link" aria-label="7.2.2. Response에 대한 직접 링크" title="7.2.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li><code>~/reqEcdh/proof</code> 서명 검증</li>
<li>클라이언트 요청값(<code>~/reqEcdh</code>) 정합성 확인 및 cipher 알고리즘 선택
<ul>
<li><code>cipherAlg</code> = cipher 알고리즘 선택</li>
<li><code>padding</code> = 패딩 방식 선택</li>
</ul>
</li>
<li>ECIES 세션키 생성
<ul>
<li><code>clientNonce</code> = <code>~/reqEcdh/clientNonce</code></li>
<li><code>severNonce</code> = 16-byte nonce 생성</li>
<li><code>mergedNonce</code> = sha256(serverNonce, clientNonce)</li>
<li><code>clientPubKey</code> = <code>~/reqEcdh/publicKey</code></li>
<li><code>serverPubKey</code>, <code>serverPriKey</code> = <code>~/reqEcdh/curve</code> 타입의 서버 임시키쌍 생성</li>
<li><code>sesKey</code> = ecies(serverPriKey, clientPubKey, mergedNonce, cipherAlg)</li>
</ul>
</li>
<li>ECDH 정보 저장
<ul>
<li>클라이언트 DID, 거래코드</li>
<li><code>sesKey</code>, <code>cipherAlg</code>, <code>padding</code></li>
</ul>
</li>
<li>ECDH 수락 데이터 생성 및 서명</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M132_RequestEcdh: &quot;Request ECDH 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AccEcdh &quot;accEcdh&quot;: &quot;ECDH acceptance data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/accEcdh</code>
<ul>
<li><code>server</code>: 서버 DID</li>
<li><code>serverNonce</code>: 서버가 생성한 난수</li>
<li><code>publicKey</code>: 서버가 생성한 임시키쌍의 공개키(<code>serverPubKey</code>)</li>
<li><code>cipher</code>: 클라이언트의 후보 중 서버가 선택한 cipher 알고리즘</li>
<li><code>padding</code>: 서버가 선택한 패딩 방식</li>
</ul>
</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16519</td><td>클라이언트 Nonce 처리 실패: 잘못된 Nonce입니다.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12008</td><td>지원되지 않는 Cipher Type 입니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16504</td><td>Nonce 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16506</td><td>세션키 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16521</td><td>&#x27;request-ecdh&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="723-example">7.2.3. Example<a href="#723-example" class="hash-link" aria-label="7.2.3. Example에 대한 직접 링크" title="7.2.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-ecdh&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051657277950001BB998C7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;reqEcdh&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;clientNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zBAW92K2iAdSxNDwAw3H3Xx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;curve&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;publicKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z2BFUEHLriaZHCWowJ2u5zhdX5xfMXQuBbUzCUYo5btwg7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T07:57:27Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc?versionId=1#keyagree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;keyAgreement&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3rUktt9bdVsZ65sbN9oReDNK7YE9jJLHmt5DzCDedYAwrx5Dym47QbpTRnx3UWwnYyQ669W7LqYD6ULq827f2izPa&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;accEcdh&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server&quot;:&quot;did:omn:tas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;serverNonce&quot;:&quot;mG7HZMlbiFRZ8xRimSMKiDg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;publicKey&quot;:&quot;mAjCb4gPcBIzLlCXCDaAB+MGCxRh6LouwBI4tTqVkQb/b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cipher&quot;:&quot;AES-256-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;padding&quot;:&quot;PKCS5&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;type&quot;:&quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;created&quot;:&quot;2024-09-05T10:57:21.788620Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;verificationMethod&quot;:&quot;did:omn:tas#keyagree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofPurpose&quot;:&quot;keyAgreement&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofValue&quot;:&quot;mHwUcQPenuvmgl+4enG0dwBiQ+IZxTIF3X9c0PRCZuXTHBPNL0iC6R7dG5+AUXKd5nbWb6ZsCtPccVL+me7wU+34&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="73-request-create-token">7.3. Request Create Token<a href="#73-request-create-token" class="hash-link" aria-label="7.3. Request Create Token에 대한 직접 링크" title="7.3. Request Create Token에 대한 직접 링크">​</a></h3>
<p>인가앱이 TAS에게 서버토큰 생성을 요청한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-create-token</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="731-request">7.3.1. Request<a href="#731-request" class="hash-link" aria-label="7.3.1. Request에 대한 직접 링크" title="7.3.1. Request에 대한 직접 링크">​</a></h4>
<p>서버토큰을 생성하기 위해서는 아래와 같은 토큰시드를 넘겨줘야 한다.</p>
<ul>
<li><code>(ServerTokenSeed)seed</code>
<ul>
<li><code>purpose</code>: &quot;CreateDid&quot; 또는 &quot;CreateDidAndIssueVc&quot;</li>
<li><code>walletInfo</code>: 서명된 월렛정보 (월렛 SDK 호출하여 획득)</li>
<li><code>caAppInfo</code>: 서명된 인가앱정보 (인가앱 사업자 API 호출하여 획득)</li>
</ul>
</li>
</ul>
<p>자세한 내용은 [DATA-SPEC]을 참조한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M132_RequestCreateToken: &quot;Request Create Token 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ServerTokenSeed &quot;seed&quot;: &quot;server token seed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/seed</code>
<ul>
<li><code>purpose</code>: 토큰 사용 목적</li>
<li><code>walletInfo</code>: 서명된 월렛 정보</li>
<li><code>caAppInfo</code>: 서명된 인가앱 정보</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="732-response">7.3.2. Response<a href="#732-response" class="hash-link" aria-label="7.3.2. Response에 대한 직접 링크" title="7.3.2. Response에 대한 직접 링크">​</a></h4>
<p>클라이언트가 넘겨준 seed 내 서명 검증 후 서버토큰 데이터를 생성하여 응답한다.
응답 데이터는 세션키로 암호화한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>purpose 유효성 확인</li>
<li><code>~/seed</code> 내 proof 서명 검증
<ul>
<li><code>walletInfo.proof</code> 월렛 서명 검증</li>
<li><code>caAppInfo.proof</code> 월렛 사업자 서명 검증</li>
</ul>
</li>
<li>데이터 준비
<ul>
<li>토큰 유효일시 설정</li>
<li>기타 난수 등 생성</li>
</ul>
</li>
<li>상기 데이터를 서명하여 <code>(ServerTokenData)std</code> 생성</li>
<li>서버토큰 생성하여 저장
<ul>
<li><code>serverToken</code> = sha256(std)</li>
</ul>
</li>
<li>응답 데이터 준비
<ul>
<li><code>encStd</code> = multibase(enc(std, sesKey, iv, padding))</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M132_RequestCreateToken: &quot;Request Create Token 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;iv&quot;  : &quot;세션키 암복호화 IV&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;encStd&quot;: &quot;multibase(enc((ServerTokenData)std))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/encStd</code>: 암호화된 서버토큰 데이터</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





















































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12005</td><td>지원하지 않는 &#x27;token purpose&#x27; 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18510</td><td>가입증명서 VC를 찾을 수 없습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12007</td><td>Provider DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18511</td><td>유효하지 않은 가입증명서 VC의 Issuer입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18519</td><td>VC 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA19000</td><td>서버 토큰 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19001</td><td>서버 토큰 데이터를 암호화하는 데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19005</td><td>&#x27;request-create-token&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="733-example">7.3.3. Example<a href="#733-example" class="hash-link" aria-label="7.3.3. Example에 대한 직접 링크" title="7.3.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-create-token&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051657283100001C7EAC45&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;seed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;purpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;walletInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;wallet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WID202409fZzUMQO359p&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zBkNQ6fiQ6hM772BJRDHGW8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T07:57:28Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3uLoJjDsTMvK7RFW28Eeq46MKDe8uUcEnbsiRMez98bqfX2B13zEohNoNq6TXagJ2uUt7GJrHBEAbzE5V42FT3hqp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;caAppInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;appId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409G2u67yk1X8l&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;certVcRef&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;http://192.168.3.130:8094/cas/api/v1/certificate-vc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mcUm9ylVEgYk/NalyZbOjoA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T16:57:27.893047Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mILBzHDclcVNpLm/y7sjd+cT8epOOXnF75kpmbg9cgZruYXQmvz2oC2E1by8+OJPPv3vG9NeB9zlzKEcR9GQEvQU&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;iv&quot;:&quot;m269B16J8Sl0jar6LJWcyWA&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;encStd&quot;:&quot;mHRB7lOr7fAeMMvhB9rOU5/wLMk7rSJZI0U0lpBrF8oOKEc1ctRC7/uTDmotpL1mF/hrjmqXMaQ39GnoLTefzmtrP82bAIpbTrxwU9cYmOvJNqUYswy8+9IX7jGRX0hto22oDlMn6LUC6SCJ/wmi/KrtnmLDkBY0gu629BES13vgY/b9sBcw7zA+CCV1St5szAYwmfwN4QubIIe4W/rVS//Ucz+azbMKYI7REmCNdpI3EPzYSc5L9Hd3E8PTYzmxfRj1OG56lAJeQHtH8/1kBgDXp+1zeT37X/dDTs0OlwckpD7yN/BltABQK/Wi8wRzmjj3S6F3zd2S5GphzfjEvJUMx4z6qXhTiH4FEtV/tJgl44G/hlWKw70OKdvuhBUSXlfgDF/PgMhhx5KgmhZUCMGev3M9y7CVugu38V6GYsmYuuYjQn1y7BRtnKrWuOaak0vSOv5MYg5qbUfHNAYmqZNFgjyJA4tBELWukeEi6raOzg2FO6ZesHR7jcArskWkqdVtQIyvuMavu4hNnQDeHbAfrnPe5NGaZjCZ2mA/vMCRo09qotFG2LfPb8+4tIbOUqA+DMQVfljKsxlr1s8z3Ghz9SJf/LhqAtxzXdHaYIiijCzMAy3ZJFHglrPnWMxtaw/cUghffdrNYgIE8EBu4VzHiZQ+sljachNrISOaiAW9yT0Gka5tEvetilmpi7YgL&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="74-retrieve-kyc">7.4. Retrieve KYC<a href="#74-retrieve-kyc" class="hash-link" aria-label="7.4. Retrieve KYC에 대한 직접 링크" title="7.4. Retrieve KYC에 대한 직접 링크">​</a></h3>
<p>사용자의 PII(Personally Identifiable Information)를 등록한다.</p>
<p>Trust Agent는 사용자의 개인 식별 정보(PII)를 등록해야 한다. 이를 위해 Trust Agent는 사용자에게 KYC(고객 신원 확인) 절차를 진행하여 PII를 얻어야 하지만, KYC 과정은 Open DID 시스템에서 지원하지 않는 기능이다. 따라서, Trust Agent는 사용자가 이미 KYC를 완료했다고 가정하고, retrieve-kyc API를 호출하기 전에 KYC의 결과로 생성된 kycTxId를 전달받아야 한다.</p>
<p>Trust Agent는 kycTxId를 사용하여 미리 연동된 KYC 서버로부터 사용자의 개인 식별 정보(PII)를 얻어야 한다. 이 과정에서 CAS가 KYC 서버 역할을 대신하여, 사용자의 PII를 제공하도록 한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/tas/api/v1/retrieve-kyc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="741-request">7.4.1. Request<a href="#741-request" class="hash-link" aria-label="7.4.1. Request에 대한 직접 링크" title="7.4.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object RetrieveKyc: &quot;Retrieve KYC 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId     &quot;id&quot;    : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid          &quot;txId&quot;  : &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;       : &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string    &quot;kycTxId&quot;           : &quot;KYC 식별자&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="742-response">7.4.2. Response<a href="#742-response" class="hash-link" aria-label="7.4.2. Response에 대한 직접 링크" title="7.4.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 일치여부 확인</li>
<li>KYC 서버로 PII 확인</li>
<li>pii 매핑하여 저장
<ul>
<li>pii, txId</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _RetrieveKyc: &quot;Retrieve KYC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid  &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

































<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td>SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td>SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td>SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td>SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA17018</td><td>&#x27;retrieve-kyc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="743-example">7.4.3. Example<a href="#743-example" class="hash-link" aria-label="7.4.3. Example에 대한 직접 링크" title="7.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/retrieve-kyc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;b28a35a0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mCpmk2VhUL6Q8aBerIxm1CaGv86eWoH7toZQKhz8Te6g&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;kycTxId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;b28a35a0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="75-request-register-user">7.5. Request Register User<a href="#75-request-register-user" class="hash-link" aria-label="7.5. Request Register User에 대한 직접 링크" title="7.5. Request Register User에 대한 직접 링크">​</a></h3>
<ul>
<li>전송: 월렛 → TAS</li>
</ul>
<p>월렛이 사용자 DID Document를 생성하고 등록을 요청하기 위한 서명된 등록 요청 데이터를
생성하여 TAS에 직접 등록을 요청한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-register-user</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="751-request">7.5.1. Request<a href="#751-request" class="hash-link" aria-label="7.5.1. Request에 대한 직접 링크" title="7.5.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M132_RequestRegisterUser: &quot;Request Register User 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase    &quot;serverToken&quot; : &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + SignedDidDoc &quot;signedDidDoc&quot;: &quot;wallet signed DID Document&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
<li><code>~/signedDidDoc</code>: 월렛이 생성한 월렛 서명 사용자 DID Document</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="752-response">7.5.2. Response<a href="#752-response" class="hash-link" aria-label="7.5.2. Response에 대한 직접 링크" title="7.5.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 일치여부 확인</li>
<li>월렛 서명 검증
<ul>
<li><code>~/signedDidDoc/proof</code> 검증</li>
</ul>
</li>
<li>DID 키 별 서명 검증
<ul>
<li><code>~/signedDidDoc/ownerDidDoc/proofs</code> 검증</li>
</ul>
</li>
<li><code>didDoc</code> = DidDoc 원문 추출</li>
<li>신뢰저장소에 DidDoc 등록
<ul>
<li>(InvokedDidDoc)idd = TAS 서명하여 신뢰저장소 등록 요청 데이터 생성</li>
</ul>
</li>
<li>사용자 매핑 정보 저장
<ul>
<li>pii (개인식별자)</li>
<li>holderDid (Holder DID)</li>
<li>walletId (월렛 식별자)</li>
<li>appId (인가앱 식별자)</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M132_RequestRegisterUser: &quot;Request Register User 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

























































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12006</td><td>DID Document를 파싱하는 데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17000</td><td>사용자 DID 등록에 실패했습니다: 사용자 DID가 이미 존재합니다.</td></tr><tr><td style="text-align:center">SSRVTRA16516</td><td>DID Document 키 서명 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA18017</td><td>Invoked Document 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18016</td><td>DID Document 등록에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17009</td><td>&#x27;request-register-user&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="753-example">7.5.3. Example<a href="#753-example" class="hash-link" aria-label="7.5.3. Example에 대한 직접 링크" title="7.5.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-register-user&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905165736842000502ABE65&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mCpmk2VhUL6Q8aBerIxm1CaGv86eWoH7toZQKhz8Te6g&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;signedDidDoc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;ownerDidDoc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z5HwRWXrRb8sLAdWBxZtQcN9JR588dnpvojhXG2BCRYC9CX9Xpq6RokkvXzGQYYCqAKC2EkFPgaA3TzWCsCvVUZnk6Cz33Xbyie2wsytg3mUQ5hvQnvRpqVucbrSCanHbc9JYVsT9knFqFqdSc9MsUitAHCo5H1uQGzEnSGUuGiatJeMzTEZmJAkfBSMSnAsZ3h5cYkW4S3XfqkpLPdX41r5ZG1UmkXE9TLNsnwCL9XP5D7K1ND6VTHi2Xqg82mFeynC64dje559VqQkUHMqNCviFa9NzkieS5jstDyCkiK5vafB4pgwWp7AJitQF7iHUw2o395UfRSwaqVYnYzis3oUiT79WxYQ1AbaYPS1fQNFjfQWpGgemXRTzjpnPcCaeC1n6aj3hgSoYsLuuuTDuz3knxw6nxW2nUVhnL8fTN68y88V373u1vnZ3edS6L8risucq8fTxPjaZ1zkJjbmNc4Wi99WVG7aYpYCdnpe6P1xaubkH7LNF7iYgTAcmHPLGLZnV8PU76Vzmbz4W9JtC3PBqCJnt8BrwrpW3CKVFBC17KYWA5PHvRKgwFkm4TE82gCsGdbZrN3GK8wS7Ugb3DiLvYydcuzm68JLZhqmkdH27DFCBFqyCHrAwNvM6gLNH9mKC9RnmqVAUYToD7TU3J6BabsD836tEEqQEobYTaTwbGwLCURRxYJELQ3ifcDbTXGTdfV9yBTe1sTrZPiAjbgzAz8vmiFLkUyqDPsDdyXznhBjZqXWK3cyvMCrRXg3JPoxFmHHM9exwz8LKWmVLCx9DYpirtrPPFPFy96qYHDFK3pANwfGLcjhLEXXPrbQrfubGpHQcXk3RNtU9WYErng8qNgnPFjbxNFSMwgwdbZVQKMaZz2aQMyqkZjK9JCcaxEJUBh5kTh12X1BAv9FtddFivF9xDjejRSmkqwSsTUPn2pG74ujmVn2vjLaaDou2ohWnDJKCi6eSZn91Lnvi8rBqEMvfwrKn6fYhCtPqUgArZHxaL9gXZPXKWPAbtjewa5JTbBqZZCW6v5jKeYc4Ans6CoiPRkHdHXKXqxSQ4yZU57zsBC7XyQwKyfkHyN6oW755qwdnwC5bW56H2RheTkgYXppMJQtBMZT95N5rpZRunc4zsJcDaQJ9yjPzThfSfHdZvB6Fq7wE7KM3UpgJiPKx165ipYyuSQq5C1HrZUY58PWFPd67Njp5LKJfg8EzaF4QZ3VGFd69p9nsEPsiggN6u17jZj5SokDYfkREWzQRReWQvYTjycubQwsmHZ1HmN58tAh9b8U6wYHmWEH6MVSVYaEcSQq2Uu3HXBtFXgb8ZtgqGUukByyPf3n3Evztd7i&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;wallet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WID202409fZzUMQO359p&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zwnCp7CDerpkza7bPDNsx8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T07:57:36Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3tCpV6S5SjZhdzsgfAHmSEq3wRp3xmPcaaq31Hz86Vq8hHpqJ1wEmWtV9cQsiN7aUaWhpbJjkLigPLqPUKUUtbn1s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="76-confirm-register-user">7.6. Confirm Register User<a href="#76-confirm-register-user" class="hash-link" aria-label="7.6. Confirm Register User에 대한 직접 링크" title="7.6. Confirm Register User에 대한 직접 링크">​</a></h3>
<p>사용자 등록 거래를 종료한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/confirm-register-user</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="761-request">7.6.1. Request<a href="#761-request" class="hash-link" aria-label="7.6.1. Request에 대한 직접 링크" title="7.6.1. Request에 대한 직접 링크">​</a></h4>
<p>월렛이 TAS를 통해   사용자의 DID Document 등록을 완료한 후 TAS 응답문의 <code>txId</code>를 회신한다.
인가앱은 서버토큰과 함께 <code>txId</code>를 거래코드에 담아 사용자 등록 완료를 요청한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M132_ConfirmRegisterUser: &quot;Confirm Register User 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;: &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/txId</code>: <code>_M132_RequestRegisterUser.txId</code> (월렛으로부터 전달 받음)</li>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="762-response">7.6.2. Response<a href="#762-response" class="hash-link" aria-label="7.6.2. Response에 대한 직접 링크" title="7.6.2. Response에 대한 직접 링크">​</a></h4>
<p>서버토큰, 거래코드 일치여부 확인 후 사용자 등록 프로토콜을 종료한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 일치여부 확인</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M132_ConfirmRegisterUser: &quot;Confirm Register User 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾  을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17010</td><td>&#x27;request-confirm-user&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="763-example">7.6.3. Example<a href="#763-example" class="hash-link" aria-label="7.6.3. Example에 대한 직접 링크" title="7.6.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/confirm-register-user&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051657391450005463C74A&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mCpmk2VhUL6Q8aBerIxm1CaGv86eWoH7toZQKhz8Te6g&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;61e4164d-939d-4252-b2f4-5026c8225a3b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-p141---사용자-did-document-갱신-프로토콜">8. P141 - 사용자 DID Document 갱신 프로토콜<a href="#8-p141---사용자-did-document-갱신-프로토콜" class="hash-link" aria-label="8. P141 - 사용자 DID Document 갱신 프로토콜에 대한 직접 링크" title="8. P141 - 사용자 DID Document 갱신 프로토콜에 대한 직접 링크">​</a></h2>









































<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>propose-update-diddoc</td><td>사용자 DID Document 갱신 시작 요청</td><td>Y</td></tr><tr><td style="text-align:center">2</td><td>request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td style="text-align:center">3</td><td>request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td style="text-align:center">4</td><td>request-update-diddoc</td><td>사용자 DID Document 갱신 요청</td><td>Y</td></tr><tr><td style="text-align:center">5</td><td>confirm-update-diddoc</td><td>사용자 DID Document 갱신 완료</td><td>Y</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="81-propose-update-diddoc">8.1. Propose Update DidDoc<a href="#81-propose-update-diddoc" class="hash-link" aria-label="8.1. Propose Update DidDoc에 대한 직접 링크" title="8.1. Propose Update DidDoc에 대한 직접 링크">​</a></h3>
<p>사용자 DID Document 갱신 거래를 시작한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/propose-update-diddoc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="811-request">8.1.1. Request<a href="#811-request" class="hash-link" aria-label="8.1.1. Request에 대한 직접 링크" title="8.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M141_ProposeUpdateDidDoc: &quot;Propose Update DidDoc 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + did &quot;did&quot;: &quot;User DID to update&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="812-response">8.1.2. Response<a href="#812-response" class="hash-link" aria-label="8.1.2. Response에 대한 직접 링크" title="8.1.2. Response에 대한 직접 링크">​</a></h4>
<p>거래코드를 생성하고 사용자 DID Document 갱신 거래를 시작한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li><code>txId</code> = 거래코드 생성</li>
<li><code>did</code>가 변경 가능한 상태인지 확인</li>
<li><code>authNonce</code> = DID Auth 용 16-byte nonce 생성</li>
<li><code>authNonce</code> 저장</li>
<li><code>txId</code>, <code>did</code> 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M141_ProposeUpdateDidDoc: &quot;Propose Update DidDoc 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;authNonce&quot;: &quot;TAS nonce for DID Auth&quot;, byte_length(16)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17003</td><td>요청 처리에 실패했습니다: 사용자 상태가 &#x27;Activated&#x27;가 아닙니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17011</td><td>&#x27;propose-update-diddoc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:40px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="813-example">8.1.3. Example<a href="#813-example" class="hash-link" aria-label="8.1.3. Example에 대한 직접 링크" title="8.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/propose-update-diddoc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409061024373320008E32CA36&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;authNonce&quot;:&quot;mXx4ZICWZNczC1jpFHXyxDA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="82-request-ecdh">8.2. Request ECDH<a href="#82-request-ecdh" class="hash-link" aria-label="8.2. Request ECDH에 대한 직접 링크" title="8.2. Request ECDH에 대한 직접 링크">​</a></h3>
<p>세션 암호화를 위한 키교환을 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-ecdh</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="821-request">8.2.1. Request<a href="#821-request" class="hash-link" aria-label="8.2.1. Request에 대한 직접 링크" title="8.2.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M141_RequestEcdh: &quot;ECDH 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ReqEcdh &quot;reqEcdh&quot;: &quot;ECDH request data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/reqEcdh</code>
<ul>
<li><code>client</code>: 클라이언트 DID</li>
<li><code>clientNonce</code>: 클라이언트가 생성한 난수</li>
<li><code>curve</code>: ECDH용 ECC 곡선 타입 (클라이언트가 하나를 지정)</li>
<li><code>publicKey</code>: 상기 <code>curve</code> 유형으로 생성한 임시키쌍의 공개키</li>
<li><code>candidate</code>
<ul>
<li><code>ciphers</code>: 클라이언트가 지원하는 cipher 알고리즘 목록</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="822-response">8.2.2. Response<a href="#822-response" class="hash-link" aria-label="8.2.2. Response에 대한 직접 링크" title="8.2.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li><code>~/reqEcdh/proof</code> 서명 검증</li>
<li>클라이언트 요청값(<code>~/reqEcdh</code>) 정합성 확인 및 cipher 알고리즘 선택
<ul>
<li><code>client</code> = <code>M141_ProposeUpdateDidDoc:~/did</code></li>
<li><code>cipherAlg</code> = cipher 알고리즘 선택</li>
<li><code>padding</code> = 패딩 방식 선택</li>
</ul>
</li>
<li>ECIES 세션키 생성
<ul>
<li><code>clientNonce</code> = <code>~/reqEcdh/clientNonce</code></li>
<li><code>severNonce</code> = 16-byte nonce 생성</li>
<li><code>mergedNonce</code> = sha256(serverNonce, clientNonce)</li>
<li><code>clientPubKey</code> = <code>~/reqEcdh/publicKey</code></li>
<li><code>serverPubKey</code>, <code>serverPriKey</code> = <code>~/reqEcdh/curve</code> 타입의 서버 임시키쌍 생성</li>
<li><code>sesKey</code> = ecies(serverPriKey, clientPubKey, mergedNonce, cipherAlg)</li>
</ul>
</li>
<li>ECDH 정보 저장
<ul>
<li>클라이언트 DID, 거래코드</li>
<li><code>sesKey</code>, <code>cipherAlg</code>, <code>padding</code></li>
</ul>
</li>
<li>ECDH 수락 데이터 생성 및 서명</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M141_RequestEcdh: &quot;Request ECDH 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AccEcdh &quot;accEcdh&quot;: &quot;ECDH acceptance data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/accEcdh</code>
<ul>
<li><code>server</code>: 서버 DID</li>
<li><code>serverNonce</code>: 서버가 생성한 난수</li>
<li><code>publicKey</code>: 서버가 생성한 임시키쌍의 공개키(<code>serverPubKey</code>)</li>
<li><code>cipher</code>: 클라이언트의 후보 중 서버가 선택한 cipher 알고리즘</li>
<li><code>padding</code>: 서버가 선택한 패딩 방식</li>
</ul>
</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16519</td><td>클라이언트 Nonce 처리 실패: 잘못된 Nonce입니다.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효 하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12008</td><td>지원되지 않는 Cipher Type 입니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16504</td><td>Nonce 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16506</td><td>세션키 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16521</td><td>&#x27;request-ecdh&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="823-example">8.2.3. Example<a href="#823-example" class="hash-link" aria-label="8.2.3. Example에 대한 직접 링크" title="8.2.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-ecdh&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240906102437450000382635A9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;reqEcdh&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;clientNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zW9wYU7dzYfwzYq2HsKTXrH&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;curve&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;publicKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zh7epe6WHeSYjQybGL3ctmaYRDtXR8uMyBoHWaMSEjqZT&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-06T01:24:37Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8?versionId=1#keyagree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;keyAgreement&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3m3xwu53VLbznUa8CyAS4MvC54ueCw8zJq4UgWpeqYjfqzKa9evCbQEKqkXH5MBv6uaWWY1Ah8Ftbo6tRGwRoVvnA&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;accEcdh&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server&quot;:&quot;did:omn:tas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;serverNonce&quot;:&quot;mG7HZMlbiFRZ8xRimSMKiDg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;publicKey&quot;:&quot;mAjCb4gPcBIzLlCXCDaAB+MGCxRh6LouwBI4tTqVkQb/b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cipher&quot;:&quot;AES-256-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;padding&quot;:&quot;PKCS5&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;type&quot;:&quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;created&quot;:&quot;2024-09-05T10:57:21.788620Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;verificationMethod&quot;:&quot;did:omn:tas#keyagree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofPurpose&quot;:&quot;keyAgreement&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofValue&quot;:&quot;mHwUcQPenuvmgl+4enG0dwBiQ+IZxTIF3X9c0PRCZuXTHBPNL0iC6R7dG5+AUXKd5nbWb6ZsCtPccVL+me7wU+34&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="83-request-create-token">8.3. Request Create Token<a href="#83-request-create-token" class="hash-link" aria-label="8.3. Request Create Token에 대한 직접 링크" title="8.3. Request Create Token에 대한 직접 링크">​</a></h3>
<p>인가앱이 TAS에게 서버토큰 생성을 요청한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-create-token</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="831-request">8.3.1. Request<a href="#831-request" class="hash-link" aria-label="8.3.1. Request에 대한 직접 링크" title="8.3.1. Request에 대한 직접 링크">​</a></h4>
<p>서버토큰을 생성하기 위해서는 아래와 같은 토큰시드를 넘겨줘야 한다.</p>
<ul>
<li><code>(ServerTokenSeed)seed</code>
<ul>
<li><code>purpose</code>: &quot;UpdateDid&quot;</li>
<li><code>walletInfo</code>: 서명된 월렛정보 (월렛 SDK 호출하여 획득)</li>
<li><code>caAppInfo</code>: 서명된 인가앱정보 (인가앱 사업자 API 호출하여 획득)</li>
</ul>
</li>
</ul>
<p>자세한 내용은 [DATA-SPEC]을 참조한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M141_RequestCreateToken: &quot;Request Create Token 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ServerTokenSeed &quot;seed&quot;: &quot;server token seed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/seed</code>
<ul>
<li><code>purpose</code>: 토큰 사용 목적</li>
<li><code>walletInfo</code>: 서명된 월렛 정보</li>
<li><code>caAppInfo</code>: 서명된 인가앱 정보</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="832-response">8.3.2. Response<a href="#832-response" class="hash-link" aria-label="8.3.2. Response에 대한 직접 링크" title="8.3.2. Response에 대한 직접 링크">​</a></h4>
<p>클라이언트가 넘겨준 seed 내 서명 검증 후 서버토큰 데이터를 생성하여 응답한다.
응답 데이터는 세션키로 암호화한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>purpose 유효성 확인</li>
<li><code>~/seed</code> 내 proof 서명 검증
<ul>
<li><code>walletInfo.proof</code> 월렛 서명 검증</li>
<li><code>caAppInfo.proof</code> 월렛 사업자 서명 검증</li>
</ul>
</li>
<li>데이터 준비
<ul>
<li>토큰 유효일시 설정</li>
<li>기타 난수 등 생성</li>
</ul>
</li>
<li>상기 데이터를 서명하여 <code>(ServerTokenData)std</code> 생성</li>
<li>서버토큰 생성하여 저장
<ul>
<li><code>serverToken</code> = sha256(std)</li>
</ul>
</li>
<li>응답 데이터 준비
<ul>
<li><code>encStd</code> = multibase(enc(std, sesKey, iv, padding))</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M141_RequestCreateToken: &quot;Request Create Token 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;iv&quot;  : &quot;세션키 암복호화 IV&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;encStd&quot;: &quot;multibase(enc((ServerTokenData)std))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/encStd</code>: 암호화된 서버토큰 데이터</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





















































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12005</td><td>지원하지 않는 &#x27;token purpose&#x27; 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18510</td><td>가입증명서 VC를 찾을 수 없습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12007</td><td>Provider DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18511</td><td>유효하지 않은 가입증명서 VC의 Issuer입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18519</td><td>VC 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA19000</td><td>서버 토큰 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19001</td><td>서버 토큰 데이터를 암호화하는 데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19005</td><td>&#x27;request-create-token&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="833-example">8.3.3. Example<a href="#833-example" class="hash-link" aria-label="8.3.3. Example에 대한 직접 링크" title="8.3.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-create-token&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051713135030009A02C148&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;seed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;purpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;walletInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;wallet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WID202409HFaOFhPdgvY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z12N48Lbt8cBWtRWSBe41Z4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T08:13:13Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3oUFPoVwmjZ221gToC6BxFkwYpBQ4qb1AQhJwZBTUvKH4qvim9KfZ9ARGvxRJNGx7UH2j7Vx16uyXg35R4oeBCPT5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;caAppInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;appId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409Btz6cMklY2a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;certVcRef&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;http://192.168.3.130:8094/cas/api/v1/certificate-vc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mba89KNRDoJKr7eH6kv60mg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T17:13:13.067488Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mIAX852dupvgF3P6JsvDNuWwjM1KrRySGBbnVrOzbXIcBE4T42/thIvHNXRZiocTFhCAt21QgUtJRCVCu1xse+lE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;iv&quot;:&quot;z75M7MfQsC4p2rTxeKxYh2M&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;encStd&quot;:&quot;zHri4iJ8q2mcv4GKmrb3GgnsyY6hT93rbvQir1eAmnqvMrfRcRUTfs16NQvrReuV9hx76X5qSpQ19NVm78ca4jnRuDoqbDwAqmtGPLwUvVaLUFMh6oEXZzfQQ5ds6JHMDvcYpeKCHtmyfUb2W7DbhZNEg9D4Au5TqQomey9A2vWG9FrN91PUg9nfyt9NCfqX6s38JHvedKCjqixBiv4Gs5hk2HNN3aCuS5Y53ACGeADA3cKFHwpJZNYBubHN7QAraBFu5zjWRv4RgK46MnTmfyxXzPLucjeRg9qAUabCJWmb6RwWT1SoUFzk8CMoQtppfn8GDHfcUrhGHEFcU2PYu3kKr97NLGbrpdftha2wVprd4ZKD4YS78pLSeXKGGEsnWU5CatFN7ayZqTU5ZspwZ567SUohWfJZn3XXp9y938rDr5WW1RtWD6UsxFxSY14h7C694DUkNsZKJejcnBxLqdqxbeqRn8AMvx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="84-request-update-diddoc">8.4. Request Update DidDoc<a href="#84-request-update-diddoc" class="hash-link" aria-label="8.4. Request Update DidDoc에 대한 직접 링크" title="8.4. Request Update DidDoc에 대한 직접 링크">​</a></h3>
<ul>
<li>전송: 월렛 → TAS</li>
</ul>
<p>월렛이 사용자 DID Document 갱신을 요청하기 위한 서명된 등록 요청 데이터를
생성하여 TAS에 직접 등록을 요청한다.</p>
<p>DID Document의 갱신은 생애주기 상태가 <code>ACTIVATED</code>인 경우에만 가능하며,
사용자의 요청에 의해 변경 가능한 항목은 다음과 같다.</p>
<ul>
<li>DID 키</li>
<li>Service endpoint(추가/수정/삭제 등)</li>
</ul>
<p>또한 아래의 항목은 무조건 최신의 값으로 변경되어야 하며,
TAS는 이전 DID Document와 비교하여 값의 유효성을 확인하여 한다.</p>
<ul>
<li><code>~/updated</code>: 최종 변경 일시
<ul>
<li>변경 전 문서(현재 신뢰 저장소에 등록된 문서)의 값보다 이후의 시간이어야 한다.</li>
<li>가능하면 현재 시간과 큰 차이가 없는지 확인한다.</li>
</ul>
</li>
<li><code>~/versionId</code>: 버전
<ul>
<li>변경 전 문서보다 1 큰 값이어야 한다.</li>
</ul>
</li>
</ul>
<p>아래의 항목은 이전 문서와 동일하여야 한다.</p>
<ul>
<li><code>~/@conctext</code></li>
<li><code>~/id</code></li>
<li><code>~/controller</code></li>
<li><code>~/created</code></li>
<li><code>~/deactivated</code></li>
</ul>
<p>DID Document의 변경을 사용자가 승인하였음을 확인하기 위해 DID Auth를 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-update-diddoc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="841-request">8.4.1. Request<a href="#841-request" class="hash-link" aria-label="8.4.1. Request에 대한 직접 링크" title="8.4.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M141_RequestUpdateDidDoc: &quot;Request Update DidDoc 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase    &quot;serverToken&quot; : &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + DidAuth      &quot;didAuth&quot;     : &quot;DID Auth data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + SignedDidDoc &quot;signedDidDoc&quot;: &quot;wallet signed DID Document&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
<li><code>~/didAuth</code>: 사용자 인증 정보</li>
<li><code>~/signedDidDoc</code>: 월렛이 생성한 월렛 서명 사용자 DID Document</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="842-response">8.4.2. Response<a href="#842-response" class="hash-link" aria-label="8.4.2. Response에 대한 직접 링크" title="8.4.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 일치여부 확인</li>
<li>DID Auth 검증</li>
<li>월렛 서명 검증
<ul>
<li><code>~/signedDidDoc/proof</code> 검증</li>
</ul>
</li>
<li>DID 키 별 서명 검증
<ul>
<li><code>~/signedDidDoc/ownerDidDoc/proofs</code> 검증</li>
</ul>
</li>
<li><code>didDoc</code> = DidDoc 원문 추출
<ul>
<li><code>didDoc:~/id</code>와 <code>M141_ProposeUpdateDidDoc:~/did</code> 일치여부 확인</li>
<li><code>didDoc:~/id</code>와 <code>~/didAuth.did</code> 일치여부 확인</li>
</ul>
</li>
<li>DB에 저장된 사용자 매핑 정보 확인
<ul>
<li>holderDid (Holder DID)</li>
<li>walletId (월렛 식별자)</li>
<li>appId (인가앱 식별자)</li>
</ul>
</li>
<li>신뢰저장소에 DidDoc 등록
<ul>
<li>(InvokedDidDoc)idd = TAS 서명하여 신뢰저장소 등록 요청 데이터 생성</li>
<li>신뢰저장소에 등록 요청</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M141_RequestUpdateDidDoc: &quot;Request Update DidDoc 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





































































































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12006</td><td>DID Document를 파싱하는 데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12009</td><td>Invalid DID Document version.</td></tr><tr><td style="text-align:center">SSRVTRA18006</td><td>DID Document 처리 실패: 잘못된 updated   입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18007</td><td>DID Document 처리 실패: 잘못된 context 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18008</td><td>DID Document 처리 실패: 잘못된 id 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18009</td><td>DID Document 처리 실패: 잘못된 controller 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18014</td><td>DID Document 처리 실패: 잘못된 creation 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18015</td><td>DID Document 처리 실패: 잘못된 deactivated 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA17002</td><td>사용자를 찾을 수 없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16520</td><td>&#x27;authNonce&#x27; 가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16516</td><td>DID Document 키 서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18018</td><td>요청 처리 실패: DID Document의 ID가 이전에 요청된 DID와 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17005</td><td>앱 인증 실패: app ID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17508</td><td>Wallet 인증 실패: Wallet ID가 일치하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA18017</td><td>Invoked Document 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18016</td><td>DID Document 등록에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17012</td><td>&#x27;request-update-diddoc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="843-example">8.4.3. Example<a href="#843-example" class="hash-link" aria-label="8.4.3. Example에 대한 직접 링크" title="8.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-update-diddoc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905165736842000502ABE65&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mCpmk2VhUL6Q8aBerIxm1CaGv86eWoH7toZQKhz8Te6g&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;signedDidDoc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;ownerDidDoc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z5HwRWXrRb8sLAdWBxZtQcN9JR588dnpvojhXG2BCRYC9CX9Xpq6RokkvXzGQYYCqAKC2EkFPgaA3TzWCsCvVUZnk6Cz33Xbyie2wsytg3mUQ5hvQnvRpqVucbrSCanHbc9JYVsT9knFqFqdSc9MsUitAHCo5H1uQGzEnSGUuGiatJeMzTEZmJAkfBSMSnAsZ3h5cYkW4S3XfqkpLPdX41r5ZG1UmkXE9TLNsnwCL9XP5D7K1ND6VTHi2Xqg82mFeynC64dje559VqQkUHMqNCviFa9NzkieS5jstDyCkiK5vafB4pgwWp7AJitQF7iHUw2o395UfRSwaqVYnYzis3oUiT79WxYQ1AbaYPS1fQNFjfQWpGgemXRTzjpnPcCaeC1n6aj3hgSoYsLuuuTDuz3knxw6nxW2nUVhnL8fTN68y88V373u1vnZ3edS6L8risucq8fTxPjaZ1zkJjbmNc4Wi99WVG7aYpYCdnpe6P1xaubkH7LNF7iYgTAcmHPLGLZnV8PU76Vzmbz4W9JtC3PBqCJnt8BrwrpW3CKVFBC17KYWA5PHvRKgwFkm4TE82gCsGdbZrN3GK8wS7Ugb3DiLvYydcuzm68JLZhqmkdH27DFCBFqyCHrAwNvM6gLNH9mKC9RnmqVAUYToD7TU3J6BabsD836tEEqQEobYTaTwbGwLCURRxYJELQ3ifcDbTXGTdfV9yBTe1sTrZPiAjbgzAz8vmiFLkUyqDPsDdyXznhBjZqXWK3cyvMCrRXg3JPoxFmHHM9exwz8LKWmVLCx9DYpirtrPPFPFy96qYHDFK3pANwfGLcjhLEXXPrbQrfubGpHQcXk3RNtU9WYErng8qNgnPFjbxNFSMwgwdbZVQKMaZz2aQMyqkZjK9JCcaxEJUBh5kTh12X1BAv9FtddFivF9xDjejRSmkqwSsTUPn2pG74ujmVn2vjLaaDou2ohWnDJKCi6eSZn91Lnvi8rBqEMvfwrKn6fYhCtPqUgArZHxaL9gXZPXKWPAbtjewa5JTbBqZZCW6v5jKeYc4Ans6CoiPRkHdHXKXqxSQ4yZU57zsBC7XyQwKyfkHyN6oW755qwdnwC5bW56H2RheTkgYXppMJQtBMZT95N5rpZRunc4zsJcDaQJ9yjPzThfSfHdZvB6Fq7wE7KM3UpgJiPKx165ipYyuSQq5C1HrZUY58PWFPd67Njp5LKJfg8EzaF4QZ3VGFd69p9nsEPsiggN6u17jZj5SokDYfkREWzQRReWQvYTjycubQwsmHZ1HmN58tAh9b8U6wYHmWEH6MVSVYaEcSQq2Uu3HXBtFXgb8ZtgqGUukByyPf3n3Evztd7i&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;wallet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WID202409fZzUMQO359p&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mXx4ZICWZNczC1jpFHXyxDA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T07:57:36Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3tCpV6S5SjZhdzsgfAHmSEq3wRp3xmPcaaq31Hz86Vq8hHpqJ1wEmWtV9cQsiN7aUaWhpbJjkLigPLqPUKUUtbn1s&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="85-confirm-update-diddoc">8.5. Confirm Update DidDoc<a href="#85-confirm-update-diddoc" class="hash-link" aria-label="8.5. Confirm Update DidDoc에 대한 직접 링크" title="8.5. Confirm Update DidDoc에 대한 직접 링크">​</a></h3>
<p>사용자 DID Document 갱신 거래를 종료한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/confirm-update-diddoc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="851-request">8.5.1. Request<a href="#851-request" class="hash-link" aria-label="8.5.1. Request에 대한 직접 링크" title="8.5.1. Request에 대한 직접 링크">​</a></h4>
<p>월렛이 TAS를 통해 사용자의 DID Document 등록을 완료한 후 TAS 응답문의 <code>txId</code>를 회신한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M141_ConfirmUpdateDidDoc: &quot;Confirm Update DidDoc 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;: &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/txId</code>: <code>_M141_RequestUpdateDidDoc.txId</code> (월렛으로부터 전달 받음)</li>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="852-response">8.5.2. Response<a href="#852-response" class="hash-link" aria-label="8.5.2. Response에 대한 직접 링크" title="8.5.2. Response에 대한 직접 링크">​</a></h4>
<p>서버토큰, 거래코드 일치여부 확인 후 사용자 DID Document 갱신 프로토콜을 종료한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 일치여부 확인</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M141_ConfirmUpdateDidDoc: &quot;Confirm Update DidDoc 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17013</td><td>&#x27;confirm-update-diddoc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="853-example">8.5.3. Example<a href="#853-example" class="hash-link" aria-label="8.5.3. Example에 대한 직접 링크" title="8.5.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/confirm-update-diddoc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051657391450005463C74A&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mCpmk2VhUL6Q8aBerIxm1CaGv86eWoH7toZQKhz8Te6g&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-p142---사용자-did-document-복구-프로토콜">9. P142 - 사용자 DID Document 복구 프로토콜<a href="#9-p142---사용자-did-document-복구-프로토콜" class="hash-link" aria-label="9. P142 - 사용자 DID Document 복구 프로토콜에 대한 직접 링크" title="9. P142 - 사용자 DID Document 복구 프로토콜에 대한 직접 링크">​</a></h2>





















































<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>offer-restore-did-push</td><td>사용자 DID Document Offer 요청 (Push)</td><td>N</td></tr><tr><td style="text-align:center">1</td><td>offer-restore-did-email</td><td>사용자 DID Document Offer 요청 (Email)</td><td>N</td></tr><tr><td style="text-align:center">2</td><td>propose-restore-diddoc</td><td>사용자 DID Document 복구 시작 요청</td><td>Y</td></tr><tr><td style="text-align:center">3</td><td>request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td style="text-align:center">4</td><td>request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td style="text-align:center">5</td><td>request-restore-diddoc</td><td>사용자 DID Document 복구 요청</td><td>Y</td></tr><tr><td style="text-align:center">6</td><td>confirm-restore-diddoc</td><td>사용자 DID Document 복구 완료</td><td>Y</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="91-offer-restore-diddoc-push">9.1. Offer Restore DidDoc (Push)<a href="#91-offer-restore-diddoc-push" class="hash-link" aria-label="9.1. Offer Restore DidDoc (Push)에 대한 직접 링크" title="9.1. Offer Restore DidDoc (Push)에 대한 직접 링크">​</a></h3>
<p>DID Document 복구 세션 정보를 요청한다.</p>
<p>Trsut Agent는 Portal 사이트 등을 통해서 사용자의 인증을 진행하고, DID Document 복구 프로세스를 진행할 수 있다.
이 때의 복구 세션정보를 DID Restore Offer라고 칭한다.</p>
<p>Offer의 종류는 3가지가 있으며, 각각 복구 세션 정보를 전달하는 방식이 다르다:</p>
<ol>
<li><strong>offer-restore-vc-push</strong>: Push 알림을 통해 복구 세션 정보를 전달.</li>
<li><strong>offer-restore-vc-email</strong>: 이메일을 통해 복구 세션 정보를 전달.</li>
</ol>
<p>해당 API는 DID Restore Offer의 Payload를 Push 메시지를 통해서 전송한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/offer-restore-did/push</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="911-request">9.1.1. Request<a href="#911-request" class="hash-link" aria-label="9.1.1. Request에 대한 직접 링크" title="9.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object OfferRestoreDidPush: &quot;Offer Restore DID Push 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;        : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string    &quot;did&quot;       : &quot;사용자 DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="912-response">9.1.2. Response<a href="#912-response" class="hash-link" aria-label="9.1.2. Response에 대한 직접 링크" title="9.1.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>DID로 사용자 정보 확인</li>
<li>사용자 DID Document가 &#x27;폐기&#x27; 상태인지 확인</li>
<li>사용자의 Push Token 조회</li>
<li>Push 메시지 발송</li>
<li>Offer 정보 DB 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _OfferRestoreDidPush: &quot;Offer Restore DID Push 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid    &quot;offerId&quot;           : &quot;복구 offer id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

























<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA17002</td><td>사용자를 찾을 수 없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA17014</td><td>요청 처리에 실패했습니다: 사용자 상태가 &#x27;Deactivated&#x27;가  아닙니다.</td></tr><tr><td>SSRVTRA17004</td><td>앱을 찾을 수 없습니다: 앱이 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA17007</td><td>Push 토큰을 조회할 수 없습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA12003</td><td>Push 데이터 생성에 실패하였습니다.</td></tr><tr><td>SSRVTRA13501</td><td>FCM 메시지 전송에 실패했습니다.</td></tr><tr><td>SSRVTRA17019</td><td>&#x27;offer-restore-did-push&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="913-example">9.1.3. Example<a href="#913-example" class="hash-link" aria-label="9.1.3. Example에 대한 직접 링크" title="9.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/offer-restore-did/push&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409061024378200004A6EE7C2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;offerId&quot;:&quot;aae54cdf-0412-4878-bd32-b9745dd60482&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="92-offer-restore-diddoc-email">9.2. Offer Restore DidDoc (Email)<a href="#92-offer-restore-diddoc-email" class="hash-link" aria-label="9.2. Offer Restore DidDoc (Email)에 대한 직접 링크" title="9.2. Offer Restore DidDoc (Email)에 대한 직접 링크">​</a></h3>
<p>DID Document 회수 세션 정보를 요청한다.</p>
<p>TA는 Portal 사이트 등을 통해서 사용자의 인증을 진행하고, DID Document 복구 프로세스를 진행할 수 있다.
이 때의 복구 세션정보를 DID Restore Offer라고 칭한다.</p>
<p>Offer의 종류는 3가지가 있으며, 각각 복구 세션 정보를 전달하는 방식이 다르다:</p>
<ol>
<li><strong>offer-restore-vc-push</strong>: Push 알림을 통해 복구 세션 정보를 전달.</li>
<li><strong>offer-restore-vc-email</strong>: 이메일을 통해 복구 세션 정보를 전달.</li>
</ol>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/offer-restore-did/email</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="921-request">9.2.1. Request<a href="#921-request" class="hash-link" aria-label="9.2.1. Request에 대한 직접 링크" title="9.2.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object OfferRestoreDidEmail: &quot;Offer Restore DID Email 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId     &quot;id&quot;    : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string    &quot;did&quot;       : &quot;사용자 DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string    &quot;email&quot;     : &quot;사용자 이메일 주소&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="922-response">9.2.2. Response<a href="#922-response" class="hash-link" aria-label="9.2.2. Response에 대한 직접 링크" title="9.2.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>DID로 사용자 정보 확인</li>
<li>사용자 DID Document가 &#x27;폐기&#x27; 상태인지 확인</li>
<li>이메일 발송</li>
<li>Offer 정보 DB 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _OfferRestoreDidPush: &quot;Offer Restore DID Push 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid    &quot;offerId&quot;           : &quot;복구 offer id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

























<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA17002</td><td>사용자를 찾을 수 없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA17014</td><td>요청 처리에 실패했습니다: 사용자 상태가 &#x27;Deactivated&#x27;가 아닙니다.</td></tr><tr><td>SSRVTRA13500</td><td>이메일 템플릿 조회가 실패했습니다.</td></tr><tr><td>SSRVTRA15504</td><td>이메일 전송에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA20020</td><td>&#x27;offer-restore-did-email&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="923-example">9.2.3. Example<a href="#923-example" class="hash-link" aria-label="9.2.3. Example에 대한 직접 링크" title="9.2.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/offer-restore-did/email&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409061024378200004A6EE7C2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;test@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;offerId&quot;:&quot;aae54cdf-0412-4878-bd32-b9745dd60482&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="93-propose-restore-diddoc">9.3. Propose Restore DidDoc<a href="#93-propose-restore-diddoc" class="hash-link" aria-label="9.3. Propose Restore DidDoc에 대한 직접 링크" title="9.3. Propose Restore DidDoc에 대한 직접 링크">​</a></h3>
<p>사용자 DID Document 복구 거래를 시작한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/propose-restore-diddoc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="931-request">9.3.1. Request<a href="#931-request" class="hash-link" aria-label="9.3.1. Request에 대한 직접 링크" title="9.3.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M142_ProposeRestoreDidDoc: &quot;Propose Restore DidDoc 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;offerId&quot;: &quot;restore offer id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + did  &quot;did&quot;    : &quot;User DID to restore&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="932-response">9.3.2. Response<a href="#932-response" class="hash-link" aria-label="9.3.2. Response에 대한 직접 링크" title="9.3.2. Response에 대한 직접 링크">​</a></h4>
<p>거래코드를 생성하고 사용자 DID Document 복구 거래를 시작한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li><code>txId</code> = 거래코드 생성</li>
<li>TAS가 발송한 <code>RestoreDidOfferPayload</code>의 <code>offerId</code>와 <code>did</code>가 일치하는지 확인</li>
<li><code>did</code>의 상태가 복구 가능한 상태인지 확인
<ul>
<li>생애주기 상태가 <code>DEACTIVATED</code>가 아니면 에러</li>
</ul>
</li>
<li><code>authNonce</code> = DID Auth 용 16-byte nonce 생성</li>
<li><code>authNonce</code> 저장</li>
<li><code>txId</code>, <code>offerId</code>, <code>did</code> 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M142_ProposeRestoreDidDoc: &quot;Propose Restore DidDoc 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;authNonce&quot;: &quot;TAS nonce for DID Auth&quot;, byte_length(16)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

























<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA11001</td><td>DID Offer 정보를 찾을 수 없습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12011</td><td>요청한 DID와 Offer의 DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17002</td><td>사용자를 찾을 수 없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17014</td><td>요청 처리에 실패했습니다: 사용자 상태가 &#x27;Deactivated&#x27;가 아닙니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17015</td><td>&#x27;propose-restore-diddoc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="933-example">9.3.3. Example<a href="#933-example" class="hash-link" aria-label="9.3.3. Example에 대한 직접 링크" title="9.3.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/propose-restore-diddoc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409061024373320008E32CA36&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;offerId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;aae54cdf-0412-4878-bd32-b9745dd60482&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;authNonce&quot;:&quot;mXx4ZICWZNczC1jpFHXyxDA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="94-request-ecdh">9.4. Request ECDH<a href="#94-request-ecdh" class="hash-link" aria-label="9.4. Request ECDH에 대한 직접 링크" title="9.4. Request ECDH에 대한 직접 링크">​</a></h3>
<p>세션 암호화를 위한 키교환을 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-ecdh</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="941-request">9.4.1. Request<a href="#941-request" class="hash-link" aria-label="9.4.1. Request에 대한 직접 링크" title="9.4.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M142_RequestEcdh: &quot;ECDH 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ReqEcdh &quot;reqEcdh&quot;: &quot;ECDH request data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/reqEcdh</code>
<ul>
<li><code>client</code>: 클라이언트 DID</li>
<li><code>clientNonce</code>: 클라이언트가 생성한 난수</li>
<li><code>curve</code>: ECDH용 ECC 곡선 타입 (클라이언트가 하나를 지정)</li>
<li><code>publicKey</code>: 상기 <code>curve</code> 유형으로 생성한 임시키쌍의 공개키</li>
<li><code>candidate</code>
<ul>
<li><code>ciphers</code>: 클라이언트가 지원하는 cipher 알고리즘 목록</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="942-response">9.4.2. Response<a href="#942-response" class="hash-link" aria-label="9.4.2. Response에 대한 직접 링크" title="9.4.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li><code>~/reqEcdh/proof</code> 서명 검증</li>
<li>클라이언트 요청값(<code>~/reqEcdh</code>) 정합성 확인 및 cipher 알고리즘 선택
<ul>
<li><code>client</code> = <code>M142_ProposeRestoreDidDoc:~/did</code></li>
<li><code>cipherAlg</code> = cipher 알고리즘 선택</li>
<li><code>padding</code> = 패딩 방식 선택</li>
</ul>
</li>
<li>ECIES 세션키 생성
<ul>
<li><code>clientNonce</code> = <code>~/reqEcdh/clientNonce</code></li>
<li><code>severNonce</code> = 16-byte nonce 생성</li>
<li><code>mergedNonce</code> = sha256(serverNonce, clientNonce)</li>
<li><code>clientPubKey</code> = <code>~/reqEcdh/publicKey</code></li>
<li><code>serverPubKey</code>, <code>serverPriKey</code> = <code>~/reqEcdh/curve</code> 타입의 서버 임시키쌍 생성</li>
<li><code>sesKey</code> = ecies(serverPriKey, clientPubKey, mergedNonce, cipherAlg)</li>
</ul>
</li>
<li>ECDH 정보 저장
<ul>
<li>클라이언트 DID, 거래코드</li>
<li><code>sesKey</code>, <code>cipherAlg</code>, <code>padding</code></li>
</ul>
</li>
<li>ECDH 수락 데이터 생성 및 서명</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M142_RequestEcdh: &quot;Request ECDH 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AccEcdh &quot;accEcdh&quot;: &quot;ECDH acceptance data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/accEcdh</code>
<ul>
<li><code>server</code>: 서버 DID</li>
<li><code>serverNonce</code>: 서버가 생성한 난수</li>
<li><code>publicKey</code>: 서버가 생성한 임시키쌍의 공개키(<code>serverPubKey</code>)</li>
<li><code>cipher</code>: 클라이언트의 후보 중 서버가 선택한 cipher 알고리즘</li>
<li><code>padding</code>: 서버가 선택한 패딩 방식</li>
</ul>
</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16519</td><td>클라이언트 Nonce 처리 실패: 잘못된 Nonce입니다.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12008</td><td>지원되지 않는 Cipher Type 입니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16504</td><td>Nonce 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16506</td><td>세션키 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16521</td><td>&#x27;request-ecdh&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="943-example">9.4.3. Example<a href="#943-example" class="hash-link" aria-label="9.4.3. Example에 대한 직접 링크" title="9.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-ecdh&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240906102437450000382635A9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;reqEcdh&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;clientNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zW9wYU7dzYfwzYq2HsKTXrH&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;curve&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;publicKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zh7epe6WHeSYjQybGL3ctmaYRDtXR8uMyBoHWaMSEjqZT&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-06T01:24:37Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8?versionId=1#keyagree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;keyAgreement&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3m3xwu53VLbznUa8CyAS4MvC54ueCw8zJq4UgWpeqYjfqzKa9evCbQEKqkXH5MBv6uaWWY1Ah8Ftbo6tRGwRoVvnA&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;accEcdh&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server&quot;:&quot;did:omn:tas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;serverNonce&quot;:&quot;mG7HZMlbiFRZ8xRimSMKiDg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;publicKey&quot;:&quot;mAjCb4gPcBIzLlCXCDaAB+MGCxRh6LouwBI4tTqVkQb/b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cipher&quot;:&quot;AES-256-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;padding&quot;:&quot;PKCS5&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;type&quot;:&quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;created&quot;:&quot;2024-09-05T10:57:21.788620Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;verificationMethod&quot;:&quot;did:omn:tas#keyagree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofPurpose&quot;:&quot;keyAgreement&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofValue&quot;:&quot;mHwUcQPenuvmgl+4enG0dwBiQ+IZxTIF3X9c0PRCZuXTHBPNL0iC6R7dG5+AUXKd5nbWb6ZsCtPccVL+me7wU+34&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="95-request-create-token">9.5. Request Create Token<a href="#95-request-create-token" class="hash-link" aria-label="9.5. Request Create Token에 대한 직접 링크" title="9.5. Request Create Token에 대한 직접 링크">​</a></h3>
<p>인가앱이 TAS에게 서버토큰 생성을 요청한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-create-token</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="951-request">9.5.1. Request<a href="#951-request" class="hash-link" aria-label="9.5.1. Request에 대한 직접 링크" title="9.5.1. Request에 대한 직접 링크">​</a></h4>
<p>서버토큰을 생성하기 위해서는 아래와 같은 토큰시드를 넘겨줘야 한다.</p>
<ul>
<li><code>(ServerTokenSeed)seed</code>
<ul>
<li><code>purpose</code>: &quot;RestoreDid&quot;</li>
<li><code>walletInfo</code>: 서명된 월렛정보 (월렛 SDK 호출하여 획득)</li>
<li><code>caAppInfo</code>: 서명된 인가앱정보 (인가앱 사업자 API 호출하여 획득)</li>
</ul>
</li>
</ul>
<p>자세한 내용은 [DATA-SPEC]을 참조한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M142_RequestCreateToken: &quot;Request Create Token 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ServerTokenSeed &quot;seed&quot;: &quot;server token seed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/seed</code>
<ul>
<li><code>purpose</code>: 토큰 사용 목적</li>
<li><code>walletInfo</code>: 서명된 월렛 정보</li>
<li><code>caAppInfo</code>: 서명된 인가앱 정보</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="952-response">9.5.2. Response<a href="#952-response" class="hash-link" aria-label="9.5.2. Response에 대한 직접  링크" title="9.5.2. Response에 대한 직접 링크">​</a></h4>
<p>클라이언트가 넘겨준 seed 내 서명 검증 후 서버토큰 데이터를 생성하여 응답한다.
응답 데이터는 세션키로 암호화한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>purpose 유효성 확인</li>
<li><code>~/seed</code> 내 proof 서명 검증
<ul>
<li><code>walletInfo.proof</code> 월렛 서명 검증</li>
<li><code>caAppInfo.proof</code> 월렛 사업자 서명 검증</li>
</ul>
</li>
<li>데이터 준비
<ul>
<li>토큰 유효일시 설정</li>
<li>기타 난수 등 생성</li>
</ul>
</li>
<li>상기 데이터를 서명하여 <code>(ServerTokenData)std</code> 생성</li>
<li>서버토큰 생성하여 저장
<ul>
<li><code>serverToken</code> = sha256(std)</li>
</ul>
</li>
<li>응답 데이터 준비
<ul>
<li><code>encStd</code> = multibase(enc(std, sesKey, iv, padding))</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M142_RequestCreateToken: &quot;Request Create Token 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;iv&quot;  : &quot;세션키 암복호화 IV&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;encStd&quot;: &quot;multibase(enc((ServerTokenData)std))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/encStd</code>: 암호화된 서버토큰 데이터</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





















































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12005</td><td>지원하지 않는 &#x27;token purpose&#x27; 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18510</td><td>가입증명서 VC를 찾을 수 없습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12007</td><td>Provider DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18511</td><td>유효하지 않은 가입증명서 VC의 Issuer입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18519</td><td>VC 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA19000</td><td>서버 토큰 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19001</td><td>서버 토큰 데이터를 암호화하는 데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19005</td><td>&#x27;request-create-token&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="953-example">9.5.3. Example<a href="#953-example" class="hash-link" aria-label="9.5.3. Example에 대한 직접 링크" title="9.5.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-create-token&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409061024378200004A6EE7C2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;seed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;purpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;walletInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;wallet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WID202409HFaOFhPdgvY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zLJoyk4d9cKHK5gcqrYxsvm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-06T01:24:37Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3phZ31Z8jSYeRGZrwdggBz8L6sr69mQgu4k89HegX36AxqJLxqK6dYizFwCu5apUy3e958Rxha3MKwdhK1CtMihRR&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;caAppInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;appId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409Btz6cMklY2a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;certVcRef&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;http://192.168.3.130:8094/cas/api/v1/certificate-vc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mr8H6sYyMnNHT3Urz6HQgaw&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-06T10:24:37.604775Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mIMrVCiyWS8Tp2rHUaaw0JfQfgfaIKB7n7mUTzFPRbqgsRQ/VtcfXq672G7pBLqctJEyaaZarvbOAiibJqdUFXLM&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;iv&quot;:&quot;z75M7MfQsC4p2rTxeKxYh2M&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;encStd&quot;:&quot;zHri4iJ8q2mcv4GKmrb3GgnsyY6hT93rbvQir1eAmnqvMrfRcRUTfs16NQvrReuV9hx76X5qSpQ19NVm78ca4jnRuDoqbDwAqmtGPLwUvVaLUFMh6oEXZzfQQ5ds6JHMDvcYpeKCHtmyfUb2W7DbhZNEg9D4Au5TqQomey9A2vWG9FrN91PUg9nfyt9NCfqX6s38JHvedKCjqixBiv4Gs5hk2HNN3aCuS5Y53ACGeADA3cKFHwpJZNYBubHN7QAraBFu5zjWRv4RgK46MnTmfyxXzPLucjeRg9qAUabCJWmb6RwWT1SoUFzk8CMoQtppfn8GDHfcUrhGHEFcU2PYu3kKr97NLGbrpdftha2wVprd4ZKD4YS78pLSeXKGGEsnWU5CatFN7ayZqTU5ZspwZ567SUohWfJZn3XXp9y938rDr5WW1RtWD6UsxFxSY14h7C694DUkNsZKJejcnBxLqdqxbeqRn8AMvx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="96-request-restore-diddoc">9.6. Request Restore DidDoc<a href="#96-request-restore-diddoc" class="hash-link" aria-label="9.6. Request Restore DidDoc에 대한 직접 링크" title="9.6. Request Restore DidDoc에 대한 직접 링크">​</a></h3>
<ul>
<li>전송: 월렛 → TAS</li>
</ul>
<p>월렛이 사용자 DID Document 복구를 TAS에 직접 요청한다.</p>
<p>DID Document의 복구는 생애주기 상태가 <code>DEACTIVATED</code>인 경우에만 가능하다.
복구의 경우는 <code>DidDoc:~/deactivated</code>만 false로 변경되고 <code>DidDoc:~/versionId</code>를 포함한 그 어떤 값도 변경되지 않는다.</p>
<p>DID Document 복구를 사용자가 승인하였음을 확인하기 위해 DID Auth를 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-restore-diddoc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="961-request">9.6.1. Request<a href="#961-request" class="hash-link" aria-label="9.6.1. Request에 대한 직접 링크" title="9.6.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M142_RequestRestoreDidDoc: &quot;Request Restore DidDoc 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;: &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + DidAuth   &quot;didAuth&quot;    : &quot;DID Auth data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
<li><code>~/didAuth</code>: 사용자 인증 정보</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="962-response">9.6.2. Response<a href="#962-response" class="hash-link" aria-label="9.6.2. Response에 대한 직접 링크" title="9.6.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 일치여부 확인</li>
<li>DID Auth 검증</li>
<li>복구된 DidDoc 생성
<ul>
<li><code>didDoc</code> = 신뢰저장소에서 DidDoc 조회</li>
<li><code>deactivated</code> = false로 변경</li>
</ul>
</li>
<li>DB에 저장된 사용자 매핑 정보 확인
<ul>
<li>holderDid (Holder DID)</li>
<li>walletId (월렛 식별자)</li>
<li>appId (인가앱 식별자)</li>
</ul>
</li>
<li>신뢰저장소에 DidDoc 갱신
<ul>
<li>(InvokedDidDoc)idd = TAS 서명하여 신뢰저장소 갱신 요청 데이터 생성</li>
<li>DidDoc 갱신하고 활성화 상태로 변경 요청</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M142_RequestRestoreDidDoc: &quot;Request Restore DidDoc 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





























































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰 이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16520</td><td>&#x27;authNonce&#x27; 가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12011</td><td>요청한 DID와 Offer의 DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17005</td><td>앱 인증 실패: app ID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17508</td><td>Wallet 인증 실패: Wallet ID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA15003</td><td>블록체인에서 DID Document 업데이트에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17016</td><td>&#x27;request-restore-diddoc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="963-example">9.6.3. Example<a href="#963-example" class="hash-link" aria-label="9.6.3. Example에 대한 직접 링크" title="9.6.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-restore-diddoc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090610244042600051401B88&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;muIA3jnftOaSIZt499pH0Zr3CWNDhZ6bXMOCB6i74HgY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;didAuth&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;authNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mXx4ZICWZNczC1jpFHXyxDA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-06T01:24:40Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t?versionId=1#pin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;authentication&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3ndb7oW3ZpCLKgewocEPFxx6iWgdqAwBMFT6p4Wf4a89HS9jDdAa67Cyo1SYyNYPQpgUk3E3DfKMVU61TzdftAn1Q&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="97-confirm-restore-diddoc">9.7. Confirm Restore DidDoc<a href="#97-confirm-restore-diddoc" class="hash-link" aria-label="9.7. Confirm Restore DidDoc에 대한 직접 링크" title="9.7. Confirm Restore DidDoc에 대한 직접 링크">​</a></h3>
<p>사용자 DID Document 복구 거래를 종료한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/confirm-restore-diddoc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="971-request">9.7.1. Request<a href="#971-request" class="hash-link" aria-label="9.7.1. Request에 대한 직접 링크" title="9.7.1. Request에 대한 직접 링크">​</a></h4>
<p>월렛이 TAS를 통해 사용자의 DID Document 등록을 완료한 후 TAS 응답문의 <code>txId</code>를 회신한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M142_ConfirmRestoreDidDoc: &quot;Confirm Restore DidDoc 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;: &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/txId</code>: <code>_M142_RequestRestoreDidDoc.txId</code> (월렛으로부터 전달 받음)</li>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="972-response">9.7.2. Response<a href="#972-response" class="hash-link" aria-label="9.7.2. Response에 대한 직접 링크" title="9.7.2. Response에 대한 직접 링크">​</a></h4>
<p>서버토큰, 거래코드 일치여부 확인 후 사용자 DID Document 복구 프로토콜을 종료한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 일치여부 확인</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M142_ConfirmRestoreDidDoc: &quot;Confirm Restore DidDoc 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실 패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA17017</td><td>&#x27;confirm-restore-diddoc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="973-example">9.7.3. Example<a href="#973-example" class="hash-link" aria-label="9.7.3. Example에 대한 직접 링크" title="9.7.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/confirm-restore-diddoc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240906102442670000A4A355AF&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;muIA3jnftOaSIZt499pH0Zr3CWNDhZ6bXMOCB6i74HgY&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;cad7a1e8-0e27-47f3-b9dd-b6590a349852&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="10-p210---vc-발급-프로토콜">10. P210 - VC 발급 프로토콜<a href="#10-p210---vc-발급-프로토콜" class="hash-link" aria-label="10. P210 - VC 발급 프로토콜에 대한 직접 링크" title="10. P210 - VC 발급 프로토콜에 대한 직접 링크">​</a></h2>

































































<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>offer-issue-vc-qr</td><td>VC 발급 Offer 요청 (QR)</td><td>N</td></tr><tr><td style="text-align:center">1</td><td>offer-issue-vc-push</td><td>VC 발급 Offer 요청 (Push)</td><td>N</td></tr><tr><td style="text-align:center">1</td><td>offer-issue-vc-email</td><td>VC 발급 Offer 요청 (Email)</td><td>N</td></tr><tr><td style="text-align:center">2</td><td>propose-issue-vc</td><td>VC 발급 시작 요청</td><td>Y</td></tr><tr><td style="text-align:center">3</td><td>request-ecdh</td><td>ECDH 요청</td><td>Y</td></tr><tr><td style="text-align:center">4</td><td>request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td style="text-align:center">5</td><td>request-issue-profile</td><td>Issue Profile 요청</td><td>Y</td></tr><tr><td style="text-align:center">6</td><td>request-issue-vc</td><td>VC 발급 요청</td><td>Y</td></tr><tr><td style="text-align:center">7</td><td>confirm-issue-vc</td><td>VC 발급 완료</td><td>Y</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="101-offer-issue-vc-qr">10.1 Offer Issue VC (QR)<a href="#101-offer-issue-vc-qr" class="hash-link" aria-label="10.1 Offer Issue VC (QR)에 대한 직접 링크" title="10.1 Offer Issue VC (QR)에 대한 직접 링크">​</a></h3>
<p>VC 발급을 위해 발급 세션 정보를 요청하는 과정이다. Issuer(발급자)는 발급할 VC와 관련된 사용자의 정보를 미리 알고 있어, 발급 세션 정보를 인가앱에 제공할 수 있다. 이 발급 세션 정보는 Issue Offer라고 하며, 사용자는 이 정보를 통해 발급 절차를 시작할 수 있다.</p>
<p>예를 들어, 특정 기관의 직원만 발급받을 수 있는 공무원증과 같은 경우, 해당 직원의 정보는 이미 등록되어 있으며, 발급자는 이를 바탕으로 발급 세션을 생성하고 QR 코드를 통해 발급 링크를 제공할 수 있다. 사용자는 QR 코드를 스캔하여 VC 발급 절차를 시작할 수 있다.</p>
<p>Offer의 종류는 3가지가 있으며, 각각 발급 세션 정보를 전달하는 방식이 다르다:</p>
<ol>
<li><strong>offer-issue-vc-qr</strong>: QR 코드를 통해 발급 세션 정보를 전달.</li>
<li><strong>offer-issue-vc-push</strong>: Push 알림을 통해 발급 세션 정보를 전달.</li>
<li><strong>offer-issue-vc-email</strong>: 이메일을 통해 발급 세션 정보를 전달.</li>
</ol>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/tas/api/v1/offer-issue-vc/qr</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1011-request">10.1.1. Request<a href="#1011-request" class="hash-link" aria-label="10.1.1. Request에 대한 직접 링크" title="10.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object OfferIssueVcQr: &quot;Offer Issue VC QR 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId     &quot;id&quot;            : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + vcPlanId      &quot;vcPlanId&quot;      : &quot;VC Plan ID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + did           &quot;issuer&quot;        : &quot;Issuer DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1012-response">10.1.2. Response<a href="#1012-response" class="hash-link" aria-label="10.1.2. Response에 대한 직접 링크" title="10.1.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>issuer로 Entity 정보 조회</li>
<li>issuer server로 OfferIssueVc 메시지 전송</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _OfferIssueVcQr: &quot;Offer Issue VC QR 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid                  &quot;offerId&quot;           : &quot;VC 발급 offer id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + utcDatetime           &quot;validUntil&quot;        : &quot;발급 가능 종료일시&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + IssueOfferPayload     &quot;issueOfferPayload&quot; : &quot;VC Plan ID&quot; // 데이터 명세서 참고</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td>SSRVTRA14001</td><td>Issuer를 찾을 수 없습니다: Issur가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA14002</td><td>Issuer 등록이 완료되지 않았습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18527</td><td>&#x27;offer-issue-vc-qr&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1013-example">10.1.3. Example<a href="#1013-example" class="hash-link" aria-label="10.1.3. Example에 대한 직접 링크" title="10.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/offer-issue-vc/qr&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090517094582900020C99687&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;vcPlanId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;vcplanid000000000001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;offerId&quot;:&quot;91931795-346c-41ad-bf03-5a1ac6420dc8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;validUntil&quot;:&quot;2024-09-05T08:12:45.509427Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;issueOfferPayload&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;offerId&quot;:&quot;91931795-346c-41ad-bf03-5a1ac6420dc8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type&quot;:&quot;IssueOffer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;vcPlanId&quot;:&quot;vcplanid000000000001&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;issuer&quot;:&quot;did:omn:issuer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;validUntil&quot;:&quot;2024-09-05T08:12:45.509427Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="102-offer-issue-vc-push">10.2 Offer Issue VC (Push)<a href="#102-offer-issue-vc-push" class="hash-link" aria-label="10.2 Offer Issue VC (Push)에 대한 직접 링크" title="10.2 Offer Issue VC (Push)에 대한 직접 링크">​</a></h3>
<p>VC 발급을 위해 발급 세션 정보를 요청하는 과정이다. Issuer(발급자)는 발급할 VC와 관련된 사용자의 정보를 미리 알고 있어, 발급 세션 정보를 인가앱에 제공할 수 있다. 이 발급 세션 정보는 Issue Offer라고 하며, 사용자는 이 정보를 통해 발급 절차를 시작할 수 있다.</p>
<p>예를 들어, 특정 기관의 직원만 발급받을 수 있는 공무원증과 같은 경우, 해당 직원의 정보는 이미 등록되어 있으며, 발급자는 이를 바탕으로 발급 세션을 생성하고 Push 알림을 통해 발급 링크를 제공할 수 있다. 사용자는 Push 알림을 수신하여 VC 발급 절차를 시작할 수 있다.</p>
<p>Offer의 종류는 3가지가 있으며, 각각 발급 세션 정보를 전달하는 방식이 다르다:</p>
<ol>
<li><strong>offer-issue-vc-qr</strong>: QR 코드를 통해 발급 세션 정보를 전달.</li>
<li><strong>offer-issue-vc-push</strong>: Push 알림을 통해 발급 세션 정보를 전달.</li>
<li><strong>offer-issue-vc-email</strong>: 이메일을 통해 발급 세션 정보를 전달.</li>
</ol>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/tas/api/v1/offer-issue-vc/push</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1021-request">10.2.1. Request<a href="#1021-request" class="hash-link" aria-label="10.2.1. Request에 대한 직접 링크" title="10.2.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object OfferIssueVcPush: &quot;Offer Issue VC Push 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId     &quot;id&quot;            : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + vcPlanId      &quot;vcPlanId&quot;      : &quot;VC Plan ID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + did           &quot;issuer&quot;        : &quot;Issuer DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + did           &quot;holder&quot;        : &quot;사용자 DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1022-response">10.2.2. Response<a href="#1022-response" class="hash-link" aria-label="10.2.2. Response에 대한 직접 링크" title="10.2.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>issuer로 Entity 정보 조회</li>
<li>issuer server로 OfferIssueVc 메시지 전송</li>
<li>holder로 사용자 Push Token 조회</li>
<li>push 메시지 생성 후 전송</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _OfferIssueVcPush: &quot;Offer Issue VC Push 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid                  &quot;offerId&quot;           : &quot;VC 발급 offer id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + utcDatetime           &quot;validUntil&quot;        : &quot;발급 가능 종료일시&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td>SSRVTRA14001</td><td>Issuer를 찾을 수 없습니다: Issur가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA14002</td><td>Issuer 등록이 완료되지 않았습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

























<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td>SSRVTRA12003</td><td>Push 데이터 생성에 실패하였습니다.</td></tr><tr><td>SSRVTRA13501</td><td>FCM 메시지 전송에 실패했습니다.</td></tr><tr><td>SSRVTRA18528</td><td>&#x27;offer-issue-vc-push&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1023-example">10.2.3. Example<a href="#1023-example" class="hash-link" aria-label="10.2.3. Example에 대한 직접 링크" title="10.2.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/offer-issue-vc/push&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090517094582900020C99687&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;vcPlanId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;vcplanid000000000001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;holder&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;offerId&quot;:&quot;91931795-346c-41ad-bf03-5a1ac6420dc8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;validUntil&quot;:&quot;2024-09-05T08:12:45.509427Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="103-offer-issue-vc-email">10.3 Offer Issue VC (Email)<a href="#103-offer-issue-vc-email" class="hash-link" aria-label="10.3 Offer Issue VC (Email)에 대한 직접 링크" title="10.3 Offer Issue VC (Email)에 대한 직접 링크">​</a></h3>
<p>VC 발급을 위해 발급 세션 정보를 요청하는 과정이다. Issuer(발급자)는 발급할 VC와 관련된 사용자의 정보를 미리 알고 있어, 발급 세션 정보를 인가앱에 제공할 수 있다. 이 발급 세션 정보는 Issue Offer라고 하며, 사용자는 이 정보를 통해 발급 절차를 시작할 수 있다.</p>
<p>예를 들어, 특정 기관의 직원만 발급받을 수 있는 공무원증과 같은 경우, 해당 직원의 정보는 이미 등록되어 있으며, 발급자는 이를 바탕으로 발급 세션을 생성하고 이메일을 통해 발급 링크를 제공할 수 있다. 사용자는 이메일을 통해 VC 발급 절차를 시작할 수 있다.</p>
<p>Offer의 종류는 3가지가 있으며, 각각  발급 세션 정보를 전달하는 방식이 다르다:</p>
<ol>
<li><strong>offer-issue-vc-qr</strong>: QR 코드를 통해 발급 세션 정보를 전달.</li>
<li><strong>offer-issue-vc-push</strong>: Push 알림을 통해 발급 세션 정보를 전달.</li>
<li><strong>offer-issue-vc-email</strong>: 이메일을 통해 발급 세션 정보를 전달.</li>
</ol>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/tas/api/v1/offer-issue-vc/email</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1031-request">10.3.1. Request<a href="#1031-request" class="hash-link" aria-label="10.3.1. Request에 대한 직접 링크" title="10.3.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object OfferIssueVcEmail: &quot;Offer Issue VC Email 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId     &quot;id&quot;            : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + vcPlanId      &quot;vcPlanId&quot;      : &quot;VC Plan ID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + did           &quot;issuer&quot;        : &quot;Issuer DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string        &quot;email&quot;      : &quot;사용자 Email 주소&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1031-response">10.3.1. Response<a href="#1031-response" class="hash-link" aria-label="10.3.1. Response에 대한 직접 링크" title="10.3.1. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>issuer로 Entity 정보 조회</li>
<li>issuer server로 OfferIssueVc 메시지 전송</li>
<li>이메일 메시 지 생성 후 발송</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _OfferIssueVcPush: &quot;Offer Issue VC Push 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid                  &quot;offerId&quot;           : &quot;VC 발급 offer id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + utcDatetime           &quot;validUntil&quot;        : &quot;발급 가능 종료일시&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





























<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td>SSRVTRA14001</td><td>Issuer를 찾을 수 없습니다: Issur가   등록되지 않았습니다.</td></tr><tr><td>SSRVTRA14002</td><td>Issuer 등록이 완료되지 않았습니다.</td></tr><tr><td>SSRVTRA13500</td><td>이메일 템플릿 조회가 실패했습니다.</td></tr><tr><td>SSRVTRA15504</td><td>이메일 전송에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td>SSRVTRA18529</td><td>&#x27;offer-issue-vc-email&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1033-example">10.3.3. Example<a href="#1033-example" class="hash-link" aria-label="10.3.3. Example에 대한 직접 링크" title="10.3.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/offer-issue-vc/email&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090517094582900020C99687&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;vcPlanId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;vcplanid000000000001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;test@example.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;offerId&quot;:&quot;91931795-346c-41ad-bf03-5a1ac6420dc8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;validUntil&quot;:&quot;2024-09-05T08:12:45.509427Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="104-propose-issue-vc">10.4. Propose Issue VC<a href="#104-propose-issue-vc" class="hash-link" aria-label="10.4. Propose Issue VC에 대한 직접 링크" title="10.4. Propose Issue VC에 대한 직접 링크">​</a></h3>
<p>VC 발급 거래를 시작한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/propose-issue-vc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1041-request">10.4.1. Request<a href="#1041-request" class="hash-link" aria-label="10.4.1. Request에 대한 직접 링크" title="10.4.1. Request에  대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M210_ProposeIssueVc: &quot;Propose Issue VC 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + vcPlanId &quot;vcPlanId&quot;: &quot;VC plan id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - did      &quot;issuer&quot;  : &quot;issuer DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - uuid     &quot;offerId&quot; : &quot;VC offer id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1042-response">10.4.2. Response<a href="#1042-response" class="hash-link" aria-label="10.4.2. Response에 대한 직접 링크" title="10.4.2. Response에 대한 직접 링크">​</a></h4>
<p><code>vcPlanId</code>에 지정된 VC Plan을 확인한 후 VC 발급이 가능한지 확인하다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>VC plan 유효성 확인
<ul>
<li><code>vcPlanId</code>로 VC plan 검색</li>
<li><code>issuer</code>가 지정된 경우 해당 VC plan에 발급 가능한 이슈어(delegator 포함) 등록 여부 확인</li>
<li>발급이슈어 = 어떤 이슈어가 발급을 진행하는지 조회 (TAS DB 등에 저장된 정보 조회)</li>
</ul>
</li>
<li>발급이슈어에게 발급 가능여부 확인 (<code>vcPlanId</code>, <code>issuer</code>, <code>offerId</code> 전달)
<ul>
<li><code>refId</code> = 참조번호 생성</li>
</ul>
</li>
<li><code>txId</code> = 거래코드 생성</li>
<li><code>txId</code>, <code>refId</code> 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M210_ProposeIssueVc: &quot;Propose Issue VC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + refId &quot;refId&quot;: &quot;참조번호&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td style="text-align:center">SSRVTRA14001</td><td>Issuer를 찾을 수 없습니다: Issur가 등록되지 않 았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14002</td><td>Issuer 등록이 완료되지 않았습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18520</td><td>&#x27;propose-issue-vc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1043-example">10.4.3. Example<a href="#1043-example" class="hash-link" aria-label="10.4.3. Example에 대한 직접 링크" title="10.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/propose-issue-vc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090517094742400079C99687&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;vcPlanId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;vcplanid000000000001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;issuer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:issuer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;offerId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;91931795-346c-41ad-bf03-5a1ac6420dc8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;refId&quot;:&quot;1234567890ABCDEFGHIJ&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="105-request-ecdh">10.5. Request ECDH<a href="#105-request-ecdh" class="hash-link" aria-label="10.5. Request ECDH에 대한 직접 링크" title="10.5. Request ECDH에 대한 직접 링크">​</a></h3>
<p>세션 암호화를 위한 키교환을 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-ecdh</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1051-request">10.5.1. Request<a href="#1051-request" class="hash-link" aria-label="10.5.1. Request에 대한 직접 링크" title="10.5.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M210_RequestEcdh: &quot;ECDH 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ReqEcdh &quot;reqEcdh&quot;: &quot;ECDH request data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/reqEcdh</code>
<ul>
<li><code>client</code>: 클라이언트 DID</li>
<li><code>clientNonce</code>: 클라이언트가 생성한 난수</li>
<li><code>curve</code>: ECDH용 ECC 곡선 타입 (클라이언트가 하나를 지정)</li>
<li><code>publicKey</code>: 상기 <code>curve</code> 유형으로 생성한 임시키쌍의 공개키</li>
<li><code>candidate</code>
<ul>
<li><code>ciphers</code>: 클라이언트가 지원하는 cipher 알고리즘 목록</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1052-response">10.5.2. Response<a href="#1052-response" class="hash-link" aria-label="10.5.2. Response에 대한 직접 링크" title="10.5.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li><code>~/reqEcdh/proof</code> 서명 검증</li>
<li>클라이언트 요청값(<code>~/reqEcdh</code>) 정합성 확인 및 cipher 알고리즘 선택
<ul>
<li><code>cipherAlg</code> = cipher 알고리즘 선택</li>
<li><code>padding</code> = 패딩 방식 선택</li>
</ul>
</li>
<li>ECIES 세션키 생성
<ul>
<li><code>clientNonce</code> = <code>~/reqEcdh/clientNonce</code></li>
<li><code>severNonce</code> = 16-byte nonce 생성</li>
<li><code>mergedNonce</code> = sha256(serverNonce, clientNonce)</li>
<li><code>clientPubKey</code> = <code>~/reqEcdh/publicKey</code></li>
<li><code>serverPubKey</code>, <code>serverPriKey</code> = <code>~/reqEcdh/curve</code> 타입의 서버 임시키쌍 생성</li>
<li><code>sesKey</code> = ecies(serverPriKey, clientPubKey, mergedNonce, cipherAlg)</li>
</ul>
</li>
<li>ECDH 정보 저장
<ul>
<li>클라이언트 DID, 거래코드</li>
<li><code>sesKey</code>, <code>cipherAlg</code>, <code>padding</code></li>
</ul>
</li>
<li>ECDH 수락 데이터 생성 및 서명</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M210_RequestEcdh: &quot;Request ECDH 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AccEcdh &quot;accEcdh&quot;: &quot;ECDH acceptance data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/accEcdh</code>
<ul>
<li><code>server</code>: 서버 DID</li>
<li><code>serverNonce</code>: 서버가 생성한 난수</li>
<li><code>publicKey</code>: 서버가 생성한 임시키쌍의 공개키(<code>serverPubKey</code>)</li>
<li><code>cipher</code>: 클라이언트의 후보 중 서버가 선택한 cipher 알고리즘</li>
<li><code>padding</code>: 서버가 선택한 패딩 방식</li>
</ul>
</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16519</td><td>클라이언트 Nonce 처리 실패: 잘못된 Nonce입니다.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12008</td><td>지원되지 않는 Cipher Type 입니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16504</td><td>Nonce 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16506</td><td>세션키 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16521</td><td>&#x27;request-ecdh&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1053-example">10.5.3. Example<a href="#1053-example" class="hash-link" aria-label="10.5.3. Example에 대한 직접 링크" title="10.5.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-ecdh&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051657277950001BB998C7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;reqEcdh&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;clientNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zBAW92K2iAdSxNDwAw3H3Xx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;curve&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;publicKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z2BFUEHLriaZHCWowJ2u5zhdX5xfMXQuBbUzCUYo5btwg7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T07:57:27Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc?versionId=1#keyagree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;keyAgreement&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3rUktt9bdVsZ65sbN9oReDNK7YE9jJLHmt5DzCDedYAwrx5Dym47QbpTRnx3UWwnYyQ669W7LqYD6ULq827f2izPa&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;accEcdh&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server&quot;:&quot;did:omn:tas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;serverNonce&quot;:&quot;mG7HZMlbiFRZ8xRimSMKiDg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;publicKey&quot;:&quot;mAjCb4gPcBIzLlCXCDaAB+MGCxRh6LouwBI4tTqVkQb/b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cipher&quot;:&quot;AES-256-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;padding&quot;:&quot;PKCS5&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;type&quot;:&quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;created&quot;:&quot;2024-09-05T10:57:21.788620Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;verificationMethod&quot;:&quot;did:omn:tas#keyagree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofPurpose&quot;:&quot;keyAgreement&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofValue&quot;:&quot;mHwUcQPenuvmgl+4enG0dwBiQ+IZxTIF3X9c0PRCZuXTHBPNL0iC6R7dG5+AUXKd5nbWb6ZsCtPccVL+me7wU+34&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="106-request-create-token">10.6. Request Create Token<a href="#106-request-create-token" class="hash-link" aria-label="10.6. Request Create Token에 대한 직접 링크" title="10.6. Request Create Token에 대한 직접 링크">​</a></h3>
<p>인가앱이 TAS에게 서버토큰 생성을 요청한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-create-token</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1061-request">10.6.1. Request<a href="#1061-request" class="hash-link" aria-label="10.6.1. Request에 대한 직접 링크" title="10.6.1. Request에 대한 직접 링크">​</a></h4>
<p>서버토큰을 생성하기 위해서는 아래와 같은 토큰시드를 넘겨줘야 한다.</p>
<ul>
<li><code>(ServerTokenSeed)seed</code>
<ul>
<li><code>purpose</code>: &quot;IssueVc&quot;</li>
<li><code>walletInfo</code>: 서명된 월렛정보 (월렛 SDK 호출하여 획득)</li>
<li><code>caAppInfo</code>: 서명된 인가앱정보 (인가앱 사업자 API 호출하여 획득)</li>
</ul>
</li>
</ul>
<p>자세한 내용은 [DATA-SPEC]을 참조한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M210_RequestCreateToken: &quot;Request Create Token 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ServerTokenSeed &quot;seed&quot;: &quot;server token seed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/seed</code>
<ul>
<li><code>purpose</code>: 토큰 사용 목적</li>
<li><code>walletInfo</code>: 서명된 월렛 정보</li>
<li><code>caAppInfo</code>: 서명된 인가앱 정보</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1062-response">10.6.2. Response<a href="#1062-response" class="hash-link" aria-label="10.6.2. Response에 대한 직접 링크" title="10.6.2. Response에 대한 직접 링크">​</a></h4>
<p>클라이언트가 넘겨준 seed 내 서명 검증 후 서버토큰 데이터를 생성하여 응답한다.
응답 데이터는 세션키로 암호화한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>purpose 유효성 확인</li>
<li><code>~/seed</code> 내 proof 서명 검증
<ul>
<li><code>walletInfo.proof</code> 월렛 서명 검증</li>
<li><code>caAppInfo.proof</code> 월렛 사업자 서명 검증</li>
</ul>
</li>
<li>데이터 준비
<ul>
<li>토큰 유효일시 설정</li>
<li>기타 난수 등 생성</li>
</ul>
</li>
<li>상기 데이터를 서명하여 <code>(ServerTokenData)std</code> 생성</li>
<li>서버토큰 생성하여 저장
<ul>
<li><code>serverToken</code> = sha256(std)</li>
</ul>
</li>
<li>응답 데이터 준비
<ul>
<li><code>tmp</code> = enc(std, sesKey, iv, padding)</li>
<li><code>encStd</code> = multibase(tmp)</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M210_RequestCreateToken: &quot;Request Create Token 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;iv&quot;  : &quot;세션키 암복호화 IV&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;encStd&quot;: &quot;multibase(enc((ServerTokenData)std))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/encStd</code>: 암호화된 서버토큰 데이터</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





















































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12005</td><td>지원하지 않는 &#x27;token purpose&#x27; 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18510</td><td>가입증명서 VC를 찾을 수 없습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12007</td><td>Provider DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18511</td><td>유효하지 않은 가입증명서 VC의 Issuer입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18519</td><td>VC 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA19000</td><td>서버 토큰 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19001</td><td>서버 토큰 데이터를 암호화하는 데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19005</td><td>&#x27;request-create-token&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1063-example">10.6.3. Example<a href="#1063-example" class="hash-link" aria-label="10.6.3. Example에 대한 직접 링크" title="10.6.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-create-token&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905170947993000861DAFA8&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;seed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;purpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;walletInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;wallet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WID202409HFaOFhPdgvY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zH89qcQKR7aWHtBEgBP5yGw&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T08:09:47Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3rVubHq8Qf6xCV91t3YHir4jmiu1q6YqrY5bFZLMdfGD6jBSsRA35s5cv3gYomiPNmkr1S5tq4jLnWTRjHoUbuzY9&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;caAppInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;appId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409Btz6cMklY2a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;certVcRef&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;http://192.168.3.130:8094/cas/api/v1/certificate-vc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mo89FVpdpHTebEmxWTowoJg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T17:09:47.641218Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mH3t/sR8N4MSR6X1xbf/M9UsN9vZJJ9e9rkofDASJKJBfF/YiEXi1fXZxm0d8nnnEfZiOHfQapIZXahg6sj79Wbk&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;iv&quot;:&quot;z75M7MfQsC4p2rTxeKxYh2M&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;encStd&quot;:&quot;zHri4iJ8q2mcv4GKmrb3GgnsyY6hT93rbvQir1eAmnqvMrfRcRUTfs16NQvrReuV9hx76X5qSpQ19NVm78ca4jnRuDoqbDwAqmtGPLwUvVaLUFMh6oEXZzfQQ5ds6JHMDvcYpeKCHtmyfUb2W7DbhZNEg9D4Au5TqQomey9A2vWG9FrN91PUg9nfyt9NCfqX6s38JHvedKCjqixBiv4Gs5hk2HNN3aCuS5Y53ACGeADA3cKFHwpJZNYBubHN7QAraBFu5zjWRv4RgK46MnTmfyxXzPLucjeRg9qAUabCJWmb6RwWT1SoUFzk8CMoQtppfn8GDHfcUrhGHEFcU2PYu3kKr97NLGbrpdftha2wVprd4ZKD4YS78pLSeXKGGEsnWU5CatFN7ayZqTU5ZspwZ567SUohWfJZn3XXp9y938rDr5WW1RtWD6UsxFxSY14h7C694DUkNsZKJejcnBxLqdqxbeqRn8AMvx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="107-request-issue-profile">10.7. Request Issue Profile<a href="#107-request-issue-profile" class="hash-link" aria-label="10.7. Request Issue Profile에 대한 직접 링크" title="10.7. Request Issue Profile에 대한 직접 링크">​</a></h3>
<p>VC 발급을 위한 IssueProfile을 요청한다.
TAS는 식별된 발급 사업자에게 IssueProfile 생성을 요청하여 인가앱에 전달한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-issue-profile</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1071-request">10.7.1. Request<a href="#1071-request" class="hash-link" aria-label="10.7.1. Request에 대한 직접 링크" title="10.7.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M210_RequestIssueProfile: &quot;Request Issue Profile 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;: &quot;서버토큰&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1072-response">10.7.2. Response<a href="#1072-response" class="hash-link" aria-label="10.7.2. Response에 대한 직접 링크" title="10.7.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>서버토큰 유효성 확인</li>
<li>이슈어에 IssueProfile 요청</li>
<li><code>authNonce</code> = DID Auth 용 16-byte nonce 생성</li>
<li><code>authNonce</code> 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M210_RequestIssueProfile: &quot;Request Issue Profile 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase    &quot;authNonce&quot;: &quot;TAS nonce for DID Auth&quot;, byte_length(16)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + IssueProfile &quot;profile&quot;  : &quot;issue profile&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

















































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트 랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14001</td><td>Issuer를 찾을 수 없습니다: Issur가 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14002</td><td>Issuer 등록이 완료되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18521</td><td>&#x27;request-issue-profile&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1073-example">10.7.3. Example<a href="#1073-example" class="hash-link" aria-label="10.7.3. Example에 대한 직접 링크" title="10.7.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-issue-profile&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090517094848900077CC2981&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mr9B+5H6PbgSCNilyvvdbwJA05P/LyvC7ijTVkid7qGU&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;authNonce&quot;:&quot;mrF7S5K8vnr+TPL0h4dwbxA&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;profile&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;id&quot;:&quot;8f7fc1ee-7aec-4dd3-94ca-57e7162485ce&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type&quot;:&quot;IssueProfile&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;title&quot;:&quot;Mobile Driver License&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;description&quot;:&quot;Mobile Driver License&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;encoding&quot;:&quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;language&quot;:&quot;ko&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;profile&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;issuer&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;did&quot;:&quot;did:omn:issuer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;certVcRef&quot;:&quot;http://192.168.3.130:8091/issuer/api/v1/certificate-vc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;name&quot;:&quot;issuer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;credentialSchema&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;id&quot;:&quot;http://192.168.3.130:8091/issuer/api/v1/vc/vcschema?name=mdl&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;:&quot;OsdSchemaCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;process&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;endpoints&quot;:[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               &quot;http://192.168.3.130:8091/issuer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;reqE2e&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               &quot;nonce&quot;:&quot;mgM7zQA4IgIYefiLMqkdPcQ&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               &quot;curve&quot;:&quot;Secp256r1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               &quot;publicKey&quot;:&quot;mAnkp5UjBqUnBCkW0pe9jA2jh4bU8v8NhRfN2hhqmPN+w&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               &quot;cipher&quot;:&quot;AES-256-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               &quot;padding&quot;:&quot;PKCS5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;issuerNonce&quot;:&quot;mgM7zQA4IgIYefiLMqkdPcQ&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;type&quot;:&quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;created&quot;:&quot;2024-09-05T17:09:48.542686Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;verificationMethod&quot;:&quot;did:omn:issuer#assert&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofPurpose&quot;:&quot;assertionMethod&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofValue&quot;:&quot;mH5W1Ix7hcGBneQUFy854p/yBDHAy3+sj1zTu7gqMdLrQcNudaA31U5Pr9YS+o9OA93jlAy7JziutugxwgPqGMZA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="108-request-issue-vc">10.8. Request Issue VC<a href="#108-request-issue-vc" class="hash-link" aria-label="10.8. Request Issue VC에 대한 직접 링크" title="10.8. Request Issue VC에 대한 직접 링크">​</a></h3>
<ul>
<li>전송: 월렛 → TAS</li>
</ul>
<p>월렛이 VC 발급을 위한 아래 정보를 생성하여 TAS에 요청한다.</p>
<ul>
<li>DID Auth 정보: TAS가 검증</li>
<li>암호화된 발급요청 정보: 이슈어가 검증</li>
<li>E2E 수락정보</li>
</ul>
<p>TAS는 DID Auth 검증 후 나머지 정보를 이슈어 전달하여 발급을 요청한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-issue-vc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1081-request">10.8.1. Request<a href="#1081-request" class="hash-link" aria-label="10.8.1. Request에 대한 직접 링크" title="10.8.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M210_RequestIssueVc: &quot;Request Issue VC 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + mulitbase &quot;serverToken&quot;: &quot;서버토큰&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + DidAuth   &quot;didAuth&quot;    : &quot;DID Auth data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AccE2e    &quot;accE2e&quot;     : &quot;E2E 수락정보&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;encReqVc&quot;   : &quot;multibase(enc((ReqVc)reqVc))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/didAuth</code>: 사용자 인증 정보</li>
<li><code>~/accE2e</code>: <code>IssueProfile:~/profile/process/reqE2e</code>에 대응한 E2E 수락정보</li>
<li><code>~/encReqVc</code>: E2E 키로 암호화된 VC 발급요청 정보
<ul>
<li><code>refId</code>: <code>_M210_ProposeIssueVc:~/refId</code></li>
<li><code>profile</code>
<ul>
<li><code>id</code>: <code>IssueProfile:~/id</code></li>
<li><code>issuerNonce</code>: <code>IssueProfile:~/profile/process/issuerNonce</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1082-response">10.8.2. Response<a href="#1082-response" class="hash-link" aria-label="10.8.2. Response에 대한 직접 링크" title="10.8.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확 인</li>
<li>DID Auth 검증</li>
<li>이슈어에 발급 요청
<ul>
<li>Issue VC {accE2e, encReqVc} API 호출</li>
<li>{encVc, iv} 수신</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M210_RequestIssueVc: &quot;Request Issue VC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + object &quot;e2e&quot;: &quot;E2E 암호화 정보&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        + multibase &quot;iv&quot;   : &quot;E2E 암복호화 IV&quot;, byte_length(16)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        + multibase &quot;encVc&quot;: &quot;multibase(enc(vc))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14001</td><td>Issuer를 찾을 수 없습니다: Issur가 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14002</td><td>Issuer 등록이 완료되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16520</td><td>&#x27;authNonce&#x27; 가 일치하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18522</td><td>&#x27;request-issue-vc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1083-example">10.8.3. Example<a href="#1083-example" class="hash-link" aria-label="10.8.3. Example에 대한 직접 링크" title="10.8.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-issue-vc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090517095134400058236747&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mr9B+5H6PbgSCNilyvvdbwJA05P/LyvC7ijTVkid7qGU&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;didAuth&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;authNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mrF7S5K8vnr+TPL0h4dwbxA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T08:09:51Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t?versionId=1#pin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;authentication&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3jgUargprtpToWL5yGhwU4tNQGET6QUAwMYMDHCM9YGViqExdr7pF3WuHu5CtbuUwsn84uoc3DWHnr86Mjgn679FZ&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;accE2e&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;publicKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z23VZ8fxjN2nQLEEdSfG1wy9ZTRhvbSKQXHgntw8K85oKe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;iv&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zH75TaC7Gm5iyR16vURZzQV&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T08:09:51Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t?versionId=1#keyagree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;keyAgreement&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3rAMDs9cQbnjBoZyuofzRpiBeD4V8kKs8o3Qqa5M43AQvHz1mrRe1PqhMhVq9ZUrnmwr1cErvVcEEhes8BP9RRUYY&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;encReqVc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zKrq4BRRZACyGjzbJoHUbbTdfw6mitYQmoiyMiB9V4KTV8YDFQQhLvq5aAFKekBfDceX4YJY9b4ADC3L7kBi1jdiR5A79zrcJtScDAf27xFi7ZTvTeqQ2moS1FbprfaFuUr3zBgVsb8MNEP9inpE6Ko8ix2LfYEuAmkLdBmAeotSc8JA&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;e2e&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;iv&quot;:&quot;z75M7MfQsC4p2rTxeKxYh2M&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;encVc&quot;:&quot;z9Nkz77f4EwqLHZR34aDWrzyY8ik8VbpAmXrABTvoJgCJ6ixBc215ohPcANg7iShMK6HTn3VQ2ivPu5vHtGUYJEQPdHKpbFaiXod8fk4N6BdQwTkSPqGnWn8GekuCXf9Vd44Sdp63bWhpLKFPpvsLXmU3W1kLEiukXyf42L22gSCj1HNEcBskGeYWpGMpcm7L8opPwLjuMKMD8qnvvtKHpHCzLi2tSv3GE4RpnuyamdSKtM2SWoGec1EuHLFh9QBb5ntPxfFEpTae2ysmsee1p9pKpkd3BApE6jFfSXaerXqSiF6EKHZPPFp9fbpLxnqd9MAQ3CbGEttVoYUvYtsRQBge5zFfhPCXGdFuiik3iFQ2RxvRgqP3krwKgNYUjKkcJDGuP27oyipHNWxgUh2oEkQdJizBwLe2aj1aScsNt19341kJa2dTHGqenbg3GpvNDQqRKnkUFkhk7KzhFgaDJqAuo22MCcm8MgvP3nmbR23NQF9UaXRP3CN7c9N1KDAsNJYGtRVbNArj9xdgxurB55BcmvifJgJAQmYciyaYVmSZmgNghh3xjfZ9i2DmqV6DYVaFvWUrzDg1bj3RVadNguiwGf5sUMtAoMWeg1ixpbU5GQrkYBnZ5XxAWaAA6CToqDyaJ6nJZFb9kipF2YkHLBmf96GUSvBoJbNxDcXLA9YfABwCCiujbYRekd5AbVm48YcNzonzo981zGFpLMCxZ9a6mHkD29p1yMDEFwBANsTaAnPYxphmPMBcrDZN5NxHRyBjPSUz1GWay3JPxYsC41URXp3fJf43vP29LEr9pcRrxnGdznfkfKC6MihRF6658e11ZBU8g2a2nF3wVoxiQTWzHgusHosbj7rDB8wA9id5QZDsJBEeJAR834rXUbb2QnbNSpLfRiiAxHvwzXyZ7w3WWssY6mdixVkfLojDJpB1Szcfu2xVZRZkq42VUGgWkYCV2YNQc3VURtQ3HQg6w3GikjJZjtmysq2e9aB2Z6QTWDNzkKhZPLRW6aaqeUACmwfJusFNeHDCkbnPpBS8duwZ293dqW2xbP87VQmqS9cx9BNhKTzfWFc6yMbej2gaWnY7VGDZwXYoDcc2aktDSHTxm6BVhhX1cWh1oXim1TVC75Q4YsPrGxjL5jzkMVBnihqjDYfP4Hm8mJBzjM1zRiBn6ndUwrKF1DbjVLstgLqshUv2kxunRUVmFCkBpcsFHiMYgnkG1B1b7zsCFxQ47f117RWdLy3UVCDT1YHiFVNztpPZ8DvFJ6mfAQkXzNp5SYNnB4wCtqAjMjHqfY2EKVdv4mwNSah7tZ2VLVFha3pxAqvt5N1QS2vrNPirnJZupycHs5mhCfsq5TjuVaooaMxiZNsHneKSUen4THoGd7WdRXeuQtGoevWvAH8G5jnv9dBJKeDiKPsunLeU7pZGA1MaL4QPHhXCiDAuhrzYyhFN56eLEr2FQuuA7yjhWV4inqZt21Jn5iDBQ1B5G66mDGqBzUxF9eJiZiSJGVknv7e81RVRCabdu5j8p7R5xZ4UAu6UGAxXMno8rX9BVshqoSNamk9ryWqWHwYCGSUNxvvEz6qCR2Efp5km8Fo2hb4yJJmEjBSRZghgTUsfMExQq4SZxmHnzE3zqMjScys4rehp9RLMBtfoDE8HfF2qebzTv3EFfehGDrxy44AT9Qm9w8XFUSd84aaCicXu6JrV1xHmAxUF2z23k17S3L2Xfi3RusunjUuA6DpGETaNH84fWKYt2YGGnJpxGpoNsDFmvFeQdQqRjPydjPy21HmzCQyAHexEePvdrASxn8qk52TUtXasXsUPRs2YaJdtd9QALEqwmYK6XaJ6uKstrpKY4MtGb2Uz5RwyPPrtiYL3w34T5DV5WoZBE9rQhTSvBWnPQybwpLXM56s4k1154Q91m3MoeLu2G5xsLfx7LDVFg8Mw2kN74Q1egGUrsVLcEYVNRtgphX6vomQ1y8kuiVLXhhtCsrbvJo3nujV7pZpBW9P6N6xkBzgSuLSAPsLWz1jv2rai9NMcustDKQDEAH2KFyfLBx3xYuL3WuJocVJ3ipGaN2DcYeeVaz9WfHAEpfpXQssHfLqc9TzfPZBAP8x1zpm5rbmaSx3igEnv8CMAmjMSEypoCVcV999qnru8fbtRBECUsv7sBmKTwLEvWv63Jw1zsQ57cML1YaNeRiT8SGWFh1tDWndtu1j1SnmuS23yYohtDS7tVk2bGSh95Jf18i4PZo7b4qS8uRMnyWn6jpknxc51WAAz9UH31VbaFsvHPUzFB5ssNfRJkPtxPMueAy5Fr27dyAZdMnXTx1a7u9nXdyHZhdTTvV2meFa2JmccCfzVPd7XTqjZkHUHZHCKsuScKVF84JR47utAqGFX1tdMKa6Ht1gNAidM7XjrjiazWg6mbb6dNhiuZTePSzmWpnVrGpSHgdqxFcxHZMKWwWACSanv8Uzyskt3FkD3dH1vBhd22LmctnvAcixR8E7sm4SKeSZirgyHgictrz74XRPFApAAu2cBAP86Q49FDcuREGbXD9fdh4GezC9G7gT5j9AMF9Smoq27CpHkxazJJUjkmHERW9kv8QCYPgqjGH8MoLakU7fbaVJ6gswignkPjmEsws4a5SijrKQNQpHnhEBkEWzAvjaBwzcrEpc1oShvnxsciEP4UTc2LWeFWqZY9Vy9zqrNdkwg5YCNBWVCKPWPPAhqKxDW5zxZRytQWfTCT6L5QyQebS25CCiiwsFuRuifPkgLRLHma7qp4zpdn6xtk8BqVXct6AZ5zoeUM4hS4M4KwMMhkj3x4CU7uSogiNUi2EqYQ2b6JsxsiYYFxwFazj26RY3b5hozYJMBA5Zdf7TW9y986BPRfN4QDKfqUV6nLm2cYmm72TVsznHDm3xXGMMbhufdyobRGir3CxZcE6J8dYsZyLXWmqLpQmYf9Nkz1kTdmko6pYUrPA4EY9XfRGuzhGZh5BEs1UGQZ7Rbnwti8UNKCnRmAvaBz8FLxCmY4CgXAAQvu99VvcqYyB6mdqE9997CpJekR8SW2e3Qvp9hnv2z2HQpgTnGSkxNgnUawe1W1mHXirmEGdCUEFvRC5TS1DeqbfwkfB4Q4oijA5Vv7oaTMVnDw8aBtU2MNqc6TMeieAb7XSc4V12Vd7PbD32gegYAQMo7Kozbskj7Gg98FjFF9SVH96zVMmEgNCHqTcqgHg1Q9wxxWssyugU3o6Q7vz6PFvQ59BH4Huotg7NMZcF6TwyKsMEmBPkbDHBCHeKTiuN48SpS7UQx56jmnoBDQe4mAxwkVNbryVv4qgqRNR5UmG7rt7g35d4Mi8y4AD4yCHJyKsHpGmmjAWRgpS8jeqNSRazF3RxnstcBjrhU8A39mddpcjXu4veU8B8yfx7DyYzw1KtEmHU2MBMuku4CGEWuZ3RTwkQ1i73wFCGGhWYrn3L5bvZHvp6SpGLCEFERnTYfraC6MxjCEUtJq9YB87gGXnvdwysgjp2xj6eYDQWXxCar652bYD37GBnPkCxXJp1YNckPbD9Vg3EvnqpYfpDadxtaZveYfn3Lu7wMTF53BLCJgevHtGHaTCYsq2zJGdFibYWbAPuNAmnsnXspAYwAzpTZvNXJND6NTi9EDRqF1MQbhwufuYy4fDaFLq9FHyZc6MF1YPZpVfkLQm4UQ57P34gw4hSHxkTiGMVWBUzJLw3iVzvf6KZxXPSQuq9SowCqSbj9tfzhNKQPVg1rfoP8hJm52awUxtE9rX8dF6Gbsg95Lp5zFdqh1ZrpakoqUGMe3KNjNo3Sj9GKUthKQkAPukSZWt6bCXpguM9xANbgnXL2h7yQ1NoKKJWPJoMk6wr42FC34LRHZpTWx1CYYGPULrVj5miLPwTLBk9FahPoFZ5WAcoWEYpe4XzSKzTA7putR75Z4vMzqT2pYCnQK7AGj3CmmrERsgLdkXByXQFWKF5E3Cv9bVuaGVGar7tiuYqWzebGZgpMbjHmT4BH8xt9bbDzES6zjEYNSbYx99NgndsQLSsx9zx6XnnEe15ptrMmwa67pURVCSDMhSY7LYQuPjVH5vy8oioJHA8gGhdMLXu3nBWXc1yVPni4paJWCRdHLutjQRKC4LwJDjZLaEmrrGqB4oXGugrpkM969o4dvVuu3tNFHBdxhXh3JY1mMKj3nweUQPFHvgqnBY3vg2xGaiSLX5egh211mcTBtEa6RWRGUFA9sAgAvQ9u6gHA6v8UpmdEpzwZ8u1bzpDhJXsGwkojKCEPaSGdWypHWQ8dU1rJauLuz4p4jWVxcMX9DQegce3nCGDqqbGU2FqcjQny151TCtJkidtsyFg9tfdWmM6g4RBZ7avnyxiQDbECFkv5SijSHtDcFoPWxAgFEwC8JaqwUK42iHcnKcH1QdEJenLhjVrhTb3RETdK8hf24HFZnxYRBdKcAyPNdBuaUYAjKdMeRULqSHgbwEm4DWdx7srNFqwhnm6HEnPEyqUgT1sGM6n8PRRvPj9ZzT7CrRo9qmXFLY2RmTY2t5u5xkic7GPuCLUbpSeKQDqBToFZRDZNzhcgYJsKRv4qNkJ4fUyubUfuScyftHJ91AHRq5iTDAgZHcquTUHLBSAFRMihFxN1c1DzwHvvwhkwofk5F8ZUnPMeGVTXMkwVoqRKBWJw7TnNpvCKRUk1CBno9dxSf5h4aANWAPoxv5QmvZDjm2xf9hd7hpDSFcnUsMuBjdPHv8sUaxZS1ARoPbwZH8MHATCiQxktGyDSnqirfxTzdzZmu7GiWZKRS5qpmMd52dSYCUQvybh9GZmfELW7Y8ZsoWepHfNvKnK9C2KM5FtkBP6b3aDe4RJ41DgKE688bKviVEyMKEfzij5TfnBFdPmVwAuAycRM3nxJtFzL5JuH6z7D58P8T7h7qM4dirBbk5ETTUCHU51vZqF3pMFyaujawRsMondCKbKf6RvCdKn5UXHDMpeFGMp2VkzGjgmEgi3bpVeGqAfTd3NYHAiaJS81wsQBp6ff6EnbGVGw8DkcttFJPFc4t9hpQxpQ8txazDyPt4qx4SDefC1u2NYAGYGDf8cGWee5kPnarWTZqMXJwiLJtxjjuuymhS3rNSmTvV93jBVoQxrkbFqR2iY8xLxdqPKz8eP8LsycNgCnxUAr2pPenVbHwSsXEJoFTtQ15tJqB7WQciGkUXtTU1xRmiT35xXvfAuWoNih49ZAwcsfnNxrVPZWqCGJ51RmDJaWN42YtCw5s7PNQf3yFRZhHq7CyCHt3sjCbFnSLhzWq58D6srvePjMbimqEfjuMWvYZw19eB6qLrRzUn85DS8ZWeAjVdsHy7cMTdBy7WSqRqakfacoY1v4Y1sTsr9235NX9HTci79Bdaumgv3Cg4zQwBoxU8xV3pTFgc1RwgskF6r61SDprcsrPb3h3G7nz9aodtWCaawni6enabV96YvkYFE5wMMXcE5zkhk8RCktBxqGemB3xcuvj77secB6Lr16LCRcK8UUUn9e6m5EUQasPZBcEerTEWYRNMd6kB1NKP3TQfdo4Ue2MPwcMFkqKb9jv947pP2TZHBKEf3VC3cHf5QDPduvhfi5j1RHwjzwT8m1XoZrYMfMt7KppBJx6imAmoNcHe2YhDjLbut6dH2NYSLsbKZfo7uMBwaegAdFND82wpCN6Lg9HW3ZaB4VuJZc3YvUWQ7Z7t1wR6qbGX9hQTunmaeqxbFLU5ZUkrLCGr5cQgiasxaCVAE2RrjfnG22PjeqkugUKHhcvkvAUHQVo3JXkVutMGCNpQGrw5Lr7u4bzCzk7oeRxRAMgGem7t6fmsvHNgrWyNwXAqUV2iodsDU7s97FGh6eXGrsN8to8pNTAZxiih5XDxTxsLqXUaat2gXQjyRp5StZR8YhhLMmwFKTaWTe6nuk4JVDw1sfeXQQCYFdUn85KR18PgQmjdVkc8bK5yWasdkhncakNj5XN9k2Pg7Ffvd7yohktsX1mgbA7qVEnMmcqskTMadfTeUC8y8LEKHpMb98F1ZJpLjBVrn6SzS2vgbNrtgnV1TcYazc7JMaCY12BQvcwrf5S236eTCgVFbX2JeH1bUVPU6bETSd1FzhjJQzoWhGj5PsMaCRgCLne6qVHLTxbnKjqcNDPnmx7LiUb9BgUnhYepLGfeahXWxwijc8ryKkj96kn9UHqJnsJzJUE9GVT5rnLsasKTVQ3tctHm1ZBvKrnA&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="109-confirm-issue-vc">10.9. Confirm Issue VC<a href="#109-confirm-issue-vc" class="hash-link" aria-label="10.9. Confirm Issue VC에 대한 직접 링크" title="10.9. Confirm Issue VC에 대한 직접 링크">​</a></h3>
<p>VC 발급 거래를 종료한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/confirm-issue-vc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1091-request">10.9.1. Request<a href="#1091-request" class="hash-link" aria-label="10.9.1. Request에 대한 직접 링크" title="10.9.1. Request에 대한 직접 링크">​</a></h4>
<p>월렛이 발급된 VC를 수신하여 저장 후 <code>vcId</code>를 회신한다.
인가앱은 서버토큰, <code>vcId</code>를 전달하여 VC 발급 완료를 요청한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M210_ConfirmIssueVc: &quot;Confirm Issue VC 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;: &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;vcId&quot;       : &quot;VC id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1092-response">10.9.2. Response<a href="#1092-response" class="hash-link" aria-label="10.9.2. Response에 대한 직접 링크" title="10.9.2. Response에 대한 직접 링크">​</a></h4>
<p>서버토큰, 거래코드 일치여부 확인 후 VC 발급 프로토콜을 종료한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드, 서버토큰 일치여부 확인</li>
<li>이슈어에 발급 완료를 요청한다.
<ul>
<li>Complete VC {vcId} API 호출</li>
</ul>
</li>
<li>거래코드, 서버토큰 폐기</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M210_ConfirmIssueVc: &quot;Confirm Issue VC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14001</td><td>Issuer를 찾을 수 없습니다: Issur가 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA14002</td><td>Issuer 등록이 완료되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19003</td><td>인증에 실패했습니다: 제공된 토큰이 유효하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18523</td><td>&#x27;confirm-issue-vc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1093-example">10.9.3. Example<a href="#1093-example" class="hash-link" aria-label="10.9.3. Example에 대한 직접 링크" title="10.9.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/confirm-issue-vc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905170954522000C2C48F3E&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mr9B+5H6PbgSCNilyvvdbwJA05P/LyvC7ijTVkid7qGU&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;vcId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;3f0d51d9-57d3-45d0-98a4-a66ae875ced3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;33d0ac8d-3392-4fcc-88bc-1652fe5fed76&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-p220---vc-폐기-프로토콜">11. P220 - VC 폐기 프로토콜<a href="#11-p220---vc-폐기-프로토콜" class="hash-link" aria-label="11. P220 - VC 폐기 프로토콜에 대한 직접 링크" title="11. P220 - VC 폐기 프로토콜에 대한 직접 링크">​</a></h2>









































<table><thead><tr><th style="text-align:center">Seq.</th><th>API</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>propose-revoke-vc</td><td>VC 폐기 시작 요청</td><td>Y</td></tr><tr><td style="text-align:center">2</td><td>request-ecdh</td><td>ECDH 요청</td><td></td></tr><tr><td style="text-align:center">3</td><td>request-create-token</td><td>서버토큰 생성 요청</td><td>Y</td></tr><tr><td style="text-align:center">4</td><td>request-revoke-vc</td><td>VC 폐기 요청</td><td>Y</td></tr><tr><td style="text-align:center">5</td><td>confirm-revoke-vc</td><td>VC 폐기 완료</td><td>Y</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="111-propose-revoke-vc">11.1. Propose Revoke VC<a href="#111-propose-revoke-vc" class="hash-link" aria-label="11.1. Propose Revoke VC에 대한 직접 링크" title="11.1. Propose Revoke VC에 대한 직접 링크">​</a></h3>
<p>VC 폐기 거래를 시작한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/propose-revoke-vc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1111-request">11.1.1. Request<a href="#1111-request" class="hash-link" aria-label="11.1.1. Request에 대한 직접 링크" title="11.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M220_ProposeRevokeVc: &quot;Propose Revoke VC 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;: &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + vcId &quot;vcId&quot;: &quot;VC id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1112-response">11.1.2. Response<a href="#1112-response" class="hash-link" aria-label="11.1.2. Response에 대한 직접 링크" title="11.1.2. Response에 대한 직접 링크">​</a></h4>
<p><code>vcId</code>로 Issuer를 식별하여 해당 Issuer에 폐기 요청을 전달한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li><code>txId</code> = 거래코드 생성</li>
<li>해당 VC를 발급한 Issuer 식별
<ul>
<li><code>vcId</code>로 <code>VcMeta</code>를 조회하여 Issuer의 DID 확인</li>
<li><code>issuer</code> = Issuer DID 또는 Issuer 식별자</li>
</ul>
</li>
<li>Issuer API &quot;Inspect Propose Revoke&quot; 호출</li>
<li>Issuer의 응답값 (<code>issuerNonce</code>, <code>authType</code>) 회신
<ul>
<li>단, 클라이언트에 회신하는 <code>txId</code>는 TAS가 생성한 것</li>
</ul>
</li>
<li><code>txId</code>, <code>issuer</code> 저장</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M220_ProposeRevokeVc: &quot;Propose Revoke VC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase        &quot;issuerNonce&quot;: &quot;issuer nonce&quot;, byte_length(16)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + VERIFY_AUTH_TYPE &quot;authType&quot;   : &quot;인증수단&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td style="text-align:center">SSRVTRA15005</td><td>블록체인에서 VC 메타데이터를 가져오는데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18518</td><td>VC 해지에 실패했습니다: VC가 이미 해지되었습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18524</td><td>&#x27;propose-revoke-vc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1113-example">11.1.3. Example<a href="#1113-example" class="hash-link" aria-label="11.1.3. Example에 대한 직접 링크" title="11.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/propose-revoke-vc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905171312628000DF5BF781&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;vcId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;5dbebdf0-6b36-4bdf-9ceb-436262986ac9&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;issuerNonce&quot;:&quot;mgvugfUjgDu8wrwb3aeqIFw&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;authType&quot;:6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="112-request-ecdh">11.2. Request ECDH<a href="#112-request-ecdh" class="hash-link" aria-label="11.2. Request ECDH에 대한 직접 링크" title="11.2. Request ECDH에 대한 직접 링크">​</a></h3>
<p>세션 암호화를 위한 키교환을 수행한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-ecdh</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1121-request">11.2.1. Request<a href="#1121-request" class="hash-link" aria-label="11.2.1. Request에 대한 직접 링크" title="11.2.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M220_RequestEcdh: &quot;ECDH 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ReqEcdh &quot;reqEcdh&quot;: &quot;ECDH request data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/reqEcdh</code>
<ul>
<li><code>client</code>: 클라이언트 DID</li>
<li><code>clientNonce</code>: 클라이언트가 생성한 난수</li>
<li><code>curve</code>: ECDH용 ECC 곡선 타입 (클라이언트가 하나를 지정)</li>
<li><code>publicKey</code>: 상기 <code>curve</code> 유형으로 생성한 임시키쌍의 공개키</li>
<li><code>candidate</code>
<ul>
<li><code>ciphers</code>: 클라이언트가 지원하는 cipher 알고리즘 목록</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1122-response">11.2.2. Response<a href="#1122-response" class="hash-link" aria-label="11.2.2. Response에 대한 직접 링크" title="11.2.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li><code>~/reqEcdh/proof</code> 서명 검증</li>
<li>클라이언트 요청값(<code>~/reqEcdh</code>) 정합성 확인 및 cipher 알고리즘 선택
<ul>
<li><code>cipherAlg</code> = cipher 알고리즘 선택</li>
<li><code>padding</code> = 패딩 방식 선택</li>
</ul>
</li>
<li>ECIES 세션키 생성
<ul>
<li><code>clientNonce</code> = <code>~/reqEcdh/clientNonce</code></li>
<li><code>severNonce</code> = 16-byte nonce 생성</li>
<li><code>mergedNonce</code> = sha256(serverNonce, clientNonce)</li>
<li><code>clientPubKey</code> = <code>~/reqEcdh/publicKey</code></li>
<li><code>serverPubKey</code>, <code>serverPriKey</code> = <code>~/reqEcdh/curve</code> 타입의 서버 임시키쌍 생성</li>
<li><code>sesKey</code> = ecies(serverPriKey, clientPubKey, mergedNonce, cipherAlg)</li>
</ul>
</li>
<li>ECDH 정보 저장
<ul>
<li>클라이언트 DID, 거래코드</li>
<li><code>sesKey</code>, <code>cipherAlg</code>, <code>padding</code></li>
</ul>
</li>
<li>ECDH 수락 데이터 생성 및 서명</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M220_RequestEcdh: &quot;Request ECDH 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + AccEcdh &quot;accEcdh&quot;: &quot;ECDH acceptance data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/accEcdh</code>
<ul>
<li><code>server</code>: 서버 DID</li>
<li><code>serverNonce</code>: 서버가 생성한 난수</li>
<li><code>publicKey</code>: 서버가 생성한 임시키쌍의 공개키(<code>serverPubKey</code>)</li>
<li><code>cipher</code>: 클라이언트의 후보 중 서버가 선택한 cipher 알고리즘</li>
<li><code>padding</code>: 서버가 선택한 패딩 방식</li>
</ul>
</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16519</td><td>클라이언트 Nonce 처리 실패: 잘못된 Nonce입니다.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12008</td><td>지원되지 않는 Cipher Type 입니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16504</td><td>Nonce 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16506</td><td>세션키 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16521</td><td>&#x27;request-ecdh&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1123-example">11.2.3. Example<a href="#1123-example" class="hash-link" aria-label="11.2.3. Example에 대한 직접 링크" title="11.2.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-ecdh&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051713129440007B9BB6B2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;reqEcdh&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;client&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;clientNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;zSegsxXNQqEAQxkMszDTnGe&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;curve&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;publicKey&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z29oq32fXbVvD88aDkhMLGibis7Q4wQVusuuebmvdQ3N8G&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T08:13:12Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t?versionId=1#keyagree&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;keyAgreement&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3m2ApFRTgdrBa22TcSekBSwGgsGrqqQM62tYdbQUwivf9chd5YG3QQzxUBJzJpQQ8fEz2iwZMPP8bq8zhRDumhSNJ&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;accEcdh&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;server&quot;:&quot;did:omn:tas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;serverNonce&quot;:&quot;mG7HZMlbiFRZ8xRimSMKiDg&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;publicKey&quot;:&quot;mAjCb4gPcBIzLlCXCDaAB+MGCxRh6LouwBI4tTqVkQb/b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;cipher&quot;:&quot;AES-256-CBC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;padding&quot;:&quot;PKCS5&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;proof&quot;:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;type&quot;:&quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;created&quot;:&quot;2024-09-05T10:57:21.788620Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;verificationMethod&quot;:&quot;did:omn:tas#keyagree&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofPurpose&quot;:&quot;keyAgreement&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         &quot;proofValue&quot;:&quot;mHwUcQPenuvmgl+4enG0dwBiQ+IZxTIF3X9c0PRCZuXTHBPNL0iC6R7dG5+AUXKd5nbWb6ZsCtPccVL+me7wU+34&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="113-request-create-token">11.3. Request Create Token<a href="#113-request-create-token" class="hash-link" aria-label="11.3. Request Create Token에 대한 직접 링크" title="11.3. Request Create Token에 대한 직접 링크">​</a></h3>
<p>인가앱이 TAS에게 서버토큰 생성을 요청한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-create-token</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1131-request">11.3.1. Request<a href="#1131-request" class="hash-link" aria-label="11.3.1. Request에 대한 직접 링크" title="11.3.1. Request에 대한 직접 링크">​</a></h4>
<p>서버토큰을 생성하기 위해서는 아래와 같은 토큰시드를 넘겨줘야 한다.</p>
<ul>
<li><code>(ServerTokenSeed)seed</code>
<ul>
<li><code>purpose</code>: &quot;RevokeVc&quot;</li>
<li><code>walletInfo</code>: 서명된 월렛정보 (월렛 SDK 호출하여 획득)</li>
<li><code>caAppInfo</code>: 서명된 인가앱정보 (인가앱 사업자 API 호출하여 획득)</li>
</ul>
</li>
</ul>
<p>자세한 내용은 [DATA-SPEC]을 참조한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M220_RequestCreateToken: &quot;Request Create Token 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ServerTokenSeed &quot;seed&quot;: &quot;server token seed&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/seed</code>
<ul>
<li><code>purpose</code>: 토큰 사용 목적</li>
<li><code>walletInfo</code>: 서명된 월렛 정보</li>
<li><code>caAppInfo</code>: 서명된 인가앱 정보</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1132-response">11.3.2. Response<a href="#1132-response" class="hash-link" aria-label="11.3.2. Response에 대한 직접 링크" title="11.3.2. Response에 대한 직접 링크">​</a></h4>
<p>클라이언트가 넘겨준 seed 내 서명 검증 후 서버토큰 데이터를 생성하여 응답한다.
응답 데이터는 세션키로 암호화한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>purpose 유효성 확인</li>
<li><code>~/seed</code> 내 proof 서명 검증
<ul>
<li><code>walletInfo.proof</code> 월렛 서명 검증</li>
<li><code>caAppInfo.proof</code> 월렛 사업자 서명 검증</li>
</ul>
</li>
<li>데이터 준비
<ul>
<li>토큰 유효일시 설정</li>
<li>기타 난수 등 생성</li>
</ul>
</li>
<li>상기 데이터를 서명하여 <code>(ServerTokenData)std</code> 생성</li>
<li>서버토큰 생성하여 저장
<ul>
<li><code>serverToken</code> = sha256(std)</li>
</ul>
</li>
<li>응답 데이터 준비
<ul>
<li><code>tmp</code> = enc(std, sesKey, iv, padding)</li>
<li><code>encStd</code> = multibase(tmp)</li>
</ul>
</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M220_RequestCreateToken: &quot;Request Create Token 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;iv&quot;  : &quot;세션키 암복호화 IV&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;encStd&quot;: &quot;multibase(enc((ServerTokenData)std))&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/encStd</code>: 암호화된 서버토큰 데이터</li>
</ul>
<p><strong>■ Status 400 - Client error</strong></p>





















































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12005</td><td>지원하지 않는 &#x27;token purpose&#x27; 입니다.</td></tr><tr><td style="text-align:center">SSRVTRA17502</td><td>Wallet을 찾을 수 없습니다: Wallet이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16510</td><td>서명 검증 실패: 서명이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16511</td><td>서명 검증에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18510</td><td>가입증명서 VC를 찾을 수 없습니다.</td></tr><tr><td style="text-align:center">SSRVTRA12007</td><td>Provider DID가 일치하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18511</td><td>유효하지 않은 가입증명서 VC의 Issuer입니다.</td></tr><tr><td style="text-align:center">SSRVTRA18519</td><td>VC 검증에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>





















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA19000</td><td>서버 토큰 생성에 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19001</td><td>서버 토큰 데이터를 암호화하는 데 실패했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19005</td><td>&#x27;request-create-token&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1133-example">11.3.3. Example<a href="#1133-example" class="hash-link" aria-label="11.3.3. Example에 대한 직접 링크" title="11.3.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-create-token&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409051713135030009A02C148&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;seed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;purpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;walletInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;wallet&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;WID202409HFaOFhPdgvY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z12N48Lbt8cBWtRWSBe41Z4&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T08:13:13Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:3yybwkGEF46BXaqhXSJDhWE7ptN8?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3oUFPoVwmjZ221gToC6BxFkwYpBQ4qb1AQhJwZBTUvKH4qvim9KfZ9ARGvxRJNGx7UH2j7Vx16uyXg35R4oeBCPT5&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;caAppInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;appId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;202409Btz6cMklY2a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;provider&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;certVcRef&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;http://192.168.3.130:8094/cas/api/v1/certificate-vc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mba89KNRDoJKr7eH6kv60mg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T17:13:13.067488Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:cas?versionId=1#assert&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mIAX852dupvgF3P6JsvDNuWwjM1KrRySGBbnVrOzbXIcBE4T42/thIvHNXRZiocTFhCAt21QgUtJRCVCu1xse+lE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;txId&quot;:&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;iv&quot;:&quot;z75M7MfQsC4p2rTxeKxYh2M&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;encStd&quot;:&quot;zHri4iJ8q2mcv4GKmrb3GgnsyY6hT93rbvQir1eAmnqvMrfRcRUTfs16NQvrReuV9hx76X5qSpQ19NVm78ca4jnRuDoqbDwAqmtGPLwUvVaLUFMh6oEXZzfQQ5ds6JHMDvcYpeKCHtmyfUb2W7DbhZNEg9D4Au5TqQomey9A2vWG9FrN91PUg9nfyt9NCfqX6s38JHvedKCjqixBiv4Gs5hk2HNN3aCuS5Y53ACGeADA3cKFHwpJZNYBubHN7QAraBFu5zjWRv4RgK46MnTmfyxXzPLucjeRg9qAUabCJWmb6RwWT1SoUFzk8CMoQtppfn8GDHfcUrhGHEFcU2PYu3kKr97NLGbrpdftha2wVprd4ZKD4YS78pLSeXKGGEsnWU5CatFN7ayZqTU5ZspwZ567SUohWfJZn3XXp9y938rDr5WW1RtWD6UsxFxSY14h7C694DUkNsZKJejcnBxLqdqxbeqRn8AMvx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="114-request-revoke-vc">11.4. Request Revoke VC<a href="#114-request-revoke-vc" class="hash-link" aria-label="11.4. Request Revoke VC에 대한 직접 링크" title="11.4. Request Revoke VC에 대한 직접 링크">​</a></h3>
<ul>
<li>전송: 월렛 → TAS</li>
</ul>
<p>월렛이 VC 폐기를 위한 아래 정보를 생성하여 TAS에 요청한다.</p>
<ul>
<li>VC 폐기요청 정보: 이슈어가 검증</li>
</ul>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/request-revoke-vc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1141-request">11.4.1. Request<a href="#1141-request" class="hash-link" aria-label="11.4.1. Request에 대한 직접 링크" title="11.4.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M220_RequestRevokeVc: &quot;Request Revoke VC 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + mulitbase   &quot;serverToken&quot;: &quot;서버토큰&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + ReqRevokeVc &quot;request&quot;    : &quot;VC 폐기요청 정보&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1142-response">11.4.2. Response<a href="#1142-response" class="hash-link" aria-label="11.4.2. Response에 대한 직접 링크" title="11.4.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드 확인</li>
<li>Issuer API &quot;Revoke VC&quot; 호출</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M220_RequestRevokeVc: &quot;Request Revoke VC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18525</td><td>&#x27;request-revoke-vc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1143-example">11.4.3. Example<a href="#1143-example" class="hash-link" aria-label="11.4.3. Example에 대한 직접 링크" title="11.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/request-revoke-vc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024090517131595900028442B84&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mN4iPCsqBBNuMymZDSZoPdqAVbl2sU8bOM8E8rJCMdj0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;request&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;vcId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;5dbebdf0-6b36-4bdf-9ceb-436262986ac9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;issuerNonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mgvugfUjgDu8wrwb3aeqIFw&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;proof&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Secp256r1Signature2018&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;created&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;2024-09-05T08:13:15Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;verificationMethod&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;did:omn:gagws6YDE6qAGac2MsjPkAQah3t?versionId=1#pin&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofPurpose&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;assertionMethod&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         </span><span class="token property" style="color:#36acaa">&quot;proofValue&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;z3jziv1Z4zsjYiuS9xp4vrEevtH9uHuENFMthJCmQ1eRiBAEYdDqm7CwAfGcat8bsuiJqAbSC468zh1yvCsGGD9jnL&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="115-confirm-revoke-vc">11.5. Confirm Revoke VC<a href="#115-confirm-revoke-vc" class="hash-link" aria-label="11.5. Confirm Revoke VC에 대한 직접 링크" title="11.5. Confirm Revoke VC에 대한 직접 링크">​</a></h3>
<p>VC 폐기 거래를 종료한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/confirm-revoke-vc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1151-request">11.5.1. Request<a href="#1151-request" class="hash-link" aria-label="11.5.1. Request에 대한 직접 링크" title="11.5.1. Request에 대한 직접 링크">​</a></h4>
<p>인가앱은 서버토큰을 전달하여 VC 폐기 완료를 요청한다.</p>
<p><strong>■ Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object M220_ConfirmRevokeVc: &quot;Confirm Revoke VC 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId &quot;id&quot;  : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid      &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Data Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + multibase &quot;serverToken&quot;: &quot;multibase(serverToken)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>~/serverToken</code>: 이전에 생성한 서버토큰</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1152-response">11.5.2. Response<a href="#1152-response" class="hash-link" aria-label="11.5.2. Response에 대한 직접 링크" title="11.5.2. Response에 대한 직접 링크">​</a></h4>
<p>서버토큰 일치여부 확인 후 VC 폐기 프로토콜을 종료한다.</p>
<p><strong>■ Process</strong></p>
<ol>
<li>거래코드, 서버토큰 일치여부 확인</li>
<li>Issuer API &quot;Complete Revoke&quot; 호출</li>
<li>거래코드, 서버토큰 폐기</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _M220_ConfirmRevokeVc: &quot;Confirm Revoke VC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //--- Common Part ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + uuid &quot;txId&quot;: &quot;transaction id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

































<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVISSXXXXX</td><td>Issuer_API 문서를 참고해 주세요.</td></tr><tr><td style="text-align:center">SSRVTRA16000</td><td>트랜잭션을 찾지 못했습니다: 트랜잭션이 존재하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16001</td><td>트랜잭션 처리 실패: 트랜잭션이 유효하지 않습니다.</td></tr><tr><td style="text-align:center">SSRVTRA16002</td><td>트랜잭션 처리 실패: 트랜잭션이 만료되었습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19004</td><td>토큰을 찾을 수 없습니다: 토큰이 등록되지 않았습니다.</td></tr><tr><td style="text-align:center">SSRVTRA19002</td><td>토큰 처리에 실패했습니다: 토큰이 만료되었습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th style="text-align:center">Code</th><th>Description</th></tr></thead><tbody><tr><td style="text-align:center">SSRVTRA15502</td><td>Issuer와 통신에 실패했습니다: 알 수 없는 오류가 발생했습니다.</td></tr><tr><td style="text-align:center">SSRVTRA18526</td><td>&#x27;confirm-revoke-vc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1153-example">11.5.3. Example<a href="#1153-example" class="hash-link" aria-label="11.5.3. Example에 대한 직접 링크" title="11.5.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/confirm-revoke-vc&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;20240905171318372000859B2879&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;txId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;serverToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;mN4iPCsqBBNuMymZDSZoPdqAVbl2sU8bOM8E8rJCMdj0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;txId&quot;:&quot;4bc7e7b9-e666-4a90-9eef-783a33326fd9&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:50px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-단일-호출-api">12. 단일 호출 API<a href="#12-단일-호출-api" class="hash-link" aria-label="12. 단일 호출 API에 대한 직접 링크" title="12. 단일 호출 API에 대한 직접 링크">​</a></h2>
<p>단일 호출 API는 특정 기능을 수행하는 하나의 독립된 API이다.
따라서 순서대로 호출해야 하는 API의 집단인 순차 API(aka, 프로토콜)이 아니므로 프로토콜 번호가 부여되지 않는다.
TAS가 제공하는 단일 호출 API 목록은  아래 표와 같다.</p>







































































<table><thead><tr><th>API</th><th>Path</th><th>Description</th><th>표준API</th></tr></thead><tbody><tr><td><code>get-vcplan-list</code></td><td>/list/api/v1/vcplan/list</td><td>모든 VC Plan 목록 조회</td><td>Y</td></tr><tr><td><code>get-vcplan</code></td><td>/list/api/v1/vcplan</td><td>Id로 VC Plan 조회</td><td>Y</td></tr><tr><td><code>get-allowed-ca-list</code></td><td>/list/api/v1/allowed-ca/list</td><td>월렛에 허용된 CA 목록 조회</td><td>Y</td></tr><tr><td><code>send-email</code></td><td>/noti/api/v1/send-email</td><td>이메일 발송</td><td>N</td></tr><tr><td><code>send-push</code></td><td>/noti/api/v1/send-push</td><td>Push 전송</td><td>N</td></tr><tr><td><code>update-push-token</code></td><td>/api/v1/update-push-token</td><td>Push 토큰 업데이트</td><td>N</td></tr><tr><td><code>get-certificate-vc</code></td><td>/api/v1/certificate-vc</td><td>가입증명서 조회</td><td>N</td></tr><tr><td><code>get-vcschema</code></td><td>/api/v1/vc-schema</td><td>VC 스키마 조회</td><td>N</td></tr><tr><td><code>update-diddoc-deactivated</code></td><td>/api/v1/update-diddoc-deactivated</td><td>DIDDoc 비활성화</td><td>N</td></tr><tr><td><code>update-diddoc-revoked</code></td><td>/api/v1/update-diddoc-revoked</td><td>DIDDoc 폐기</td><td>N</td></tr></tbody></table>
<blockquote>
<p><strong>주의사항</strong></p>
<ul>
<li>현재 Trust Agent는 Noti 사업자와 List 사업자의 역할도 함께 수행하고 있다. URL이 <code>noti</code>와 <code>list</code>로 시작하는 API들은 이러한 기능을 제공하는 API들이다.</li>
<li>사업자 간의 역할을 명확하게 구분하고 혼동을 방지하기 위해, 각 사업자의 API는 <strong>context path</strong>를 구별하여 구성하는 것이 좋다.
<ul>
<li>Trust Agent API: <code>/tas/api/~</code></li>
<li>List API: <code>/list/api/~</code></li>
</ul>
</li>
</ul>
</blockquote>
<p>■ Authorization</p>
<p>프로토콜 에는 &#x27;호출자의 호출 권한을 확인&#x27;(authorization)하는 API가 포함되어 있다.
상기 목록의 단일 호출 API는 authroization에 대하여 정의하지 않았으나,
향후 다음의 방안을 고려하여 추가할 예정이다.</p>
<ul>
<li>1안) 인가앱 사업자가 서명한 <code>AttestedAppInfo</code> 정보를 확인한 후 일정기간 사용이 가능한 토큰을 발급
<ul>
<li>단일 API 호출 시 헤더에 TAS 발행 토큰을 첨부</li>
<li>별도의 토큰 관리 API 필요</li>
</ul>
</li>
<li>2안) 인가앱 사업자가 인가앱에 토큰을 발행하고 TAS가 인가앱 사업자에 토큰 검증을 요청
<ul>
<li>단일 API 호출 시 헤더에 인가앱 사업자 발행 토큰을 첨부</li>
<li>인가앱 사업자가 토큰을 발행하고 검증해주는 기능 구현 필요</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="121-get-vcplan-list">12.1. Get VcPlan List<a href="#121-get-vcplan-list" class="hash-link" aria-label="12.1. Get VcPlan List에 대한 직접 링크" title="12.1. Get VcPlan List에 대한 직접 링크">​</a></h3>
<p>모든 VC plan 목록을 조회한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>GET</code></td><td></td></tr><tr><td>Path</td><td><code>/list/api/v1/vcplan/list</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1211-request">12.1.1. Request<a href="#1211-request" class="hash-link" aria-label="12.1.1. Request에 대한 직접 링크" title="12.1.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>

















<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>- <code>tags</code></td><td><code>string[]</code></td><td>검색할 해시태그</td><td></td></tr></tbody></table>
<ul>
<li><code>tags</code>: 검색할 해시태그를 1개 이상 지정
<ul>
<li>예시: &quot;?tags[]=id&amp;tags[]=student&quot;</li>
</ul>
</li>
</ul>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1212-response">12.1.2. Response<a href="#1212-response" class="hash-link" aria-label="12.1.2. Response에 대한 직접 링크" title="12.1.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>모든 VC plan 조회하여 목록 응답</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _GetVcPlanList: &quot;Get VcPlan List 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + int           &quot;count&quot;: &quot;number of items&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + array(VcPlan) &quot;items&quot;: &quot;VC plan list&quot;, emptiable(false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에   코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA18501</td><td>VC Plan 조회가 실패하였습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA19500</td><td>&#x27;get-vcplan-list&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1213-example">12.1.3. Example<a href="#1213-example" class="hash-link" aria-label="12.1.3. Example에 대한 직접 링크" title="12.1.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X GET &quot;http://${Host}:${Port}/list/api/v1/vcplan/list&quot; </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;count&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;items&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;vcPlanId&quot;: &quot;vcplanid000000000002&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;name&quot;: &quot;National ID Plan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;description&quot;: &quot;It is a VC Plan about National ID&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;tags&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;national&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;credentialSchema&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;id&quot;: &quot;http://192.168.3.130:8091/issuer/api/v1/vc/vcschema?name=national_id&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;OsdSchemaCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;option&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;allowUserInit&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;allowIssuerInit&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;delegatedIssuance&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;allowedIssuers&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;did:omn:issuer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;manager&quot;: &quot;did:omn:issuer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="122-get-vcplan">12.2. Get VcPlan<a href="#122-get-vcplan" class="hash-link" aria-label="12.2. Get VcPlan에 대한 직접 링크" title="12.2. Get VcPlan에 대한 직접 링크">​</a></h3>
<p>VC Plan 정보를 조회한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>GET</code></td><td></td></tr><tr><td>Path</td><td><code>/list/api/v1/vcplan</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1221-request">12.2.1. Request<a href="#1221-request" class="hash-link" aria-label="12.2.1. Request에 대한 직접 링크" title="12.2.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>

















<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>id</code></td><td><code>vcPlanId</code></td><td>조회할 VC plan 식별자</td><td></td></tr></tbody></table>
<p><strong>■ HTTP Body</strong></p>
<p>N/A</p>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1222-response">12.2.2. Response<a href="#1222-response" class="hash-link" aria-label="12.2.2. Response에 대한 직접 링크" title="12.2.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>vcPlanId로 해당 VC plan 정보 조회</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _GetVcPlan: &quot;Get VC Plan 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @spread(VcPlan)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA18501</td><td>VC Plan 조회가 실패하였습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA19501</td><td>&#x27;get-vcplan&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1223-example">12.2.3. Example<a href="#1223-example" class="hash-link" aria-label="12.2.3. Example에 대한 직접 링크" title="12.2.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X GET &quot;http://${Host}:${Port}/list/api/v1/vcplan?id=vcplanid000000000002&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;vcPlanId&quot;: &quot;vcplanid000000000002&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;National ID Plan&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;description&quot;: &quot;It is a VC Plan about National ID&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;tags&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;national&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;credentialSchema&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: &quot;http://192.168.3.130:8091/issuer/api/v1/vc/vcschema?name=national_id&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;type&quot;: &quot;OsdSchemaCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;option&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowUserInit&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;allowIssuerInit&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;delegatedIssuance&quot;: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;allowedIssuers&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;did:omn:issuer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;manager&quot;: &quot;did:omn:issuer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="123-get-allowed-ca-list">12.3. Get Allowed CA List<a href="#123-get-allowed-ca-list" class="hash-link" aria-label="12.3. Get Allowed CA List에 대한 직접 링크" title="12.3. Get Allowed CA List에 대한 직접 링크">​</a></h3>
<ul>
<li>전송: 월렛 → TAS</li>
</ul>
<p>월렛 서비스 별 사용이 허용된 CA 목록을 조회한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>GET</code></td><td></td></tr><tr><td>Path</td><td><code>/list/api/v1/allowed-ca/list</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1231-request">12.3.1. Request<a href="#1231-request" class="hash-link" aria-label="12.3.1. Request에 대한 직접 링크" title="12.3.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>

















<table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>wallet</code></td><td><code>walletServiceId</code></td><td>월렛 서비스 식별자</td><td></td></tr></tbody></table>
<ul>
<li><code>wallet</code>
<ul>
<li>월렛 사업자가 월렛 서비스를 목록 사업자에 등록할 때 목록 사업자로부터 할당 받은 식별자</li>
<li>월렛 SDK 빌드 시 고정된 상수값으로 정의되어 있으므로 월렛 인스턴스는 이미 알고 있는 값</li>
</ul>
</li>
</ul>
<p><strong>■ HTTP Body</strong></p>
<p>N/A</p>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1232-response">12.3.2. Response<a href="#1232-response" class="hash-link" aria-label="12.3.2. Response에 대한 직접 링크" title="12.3.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li><code>wallet</code>으로 해당 월렛 서비스의 사용이 허용된 CA 목록을 조회</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _GetAllowedCaList: &quot;Get Allowed CA List 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + int           &quot;count&quot;: &quot;number of items&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + array(string) &quot;items&quot;: &quot;list of pakcage name of allowed CA&quot;, emptiable(false) </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA12012</td><td>허용된 CA 목록을 찾지 못했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA19502</td><td>&#x27;get-allowed-ca-list&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1233-example">12.3.3. Example<a href="#1233-example" class="hash-link" aria-label="12.3.3. Example에 대한 직접 링크" title="12.3.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X GET &quot;http://${Host}:${Port}/list/api/v1/allowed-ca/list?wallet=org.omnione.did.sdk.wallet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;count&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;items&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;org.omnione.did.ca&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="124-send-email">12.4. Send Email<a href="#124-send-email" class="hash-link" aria-label="12.4. Send Email에 대한 직접 링크" title="12.4. Send Email에 대한 직접 링크">​</a></h3>
<p>이메일을 발송한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/noti/api/v1/send-email </code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1241-request">12.4.1. Request<a href="#1241-request" class="hash-link" aria-label="12.4.1. Request에 대한 직접 링크" title="12.4.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object SendEmail: &quot;Send Email 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string                &quot;title&quot;             : &quot;email 제목&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string                &quot;senderAddress&quot;     : &quot;발신자 이메일 주소&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string                &quot;recipientAddress&quot;  : &quot;수신자 이메일 주소&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + EMAIL_TEMPLATE_TYPE   &quot;email&quot;             : &quot;email 템플릿 데이터&quot; // A.2. EmailTemplate Object 참고</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1242-response">12.4.2. Response<a href="#1242-response" class="hash-link" aria-label="12.4.2. Response에 대한 직접 링크" title="12.4.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>템플릿 타입으로 템플릿 파일 확인</li>
<li>동적 변환 데이터 적용</li>
<li>이메일 발송</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _SendEmail: &quot;Send Email 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>

















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA13500</td><td>이메일 템플릿 조회가 실패했습니다.</td></tr><tr><td>SSRVTRA15504</td><td>이메일 전송에 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA20000</td><td>&#x27;send-email&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1243-example">12.4.3. Example<a href="#1243-example" class="hash-link" aria-label="12.4.3. Example에 대한 직접 링크" title="12.4.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/noti/api/v1/send-email&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;senderAddress&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sender@example.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;email&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Certificate Issuance Request&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;recipientAddress&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test@exmaple.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;templateType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ISSUE_VC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;contentData&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;issuerName&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;issuer&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;qrImg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ata:PNG;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsAQAAAABRBrPYAAABO0lEQVR4Xu2W0a3FIAxDu0H337Ib5JE4CbzoDoAlWwgF59AfQ9vnab1m37PGkpmt5W6dEjZ0Iba6IfejTqCW7ghjw7b5eeiuL51/gDBCDLUz540WxoyhhQPQu+YsjAGDzuVT0WdLGBfWQtbn+ClhQ/dhmS5UX1vc6NMfS2FjeRW2c4/Z+o5//v3tIYwI80bAKLrGltxVXWEUWJsY5/Y+AMK4sITDQTcBKydIYUQYgO1E9GeRTxBGhEGrtn1/fWFV10OE0WDvjhh8Oh19PUcYExa5uwLuYvjCmLBxBir30xdWEAGGbCHYWUfumK1f2mgJuxvbet3EcB/1OAbCKDCEi5TrrymXPQtjw3KuoJ081QBmYXRYvLS9iNxR4DwIo8RiuAk+tmCXMC4s62KGL4wPayH6krd7yylhQ9dhfwRaevkHFSGQAAAAAElFTkSuQmCC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;qrExpiredDate&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2030-01-01T09:00:00Z&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="125-send-push">12.5. Send push<a href="#125-send-push" class="hash-link" aria-label="12.5. Send push에 대한 직접 링크" title="12.5. Send push에 대한 직접 링크">​</a></h3>
<p>Push 메시지를 전송한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/noti/noti/api/v1/send-push </code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1251-request">12.5.1. Request<a href="#1251-request" class="hash-link" aria-label="12.5.1. Request에 대한 직접 링크" title="12.5.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object SendPush: &quot;Send Push 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + FcmNotification &quot;notification&quot;: &quot;Fcm Notification 정보&quot;: // A.3. FcmNotification Object 참고</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + map(contentKey, contentValue) &quot;data&quot;: &quot;Push 데이터&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + array(string) &quot;targetDids&quot;: &quot;Push 발송 대상 DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1252-response">12.5.2. Response<a href="#1252-response" class="hash-link" aria-label="12.5.2. Response에 대한 직접 링크" title="12.5.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>targetDids로 Push 토큰 조회</li>
<li>notification와 data로 Push 메시지 생성</li>
<li>Push 메시지 전송</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _SendPush: &quot;Send Email 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + int &quot;successCount&quot;: &quot;Push 전송 성공 횟수&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + int &quot;failureCount&quot;: &quot;Push 전송 실패 횟수&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA17002</td><td>사용자를 찾을 수 없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA17004</td><td>앱을 찾을 수 없습니다: 앱이 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA17007</td><td>Push 토큰을 조회할 수 없습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA13501</td><td>FCM 메시지 전송에 실패했습니다.</td></tr><tr><td>SSRVTRA20001</td><td>&#x27;send-push&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1253-example">12.5.3. Example<a href="#1253-example" class="hash-link" aria-label="12.5.3. Example에 대한 직접 링크" title="12.5.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/noti/api/v1/send-push&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;notification&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Open DID&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;body&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;Issuer has requested a certificate issuance. Please complete the certificate issuance after verification.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;payloadType&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;ISSUE_VC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;payload&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{\&quot;issuer\&quot;:\&quot;IssuerName\&quot;,\&quot;offerId\&quot;:\&quot;12345\&quot;,\&quot;type\&quot;:\&quot;IssueOffer\&quot;,\&quot;validUntil\&quot;:\&quot;2024-12-31T23:59:59Z\&quot;,\&quot;vcPlanId\&quot;:\&quot;vc-plan-001\&quot;}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token property" style="color:#36acaa">&quot;targetDids&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;successCount&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;failureCount&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="126-update-push-token">12.6. Update Push Token<a href="#126-update-push-token" class="hash-link" aria-label="12.6. Update Push Token에 대한 직접 링크" title="12.6. Update Push Token에 대한 직접 링크">​</a></h3>
<p>사용자의 Push Token을 업데이트 한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/update-push-token</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1261-request">12.6.1. Request<a href="#1261-request" class="hash-link" aria-label="12.6.1. Request에 대한 직접 링크" title="12.6.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object UpdatePushToken: &quot;Update Push Token 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + messageId     &quot;id&quot;        : &quot;message id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + did           &quot;did&quot;       : &quot;user DID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + appId         &quot;appId&quot;     : &quot;user&#x27;s app id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string        &quot;pushToken&quot; : &quot;push Token&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1262-response">12.6.2. Response<a href="#1262-response" class="hash-link" aria-label="12.6.2. Response에 대한 직접 링크" title="12.6.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>did, appId로 사용자의 appId 기 등록 여부 확인</li>
<li>did와 proof.verificationMethod의 DID가 일치하는지 확인</li>
<li>push token 갱신</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _UpdatePushToken: &quot;Update Push Token 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA17002</td><td>사용자를 찾을 수  없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA17004</td><td>앱을 찾을 수 없습니다: 앱이 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA17005</td><td>앱 인증 실패: app ID가 일치하지 않습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA20021</td><td>&#x27;update-push-token&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1263-example">12.6.3. Example<a href="#1263-example" class="hash-link" aria-label="12.6.3. Example에 대한 직접 링크" title="12.6.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/noti/api/v1/update-push-token&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2024090517131595900028442B84&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;did&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;did:omn:2kEDLDEjCxNUCPBL4VMJ7hmDAdHc&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;appId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AID202409a55b4824004&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;pushToken&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;mTxLuItPeGMYEz+6qoJx8vTyhCQH596dGw7GPruaEJcM&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="127-get-certificate-vc">12.7. Get Certificate Vc<a href="#127-get-certificate-vc" class="hash-link" aria-label="12.7. Get Certificate Vc에 대한 직접 링크" title="12.7. Get Certificate Vc에 대한 직접 링크">​</a></h3>
<p>Trust Agent의의 가입증명서를 조회한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>GET</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/certificate-vc</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1271-request">12.7.1. Request<a href="#1271-request" class="hash-link" aria-label="12.7.1. Request에 대한 직접 링크" title="12.7.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<p>N/A</p>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1272-response">12.7.2. Response<a href="#1272-response" class="hash-link" aria-label="12.7.2. Response에 대한 직접 링크" title="12.7.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>Trust Agent의 가입증명서 조회</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _GetCertificateVc: &quot;Get Certificate VC 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @spread(Vc)  // 데이터 명세서 참고</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>
<p>N/A</p>
<p><strong>■ Status 500 - Server error</strong></p>

















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA13002</td><td>가입증명서를 조회할 수 업습니다.</td></tr><tr><td>SSRVTRA13007</td><td>&#x27;get-certificate-vc&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1273-example">12.7.3. Example<a href="#1273-example" class="hash-link" aria-label="12.7.3. Example에 대한 직접 링크" title="12.7.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X GET &quot;http://${Host}:${Port}/tas/api/v1/certificate-vc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;@context&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;https://www.w3.org/ns/credentials/v2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;credentialSchema&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: &quot;http://192.168.3.130:8090/tas/api/v1/vc-schema?name=certificate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;type&quot;: &quot;OsdSchemaCredential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;claims&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;caption&quot;: &quot;subject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;code&quot;: &quot;org.opendid.v1.subject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;format&quot;: &quot;plain&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;hideValue&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;text&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;o=raonsecure&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;caption&quot;: &quot;role&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;code&quot;: &quot;org.opendid.v1.role&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;format&quot;: &quot;plain&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;hideValue&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;text&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;value&quot;: &quot;Tas&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: &quot;did:omn:tas&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;encoding&quot;: &quot;UTF-8&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;evidence&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;attribute&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;licenseNumber&quot;: &quot;1234567890&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;documentPresence&quot;: &quot;Physical&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;evidenceDocument&quot;: &quot;BusinessLicense&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;subjectPresence&quot;: &quot;Physical&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type&quot;: &quot;DocumentVerification&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;verifier&quot;: &quot;did:omn:tas&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;formatVersion&quot;: &quot;1.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;id&quot;: &quot;1b4b6060-002b-4a38-baa5-b58ec2b16429&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;issuanceDate&quot;: &quot;2024-09-19T08:12:50Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;issuer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;id&quot;: &quot;did:omn:tas&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;raonsecure&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;language&quot;: &quot;ko&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;proof&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;created&quot;: &quot;2024-09-19T08:12:50Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;proofPurpose&quot;: &quot;assertionMethod&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;proofValue&quot;: &quot;mHzLsgf/JQl/LWvmrFGK2DoQESCGaPHy+hSHCdvGaTPifSDkuGfa8IjbozFMQ4ckvy7sdUgI1sxxyObGreY54bwc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;proofValueList&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;mICUxu55QHEJyOdQQu7xrbqgRinOXIcwtR5sY1/dM+a7vJPSx+NmNj//HMZ30vXswyZ3+ShAoKRkaYm2HoTHVIhM&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;mIPxU5gwO0hpTVria65TwFDaTB5bkAZ+PNR2mg88qPjHYCHPD16fTP5bJK+zeORG9lESd1euwlPHl5JBClB9n96Y&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;type&quot;: &quot;Secp256r1Signature2018&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;verificationMethod&quot;: &quot;did:omn:tas?versionId=1#assert&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;VerifiableCredential&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;CertificateVC&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;validFrom&quot;: &quot;2024-09-19T08:12:50Z&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;validUntil&quot;: &quot;2025-09-19T08:12:50Z&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="128-get-vc-schema">12.8. Get Vc Schema<a href="#128-get-vc-schema" class="hash-link" aria-label="12.8. Get Vc Schema에 대한 직접 링크" title="12.8. Get Vc Schema에 대한 직접 링크">​</a></h3>
<p>VC Schema를 조회한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>GET</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/vc-schema</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1281-request">12.8.1. Request<a href="#1281-request" class="hash-link" aria-label="12.8.1. Request에 대한 직접 링크" title="12.8.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>















<table><thead><tr><th>name</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>name</code></td><td><code>VC Schema 이름</code></td><td></td></tr></tbody></table>
<p><strong>■ HTTP Body</strong></p>
<p>N/A</p>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1282-response">12.8.2. Response<a href="#1282-response" class="hash-link" aria-label="12.8.2. Response에 대한 직접 링크" title="12.8.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>name으로 VC Schema 조회</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _GetVcSchema: &quot;Get VC Schema 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @spread(VcSchema)  // 데이터 명세서 참고</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>
<p>N/A</p>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA18530</td><td>&#x27;get-vc-schema&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1283-example">12.8.3. Example<a href="#1283-example" class="hash-link" aria-label="12.8.3. Example에 대한 직접 링크" title="12.8.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X GET &quot;http://${Host}:${Port}/tas/api/v1/vc-schema?name=certificate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;@id&quot;: &quot;http://192.168.3.130:8090/tas/api/v1/vc-schema?name=certificate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;@schema&quot;: &quot;https://opendid.org/schema/vc.osd&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;title&quot;: &quot;OpenDID Certificate Verifiable Credential&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;description&quot;: &quot;VC-formatted OpenDID enrollment certificate.&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;metadata&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;language&quot;: &quot;ko&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;formatVersion&quot;: &quot;1.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;credentialSubject&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;claims&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;namespace&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;id&quot;: &quot;org.opendid.v1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;name&quot;: &quot;OpenDID - Certificate Verifiable Credential&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;items&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;id&quot;: &quot;subject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;caption&quot;: &quot;subject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;text&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;format&quot;: &quot;plain&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;id&quot;: &quot;role&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;caption&quot;: &quot;role&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;type&quot;: &quot;text&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;format&quot;: &quot;plain&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="129-update-diddoc-deactivated">12.9. Update DidDoc Deactivated<a href="#129-update-diddoc-deactivated" class="hash-link" aria-label="12.9. Update DidDoc Deactivated에 대한 직접 링크" title="12.9. Update DidDoc Deactivated에 대한 직접 링크">​</a></h3>
<p>사용자 DID Document를 비활성화 한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/tas/api/v1/update-diddoc-deactivated</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1291-request">12.9.1. Request<a href="#1291-request" class="hash-link" aria-label="12.9.1. Request에 대한 직접 링크" title="12.9.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object UpdateDidDocDeactivated: &quot;DidDoc 분실 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string    &quot;kycTxId&quot;           : &quot;KYC 식별자&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1292-response">12.9.2. Response<a href="#1292-response" class="hash-link" aria-label="12.9.2. Response에 대한 직접 링크" title="12.9.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>KYC 서버로 PII 확인</li>
<li>PII로 사용자 정보 확인</li>
<li>DidDoc이 변경 가능한 상태인지 확인</li>
<li>DidDoc 상태 변경 (deactivated)</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _UpdateDidDocDeactivated: &quot;DidDoc 분실 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA17002</td><td>사용자를 찾을 수 없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA15002</td><td>블록체인에서 DID Document를 조회하는데 실패했습니다.</td></tr><tr><td>SSRVTRA15003</td><td>DID Document를 업데이트하는데 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA20022</td><td>&#x27;update-diddoc-deactivated&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1293-example">12.9.3. Example<a href="#1293-example" class="hash-link" aria-label="12.9.3. Example에 대한 직접 링크" title="12.9.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/update-diddoc-deactivated&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;kycTxId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;4c6ea067&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1210-update-diddoc-revoked">12.10. Update DidDoc Revoked<a href="#1210-update-diddoc-revoked" class="hash-link" aria-label="12.10. Update DidDoc Revoked에 대한 직접 링크" title="12.10. Update DidDoc Revoked에 대한 직접 링크">​</a></h3>
<p>사용자 DID Document를 폐기 처리한다.</p>

























<table><thead><tr><th>Item</th><th>Description</th><th>Remarks</th></tr></thead><tbody><tr><td>Method</td><td><code>POST</code></td><td></td></tr><tr><td>Path</td><td><code>/api/v1/update-diddoc-revoked</code></td><td></td></tr><tr><td>Authorization</td><td>-</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12101-request">12.10.1. Request<a href="#12101-request" class="hash-link" aria-label="12.10.1. Request에 대한 직접 링크" title="12.10.1. Request에 대한 직접 링크">​</a></h4>
<p><strong>■ HTTP Headers</strong></p>















<table><thead><tr><th>Header</th><th>Value</th><th>Remarks</th></tr></thead><tbody><tr><td>+ <code>Content-Type</code></td><td><code>application/json;charset=utf-8</code></td><td></td></tr></tbody></table>
<p><strong>■ Path Parameters</strong></p>
<p>N/A</p>
<p><strong>■ Query Parameters</strong></p>
<p>N/A</p>
<p><strong>■ HTTP Body</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object UpdateDidDocRevoked: &quot;DidDoc 폐기 요청문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string    &quot;kycTxId&quot;           : &quot;KYC 식별자&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12102-response">12.10.2. Response<a href="#12102-response" class="hash-link" aria-label="12.10.2. Response에 대한 직접 링크" title="12.10.2. Response에 대한 직접 링크">​</a></h4>
<p><strong>■ Process</strong></p>
<ol>
<li>KYC 서버로 PII 확인</li>
<li>PII로 사용자 정보 확인</li>
<li>DidDoc이 변경 가능한 상태인지 확인</li>
<li>DidDoc 상태 변경 (revoked)</li>
</ol>
<p><strong>■ Status 200 - Success</strong></p>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object _UpdateDidDocRevoked: &quot;DidDoc 폐기 응답문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Status 400 - Client error</strong></p>





















<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA17002</td><td>사용자를 찾을 수 없습니다: 사용자가 등록되지 않았습니다.</td></tr><tr><td>SSRVTRA15002</td><td>블록체인에서 DID Document를 조회하는데 실패했습니다.</td></tr><tr><td>SSRVTRA15003</td><td>DID Document를 업데이트하는데 실패했습니다.</td></tr></tbody></table>
<p><strong>■ Status 500 - Server error</strong></p>













<table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>SSRVTRA20023</td><td>&#x27;update-diddoc-revoked&#x27; API 요청 처리에 실패했습니다.</td></tr></tbody></table>
<div style="page-break-after:always;margin-top:30px"></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="12103-example">12.10.3. Example<a href="#12103-example" class="hash-link" aria-label="12.10.3. Example에 대한 직접 링크" title="12.10.3. Example에 대한 직접 링크">​</a></h4>
<p><strong>■ Request</strong></p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -v -X POST &quot;http://${Host}:${Port}/tas/api/v1/update-diddoc-revoked&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-H &quot;Content-Type: application/json;charset=utf-8&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d @&quot;data.json&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//data.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;kycTxId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;4c6ea067&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>■ Response</strong></p>
<div class="language-http codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-http codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Content-Type: application/json;charset=utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="page-break-after:always;margin-top:40px"></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-non-standard-object-definitions">A. Non-standard Object Definitions<a href="#a-non-standard-object-definitions" class="hash-link" aria-label="A. Non-standard Object Definitions에 대한 직접 링크" title="A. Non-standard Object Definitions에 대한 직접 링크">​</a></h2>
<p>비표준 API는 구현체에 따라 다르게 정의될 수 있으므로, 사용하는 객체들은 본 문서의 데이터 명세서에 포함되지 않고 이 장에서 따로 정의한다.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a1-constant">A.1. Constant<a href="#a1-constant" class="hash-link" aria-label="A.1. Constant에 대한 직접 링크" title="A.1. Constant에 대한 직접 링크">​</a></h3>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def enum EMAIL_TEMPLATE_TYPE: &quot;character encoding&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ISSUE_VC&quot; // VC 발급</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a2-emailtemplate-object">A.2. EmailTemplate Object<a href="#a2-emailtemplate-object" class="hash-link" aria-label="A.2. EmailTemplate Object에 대한 직접 링크" title="A.2. EmailTemplate Object에 대한 직접 링크">​</a></h3>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object EmailTemplate: &quot;email 템플릿 정보&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + EMAIL_TEMPLATE_TYPE               &quot;templateType&quot;      : &quot;이메일 템플릿 타입&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + map(contentKey, contentValue)     &quot;contentData&quot;       : &quot;이메일 동적 변환 데이터&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a3-fcmnotification-object">A.3. FcmNotification Object<a href="#a3-fcmnotification-object" class="hash-link" aria-label="A.3. FcmNotification Object에 대한 직접 링크" title="A.3. FcmNotification Object에 대한 직접 링크">​</a></h3>
<div class="language-c# codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c# codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">def object FcmNotification: &quot;FCM Notification 정보&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string               &quot;title&quot;      : &quot;Push 메시지 타이틀&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    + string               &quot;body&quot;       : &quot;Push 메시지 분문&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Server/did-ta-server/docs/api/TAS_API_ko.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/architecture/ko/docs/next/Server/did-ta-server/dependencies-license"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">Project Dependency License Report</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/architecture/ko/docs/next/Server/did-ta-server/docs/db/OpenDID_TableDefinition_TAS"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">Open DID TAS Database Table Definition</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#목차" class="table-of-contents__link toc-highlight">목차</a></li><li><a href="#1-개요" class="table-of-contents__link toc-highlight">1. 개요</a></li><li><a href="#2-용어-설명" class="table-of-contents__link toc-highlight">2. 용어 설명</a></li><li><a href="#3-api-목록" class="table-of-contents__link toc-highlight">3. API 목록</a><ul><li><a href="#31-순차-api" class="table-of-contents__link toc-highlight">3.1. 순차 API</a></li><li><a href="#32-단일호출-api" class="table-of-contents__link toc-highlight">3.2. 단일호출 API</a></li></ul></li><li><a href="#4-p110---tas-등록-프로토콜" class="table-of-contents__link toc-highlight">4. P110 - TAS 등록 프로토콜</a><ul><li><a href="#41-request-enroll-tas" class="table-of-contents__link toc-highlight">4.1. Request Enroll TAS</a></li></ul></li><li><a href="#5-p120---entity-등록-프로토콜" class="table-of-contents__link toc-highlight">5. P120 - Entity 등록 프로토콜</a><ul><li><a href="#51-propose-enroll-entity" class="table-of-contents__link toc-highlight">5.1. Propose Enroll Entity</a></li><li><a href="#52-request-ecdh" class="table-of-contents__link toc-highlight">5.2. Request ECDH</a></li><li><a href="#53-request-enroll-entity" class="table-of-contents__link toc-highlight">5.3. Request Enroll Entity</a></li><li><a href="#54-confirm-enroll-entity" class="table-of-contents__link toc-highlight">5.4. Confirm Enroll Entity</a></li></ul></li><li><a href="#6-p131---월렛-등록-프로토콜" class="table-of-contents__link toc-highlight">6. P131 - 월렛 등록 프로토콜</a><ul><li><a href="#61-request-register-wallet" class="table-of-contents__link toc-highlight">6.1. Request Register Wallet</a></li></ul></li><li><a href="#7-p132---사용자-등록-프로토콜" class="table-of-contents__link toc-highlight">7. P132 - 사용자 등록 프로토콜</a><ul><li><a href="#71-propose-register-user" class="table-of-contents__link toc-highlight">7.1. Propose Register User</a></li><li><a href="#72-request-ecdh" class="table-of-contents__link toc-highlight">7.2. Request ECDH</a></li><li><a href="#73-request-create-token" class="table-of-contents__link toc-highlight">7.3. Request Create Token</a></li><li><a href="#74-retrieve-kyc" class="table-of-contents__link toc-highlight">7.4. Retrieve KYC</a></li><li><a href="#75-request-register-user" class="table-of-contents__link toc-highlight">7.5. Request Register User</a></li><li><a href="#76-confirm-register-user" class="table-of-contents__link toc-highlight">7.6. Confirm Register User</a></li></ul></li><li><a href="#8-p141---사용자-did-document-갱신-프로토콜" class="table-of-contents__link toc-highlight">8. P141 - 사용자 DID Document 갱신 프로토콜</a><ul><li><a href="#81-propose-update-diddoc" class="table-of-contents__link toc-highlight">8.1. Propose Update DidDoc</a></li><li><a href="#82-request-ecdh" class="table-of-contents__link toc-highlight">8.2. Request ECDH</a></li><li><a href="#83-request-create-token" class="table-of-contents__link toc-highlight">8.3. Request Create Token</a></li><li><a href="#84-request-update-diddoc" class="table-of-contents__link toc-highlight">8.4. Request Update DidDoc</a></li><li><a href="#85-confirm-update-diddoc" class="table-of-contents__link toc-highlight">8.5. Confirm Update DidDoc</a></li></ul></li><li><a href="#9-p142---사용자-did-document-복구-프로토콜" class="table-of-contents__link toc-highlight">9. P142 - 사용자 DID Document 복구 프로토콜</a><ul><li><a href="#91-offer-restore-diddoc-push" class="table-of-contents__link toc-highlight">9.1. Offer Restore DidDoc (Push)</a></li><li><a href="#92-offer-restore-diddoc-email" class="table-of-contents__link toc-highlight">9.2. Offer Restore DidDoc (Email)</a></li><li><a href="#93-propose-restore-diddoc" class="table-of-contents__link toc-highlight">9.3. Propose Restore DidDoc</a></li><li><a href="#94-request-ecdh" class="table-of-contents__link toc-highlight">9.4. Request ECDH</a></li><li><a href="#95-request-create-token" class="table-of-contents__link toc-highlight">9.5. Request Create Token</a></li><li><a href="#96-request-restore-diddoc" class="table-of-contents__link toc-highlight">9.6. Request Restore DidDoc</a></li><li><a href="#97-confirm-restore-diddoc" class="table-of-contents__link toc-highlight">9.7. Confirm Restore DidDoc</a></li></ul></li><li><a href="#10-p210---vc-발급-프로토콜" class="table-of-contents__link toc-highlight">10. P210 - VC 발급 프로토콜</a><ul><li><a href="#101-offer-issue-vc-qr" class="table-of-contents__link toc-highlight">10.1 Offer Issue VC (QR)</a></li><li><a href="#102-offer-issue-vc-push" class="table-of-contents__link toc-highlight">10.2 Offer Issue VC (Push)</a></li><li><a href="#103-offer-issue-vc-email" class="table-of-contents__link toc-highlight">10.3 Offer Issue VC (Email)</a></li><li><a href="#104-propose-issue-vc" class="table-of-contents__link toc-highlight">10.4. Propose Issue VC</a></li><li><a href="#105-request-ecdh" class="table-of-contents__link toc-highlight">10.5. Request ECDH</a></li><li><a href="#106-request-create-token" class="table-of-contents__link toc-highlight">10.6. Request Create Token</a></li><li><a href="#107-request-issue-profile" class="table-of-contents__link toc-highlight">10.7. Request Issue Profile</a></li><li><a href="#108-request-issue-vc" class="table-of-contents__link toc-highlight">10.8. Request Issue VC</a></li><li><a href="#109-confirm-issue-vc" class="table-of-contents__link toc-highlight">10.9. Confirm Issue VC</a></li></ul></li><li><a href="#11-p220---vc-폐기-프로토콜" class="table-of-contents__link toc-highlight">11. P220 - VC 폐기 프로토콜</a><ul><li><a href="#111-propose-revoke-vc" class="table-of-contents__link toc-highlight">11.1. Propose Revoke VC</a></li><li><a href="#112-request-ecdh" class="table-of-contents__link toc-highlight">11.2. Request ECDH</a></li><li><a href="#113-request-create-token" class="table-of-contents__link toc-highlight">11.3. Request Create Token</a></li><li><a href="#114-request-revoke-vc" class="table-of-contents__link toc-highlight">11.4. Request Revoke VC</a></li><li><a href="#115-confirm-revoke-vc" class="table-of-contents__link toc-highlight">11.5. Confirm Revoke VC</a></li></ul></li><li><a href="#12-단일-호출-api" class="table-of-contents__link toc-highlight">12. 단일 호출 API</a><ul><li><a href="#121-get-vcplan-list" class="table-of-contents__link toc-highlight">12.1. Get VcPlan List</a></li><li><a href="#122-get-vcplan" class="table-of-contents__link toc-highlight">12.2. Get VcPlan</a></li><li><a href="#123-get-allowed-ca-list" class="table-of-contents__link toc-highlight">12.3. Get Allowed CA List</a></li><li><a href="#124-send-email" class="table-of-contents__link toc-highlight">12.4. Send Email</a></li><li><a href="#125-send-push" class="table-of-contents__link toc-highlight">12.5. Send push</a></li><li><a href="#126-update-push-token" class="table-of-contents__link toc-highlight">12.6. Update Push Token</a></li><li><a href="#127-get-certificate-vc" class="table-of-contents__link toc-highlight">12.7. Get Certificate Vc</a></li><li><a href="#128-get-vc-schema" class="table-of-contents__link toc-highlight">12.8. Get Vc Schema</a></li><li><a href="#129-update-diddoc-deactivated" class="table-of-contents__link toc-highlight">12.9. Update DidDoc Deactivated</a></li><li><a href="#1210-update-diddoc-revoked" class="table-of-contents__link toc-highlight">12.10. Update DidDoc Revoked</a></li></ul></li><li><a href="#a-non-standard-object-definitions" class="table-of-contents__link toc-highlight">A. Non-standard Object Definitions</a><ul><li><a href="#a1-constant" class="table-of-contents__link toc-highlight">A.1. Constant</a></li><li><a href="#a2-emailtemplate-object" class="table-of-contents__link toc-highlight">A.2. EmailTemplate Object</a></li><li><a href="#a3-fcmnotification-object" class="table-of-contents__link toc-highlight">A.3. FcmNotification Object</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© OMNIONE.LTD All rights reserved.</div></div></div></footer></div>
</body>
</html>